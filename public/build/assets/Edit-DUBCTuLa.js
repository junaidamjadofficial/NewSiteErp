import{j as e}from"./ui-ZHFf5B17.js";import{a as J,b as W,c as G}from"./dialog-BLwxprq_.js";import{X as H,G as O,a as T}from"./app-BBiA4mAE.js";import{B as L}from"./button-DYC7yMVq.js";import{L as a}from"./label-DbqhUtKI.js";import{I as l}from"./input-error-DuIbBMgZ.js";import{I as x}from"./input-DqOfVTcn.js";import{S as p,a as j,b as g,c as v,d as o}from"./select-BEhl2QER.js";import{M as P}from"./multi-select-enhanced-C0hF2-Yw.js";import{D as X}from"./date-picker-CVthJV3y.js";import{r as h}from"./vendor-CcMVubkO.js";import{u as z}from"./useTranslation-CV4_gBnb.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./popover-fYI5j510.js";import"./badge-CV60sqBJ.js";import"./react-datepicker-BHcKmBHW.js";import"./calendar-DvmJ2XsD.js";function Ie({interview:d,onSuccess:w}){var C,y,I,k,D,F,N,q;const{candidates:_,jobpostings:M,interviewrounds:R,interviewtypes:m,employees:c}=H().props,[A,K]=h.useState(M||[]),[u,f]=h.useState(R||[]),[Q,Y]=h.useState(m||[]),[V,S]=h.useState(!1),{t:i}=z(),{data:r,setData:s,put:U,processing:b,errors:n}=O({scheduled_date:d.scheduled_date??"",scheduled_time:d.scheduled_time??"",duration:d.duration??"",location:d.location??"",meeting_link:d.meeting_link??"",interviewer_ids:d.interviewer_ids||[],status:((C=d.status)==null?void 0:C.toString())??"0",candidate_id:((y=d.candidate_id)==null?void 0:y.toString())||"",round_id:((I=d.round_id)==null?void 0:I.toString())||"",interview_type_id:((k=d.interview_type_id)==null?void 0:k.toString())||""});h.useEffect(()=>{r.candidate_id?(T.get(route("recruitment.candidates.interview-rounds",r.candidate_id)).then(t=>{f(t.data)}).catch(()=>{f([])}),T.get(route("recruitment.candidates.job-location",r.candidate_id)).then(t=>{const E=t.data.remote_work;S(E),E&&s("location","Online")}).catch(()=>{S(!1)})):(f([]),s("round_id",""),S(!1))},[r.candidate_id]);const B=t=>{t.preventDefault(),U(route("recruitment.interviews.update",d.id),{onSuccess:()=>{w()}})};return e.jsxs(J,{children:[e.jsx(W,{children:e.jsx(G,{children:i("Edit Interview")})}),e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(a,{htmlFor:"candidate_id",required:!0,children:[i("Candidate")," "]}),e.jsxs(p,{value:((D=r.candidate_id)==null?void 0:D.toString())||"",onValueChange:t=>s("candidate_id",t),required:!0,children:[e.jsx(j,{children:e.jsx(g,{placeholder:i("Select Candidate")})}),e.jsx(v,{children:_.map(t=>e.jsx(o,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(l,{message:n.candidate_id}),(!_||_.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i("Create candidate here. "),e.jsx("a",{href:route("recruitment.candidates.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:i("candidate")}),"."]})]}),e.jsxs("div",{children:[e.jsxs(a,{htmlFor:"round_id",required:!0,children:[i("Interview Round")," "]}),e.jsxs(p,{value:((F=r.round_id)==null?void 0:F.toString())||"",onValueChange:t=>s("round_id",t),disabled:!r.candidate_id,required:!0,children:[e.jsx(j,{children:e.jsx(g,{placeholder:r.candidate_id?i("Select Interview Round"):i("Select Candidate first")})}),e.jsx(v,{children:u==null?void 0:u.map(t=>e.jsx(o,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(l,{message:n.round_id}),(!u||u.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i("Create interview round here. "),e.jsx("a",{href:route("recruitment.interview-rounds.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:i("interview round")}),"."]})]}),e.jsxs("div",{children:[e.jsxs(a,{htmlFor:"interview_type_id",required:!0,children:[i("Interview Type")," "]}),e.jsxs(p,{value:((N=r.interview_type_id)==null?void 0:N.toString())||"",onValueChange:t=>s("interview_type_id",t),required:!0,children:[e.jsx(j,{children:e.jsx(g,{placeholder:i("Select Interview Type")})}),e.jsx(v,{children:m.map(t=>e.jsx(o,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(l,{message:n.interview_type_id}),(!m||m.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i("Create interview type here. "),e.jsx("a",{href:route("recruitment.interview-types.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:i("interview type")}),"."]})]}),e.jsxs("div",{children:[e.jsx(a,{required:!0,children:i("Scheduled Date")}),e.jsx(X,{value:r.scheduled_date,onChange:t=>s("scheduled_date",t),placeholder:i("Select Scheduled Date"),minDate:new Date(Date.now()+24*60*60*1e3),required:!0}),e.jsx(l,{message:n.scheduled_date})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"scheduled_time",children:i("Scheduled Time")}),e.jsx(x,{id:"scheduled_time",type:"time",value:r.scheduled_time,onChange:t=>s("scheduled_time",t.target.value),required:!0}),e.jsx(l,{message:n.scheduled_time})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"duration",children:i("Duration (Minutes)")}),e.jsx(x,{id:"duration",type:"number",step:"1",min:"1",value:r.duration,onChange:t=>s("duration",t.target.value),placeholder:i("Enter Duration in Minutes"),required:!0}),e.jsx(l,{message:n.duration})]}),!V&&e.jsxs("div",{children:[e.jsx(a,{htmlFor:"location",children:i("Location")}),e.jsx(x,{id:"location",type:"text",value:r.location,onChange:t=>s("location",t.target.value),placeholder:i("Enter Location")}),e.jsx(l,{message:n.location})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"meeting_link",children:i("Meeting Link")}),e.jsx(x,{id:"meeting_link",type:"text",value:r.meeting_link,onChange:t=>s("meeting_link",t.target.value),placeholder:i("Enter Meeting Link")}),e.jsx(l,{message:n.meeting_link})]}),e.jsxs("div",{children:[e.jsx(a,{children:i("Interviewers")}),e.jsx(P,{options:(c==null?void 0:c.map(t=>({value:t.id.toString(),label:t.name})))||[],value:r.interviewer_ids,onValueChange:t=>s("interviewer_ids",t),placeholder:i("Select Interviewers..."),searchable:!0}),e.jsx(l,{message:n.interviewer_ids}),(!c||c.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[i("Interviewers are users with staff role. Create user here. "),e.jsx("a",{href:route("users.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:i("Create User")}),"."]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"status",children:i("Status")}),e.jsxs(p,{value:((q=r.status)==null?void 0:q.toString())||"0",onValueChange:t=>s("status",t),children:[e.jsx(j,{children:e.jsx(g,{})}),e.jsxs(v,{children:[e.jsx(o,{value:"0",children:i("Scheduled")}),e.jsx(o,{value:"1",children:i("Completed")}),e.jsx(o,{value:"2",children:i("Cancelled")}),e.jsx(o,{value:"3",children:i("No-show")})]})]}),e.jsx(l,{message:n.status})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(L,{type:"button",variant:"outline",onClick:w,children:i("Cancel")}),e.jsx(L,{type:"submit",disabled:b,children:i(b?"Updating...":"Update")})]})]})]})}export{Ie as default};
