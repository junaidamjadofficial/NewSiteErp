import{j as l}from"./ui-ZHFf5B17.js";import{r as C}from"./vendor-CcMVubkO.js";import{B as k}from"./button-DYC7yMVq.js";import{I as T}from"./input-DqOfVTcn.js";import{L as i}from"./label-DbqhUtKI.js";import{S as y}from"./switch-ByWYyd_6.js";import{C as H,a as A,b as I,c as B}from"./card-DHszHnbI.js";import{S as p,a as h,b as f,c as b,d as j}from"./select-BEhl2QER.js";import{A as F}from"./app-BBiA4mAE.js";import{l as q}from"./language-lyE4jnGJ.js";import{u as z}from"./useTranslation-CV4_gBnb.js";import{S as W}from"./settings-BQeqI1zG.js";import{S as G}from"./save-B89BgUdM.js";import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./index-BYFX2qNQ.js";import"./index-BdQq_4o_.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./createLucideIcon-Dov4NOxw.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";/* empty css            */const J=a=>{const n=a.toUpperCase().split("").map(d=>127397+d.charCodeAt(0));return String.fromCodePoint(...n)};function fa({userSettings:a,auth:n}){var E,N,D;const{t:d}=z(),[Y,v]=C.useState(!1),c=(N=(E=n==null?void 0:n.user)==null?void 0:E.permissions)==null?void 0:N.includes("edit-system-settings"),L=((D=n==null?void 0:n.user)==null?void 0:D.type)==="superadmin",[o,s]=C.useState({defaultLanguage:(a==null?void 0:a.defaultLanguage)||"en",dateFormat:(a==null?void 0:a.dateFormat)||"Y-m-d",timeFormat:(a==null?void 0:a.timeFormat)||"H:i",calendarStartDay:(a==null?void 0:a.calendarStartDay)||"0",enableRegistration:(a==null?void 0:a.enableRegistration)==="on"||(a==null?void 0:a.enableRegistration)==="1"?"on":"off",enableEmailVerification:(a==null?void 0:a.enableEmailVerification)==="on"||(a==null?void 0:a.enableEmailVerification)==="1"?"on":"off",landingPageEnabled:(a==null?void 0:a.landingPageEnabled)==="on"||(a==null?void 0:a.landingPageEnabled)==="1"?"on":"off",termsConditionsUrl:(a==null?void 0:a.termsConditionsUrl)||""});C.useEffect(()=>{a&&s({defaultLanguage:(a==null?void 0:a.defaultLanguage)||"en",dateFormat:(a==null?void 0:a.dateFormat)||"Y-m-d",timeFormat:(a==null?void 0:a.timeFormat)||"H:i",calendarStartDay:(a==null?void 0:a.calendarStartDay)||"0",enableRegistration:(a==null?void 0:a.enableRegistration)==="on"||(a==null?void 0:a.enableRegistration)==="1"?"on":"off",enableEmailVerification:(a==null?void 0:a.enableEmailVerification)==="on"||(a==null?void 0:a.enableEmailVerification)==="1"?"on":"off",landingPageEnabled:(a==null?void 0:a.landingPageEnabled)==="on"||(a==null?void 0:a.landingPageEnabled)==="1"?"on":"off",termsConditionsUrl:(a==null?void 0:a.termsConditionsUrl)||""})},[a]);const x=(e,m)=>{s(r=>({...r,[e]:m}))},t=(e,m)=>{s(r=>({...r,[e]:m?"on":"off"}))},V=(e,m)=>{s(r=>({...r,[e]:m}))},M=()=>{v(!0),F.post(route("settings.system.update"),{settings:o},{preserveScroll:!0,onSuccess:()=>{v(!1),F.reload({only:["globalSettings"]})},onError:()=>{v(!1)}})},P=q.filter(e=>e.enabled!==!1).map(e=>({...e,flag:J(e.countryCode)})),R=[{value:"Y-m-d",label:"YYYY-MM-DD (2024-01-15)"},{value:"m-d-Y",label:"MM-DD-YYYY (01-15-2024)"},{value:"d-m-Y",label:"DD-MM-YYYY (15-01-2024)"},{value:"Y/m/d",label:"YYYY/MM/DD (2024/01/15)"},{value:"m/d/Y",label:"MM/DD/YYYY (01/15/2024)"},{value:"d/m/Y",label:"DD/MM/YYYY (15/01/2024)"}],U=[{value:"H:i",label:"24 Hour (13:30)"},{value:"g:i A",label:"12 Hour (1:30 PM)"}],w=[{value:"0",label:"Sunday"},{value:"1",label:"Monday"},{value:"2",label:"Tuesday"},{value:"3",label:"Wednesday"},{value:"4",label:"Thursday"},{value:"5",label:"Friday"},{value:"6",label:"Saturday"}];return l.jsxs(H,{children:[l.jsxs(A,{className:"flex flex-row items-center justify-between",children:[l.jsxs("div",{className:"order-1 rtl:order-2",children:[l.jsxs(I,{className:"flex items-center gap-2 text-lg",children:[l.jsx(W,{className:"h-5 w-5"}),d("System Settings")]}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:d("Configure system-wide settings for your application")})]}),c&&l.jsxs(k,{className:"order-2 rtl:order-1",onClick:M,disabled:Y,size:"sm",children:[l.jsx(G,{className:"h-4 w-4 mr-2"}),d(Y?"Saving...":"Save Changes")]})]}),l.jsx(B,{children:l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Default Language")}),l.jsxs(p,{value:o.defaultLanguage,onValueChange:e=>x("defaultLanguage",e),disabled:!c,children:[l.jsx(h,{children:l.jsx(f,{placeholder:d("Select language")})}),l.jsx(b,{children:P.map(e=>l.jsx(j,{value:e.code,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{children:e.flag}),l.jsx("span",{children:e.name})]})},e.code))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Date Format")}),l.jsxs(p,{value:o.dateFormat,onValueChange:e=>x("dateFormat",e),disabled:!c,children:[l.jsx(h,{children:l.jsx(f,{placeholder:d("Select date format")})}),l.jsx(b,{children:R.map(e=>l.jsx(j,{value:e.value,children:e.label},e.value))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Time Format")}),l.jsxs(p,{value:o.timeFormat,onValueChange:e=>x("timeFormat",e),disabled:!c,children:[l.jsx(h,{children:l.jsx(f,{placeholder:d("Select time format")})}),l.jsx(b,{children:U.map(e=>l.jsx(j,{value:e.value,children:e.label},e.value))})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Calendar Start Day")}),l.jsxs(p,{value:o.calendarStartDay,onValueChange:e=>x("calendarStartDay",e),disabled:!c,children:[l.jsx(h,{children:l.jsx(f,{placeholder:d("Select start day")})}),l.jsx(b,{children:w.map(e=>l.jsx(j,{value:e.value,children:d(e.label)},e.value))})]})]})]}),L&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Terms & Conditions URL")}),l.jsx(T,{type:"url",value:o.termsConditionsUrl,onChange:e=>V("termsConditionsUrl",e.target.value),placeholder:"https://example.com/terms",disabled:!c})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Enable Registration")}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(y,{checked:o.enableRegistration==="on",onCheckedChange:e=>t("enableRegistration",e),disabled:!c}),l.jsx("span",{className:"text-sm text-muted-foreground",children:o.enableRegistration==="on"?d("New users can register accounts"):d("Registration is disabled")})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Enable Email Verification")}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(y,{checked:o.enableEmailVerification==="on",onCheckedChange:e=>t("enableEmailVerification",e),disabled:!c}),l.jsx("span",{className:"text-sm text-muted-foreground",children:o.enableEmailVerification==="on"?d("Users must verify their email"):d("Email verification not required")})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsx(i,{children:d("Enable Landing Page")}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(y,{checked:o.landingPageEnabled==="on",onCheckedChange:e=>t("landingPageEnabled",e),disabled:!c}),l.jsx("span",{className:"text-sm text-muted-foreground",children:o.landingPageEnabled==="on"?d("Landing page is accessible"):d("Landing page is disabled")})]})]})]})]})]})})]})}export{fa as default};
