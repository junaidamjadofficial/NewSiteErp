import{j as e}from"./ui-ZHFf5B17.js";import{r as n}from"./vendor-CcMVubkO.js";import{X as h,S as b}from"./app-BBiA4mAE.js";import{a as j}from"./html2pdf-Dais6JZR.js";import{b as i,a as o,f as l}from"./helpers-QYnGjXad.js";import{u as f}from"./useTranslation-CV4_gBnb.js";/* empty css            */function P(){const{t}=f(),{data:a,filters:d}=h().props,[x,c]=n.useState(!1);n.useEffect(()=>{new URLSearchParams(window.location.search).get("download")==="pdf"&&m()},[]);const m=async()=>{c(!0);const s=document.querySelector(".report-container");if(s){const r={margin:.25,filename:`tax-summary-${d.from_date}-to-${d.to_date}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};try{await j().set(r).from(s).save(),setTimeout(()=>window.close(),1e3)}catch(p){console.error("PDF generation failed:",p)}}c(!1)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(b,{title:t("Tax Summary Report")}),x&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-lg font-semibold text-gray-700",children:t("Generating PDF...")})]})})}),e.jsxs("div",{className:"report-container bg-white max-w-5xl mx-auto p-8",children:[e.jsx("div",{className:"border-b-2 border-gray-800 pb-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:i("company_name")||"YOUR COMPANY"}),e.jsx("div",{className:"text-sm text-gray-600 space-y-0.5",children:i("company_address")&&e.jsx("p",{children:i("company_address")})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:t("TAX SUMMARY REPORT")}),e.jsxs("p",{className:"text-sm text-gray-600",children:[o(d.from_date)," ",t("to")," ",o(d.to_date)]})]})]})}),e.jsx("table",{className:"w-full border-collapse",children:e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("td",{className:"py-3 px-2 font-semibold text-sm",children:t("Tax Collected (Sales)")}),e.jsx("td",{className:"py-3 px-2 text-right"})]}),a.tax_collected.items.map((s,r)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 px-6 text-sm",children:s.tax_name}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:l(s.amount)})]},r)),e.jsxs("tr",{className:"font-semibold border-t-2 border-black",children:[e.jsx("td",{className:"py-3 px-2 text-sm",children:t("Total Tax Collected")}),e.jsx("td",{className:"py-3 px-2 text-sm text-right",children:l(a.tax_collected.total)})]}),e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("td",{className:"py-3 px-2 font-semibold text-sm",children:t("Tax Paid (Purchases)")}),e.jsx("td",{className:"py-3 px-2 text-right"})]}),a.tax_paid.items.map((s,r)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 px-6 text-sm",children:s.tax_name}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:l(s.amount)})]},r)),e.jsxs("tr",{className:"font-semibold border-t-2 border-black",children:[e.jsx("td",{className:"py-3 px-2 text-sm",children:t("Total Tax Paid")}),e.jsx("td",{className:"py-3 px-2 text-sm text-right",children:l(a.tax_paid.total)})]}),e.jsxs("tr",{className:"font-bold border-t-4 border-black",children:[e.jsx("td",{className:"py-4 px-2 text-base",children:t("Net Tax Liability")}),e.jsx("td",{className:"py-4 px-2 text-base text-right",children:l(a.net_tax_liability)})]})]})}),e.jsx("div",{className:"mt-8 pt-4 border-t text-center text-xs text-gray-600",children:e.jsxs("p",{children:[t("Generated on")," ",o(new Date().toISOString())]})})]})]})}export{P as default};
