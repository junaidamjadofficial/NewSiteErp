import{j as e}from"./ui-ZHFf5B17.js";import{G as g}from"./app-BBiA4mAE.js";import{D as j,a as y,b,c as _}from"./dialog-BLwxprq_.js";import{B as d}from"./button-DYC7yMVq.js";import{I as N}from"./input-DqOfVTcn.js";import{L as m}from"./label-DbqhUtKI.js";import{D as v}from"./date-picker-CVthJV3y.js";import{u as D}from"./useTranslation-CV4_gBnb.js";import"./vendor-CcMVubkO.js";/* empty css            */import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";import"./index-BMyiKApA.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";function z({open:x,onOpenChange:t}){const{t:a}=D(),i=new Date().getFullYear(),p=`${i}-12-31`,{data:l,setData:n,post:u,processing:o,errors:s,reset:c}=g({financial_year:i.toString(),closing_date:p}),h=r=>{r.preventDefault(),u(route("double-entry.balance-sheets.year-end-close"),{onSuccess:()=>{c(),t(!1)}})},f=()=>{c(),t(!1)};return e.jsx(j,{open:x,onOpenChange:t,children:e.jsxs(y,{className:"sm:max-w-md",children:[e.jsx(b,{children:e.jsx(_,{children:a("Year-End Close")})}),e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"financial_year",children:a("Financial Year to Close")}),e.jsx(N,{id:"financial_year",type:"text",value:l.financial_year,onChange:r=>n("financial_year",r.target.value),className:s.financial_year?"border-red-500":"",placeholder:a("e.g., 2024"),maxLength:4,required:!0}),s.financial_year&&e.jsx("p",{className:"text-sm text-red-600",children:s.financial_year})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{htmlFor:"closing_date",children:a("Closing Date")}),e.jsx(v,{id:"closing_date",value:l.closing_date,onChange:r=>n("closing_date",r),className:s.closing_date?"border-red-500":"",required:!0}),s.closing_date&&e.jsx("p",{className:"text-sm text-red-600",children:s.closing_date})]}),e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:a("Warning")}),e.jsxs("ul",{className:"text-sm text-yellow-800 space-y-1",children:[e.jsxs("li",{children:["• ",a("This will close all revenue and expense accounts")]}),e.jsxs("li",{children:["• ",a("Net income will be transferred to retained earnings")]}),e.jsxs("li",{children:["• ",a("Opening balances will be created for next year")]}),e.jsxs("li",{children:["• ",a("This action cannot be undone")]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(d,{type:"button",variant:"outline",onClick:f,children:a("Cancel")}),e.jsx(d,{type:"submit",disabled:o,variant:"destructive",children:a(o?"Closing...":"Close Year")})]})]})]})})}export{z as default};
