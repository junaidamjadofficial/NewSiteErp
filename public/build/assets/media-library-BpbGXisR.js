import{j as e}from"./ui-ZHFf5B17.js";import{r as i}from"./vendor-CcMVubkO.js";import{A as _e,D as pe,a as xe,b as ue,c as g,d as ze}from"./authenticated-layout-CIIwr118.js";import{t as n,S as Re}from"./app-BBiA4mAE.js";import{C as J,c as Q}from"./card-DHszHnbI.js";import{B as l}from"./button-DYC7yMVq.js";import{I as M}from"./input-DqOfVTcn.js";import{D as he,a as fe,b as je,c as ge,d as Ne}from"./dialog-BLwxprq_.js";import{B as E}from"./badge-CV60sqBJ.js";import{u as Xe}from"./useTranslation-CV4_gBnb.js";import{F as L}from"./mouse-pointer-CQQJQqrL.js";import{F as ye}from"./folder-open-DRNg9mxz.js";import{H as qe}from"./home-lZzXcexX.js";import{A as Be}from"./arrow-left-vDNMjIRy.js";import{S as He}from"./search-Chs14P_a.js";import{I as A}from"./image-C8M1mNs8.js";import{H as ve}from"./hard-drive-7HjIbMwJ.js";import{P as I}from"./plus-C1hmRCnY.js";import{E as be}from"./lucide-react-DCPJy5XZ.js";import{S as We}from"./square-pen-D0WnMiRU.js";import{T as Ke}from"./trash-2-CIuynBL1.js";import{I as we}from"./info-CuYUIdBA.js";import{C as Y}from"./copy-BfAQhGce.js";import{D as Ce}from"./download-DpWzK9fg.js";import{X as $e}from"./x-DVK_F_Gh.js";import{C as Ve}from"./calendar-DvmJ2XsD.js";import{U as De}from"./upload-KhHqnUys.js";import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./separator-DVB3ZNtW.js";import"./tooltip-C7wT1CW2.js";import"./index-BZAHB8Ku.js";import"./panel-left-BJWtIBes.js";import"./createLucideIcon-Dov4NOxw.js";import"./chevron-right-BtPraxo3.js";import"./check-DUlQPeVG.js";import"./circle-bmoNtd-e.js";import"./chevron-down-Zr-tNTku.js";import"./calculator-T0kIVMoE.js";import"./dollar-sign-CaNGv6yE.js";import"./code-zYLA2qp9.js";import"./target-DdsyVirL.js";import"./panels-top-left-jTb_Yuv7.js";import"./trending-up-DP6snsap.js";import"./layers-DwAcD_sb.js";import"./file-check-Y_ulrqs4.js";import"./users-OzPx1l-a.js";import"./headphones-BkxDRJ_v.js";import"./clock-3RA97mBy.js";import"./video-NvD8FrU_.js";import"./credit-card-CditegsP.js";import"./mail-XtzF_PXw.js";import"./package-rNDE_pCr.js";import"./settings-BQeqI1zG.js";import"./shopping-cart-Dh9vxMBK.js";import"./message-circle-TeiA59tv.js";import"./use-favicon-CGM0zyjT.js";import"./helpers-QYnGjXad.js";import"./useFlashMessages-3JrX8KdK.js";import"./select-BEhl2QER.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./label-DbqhUtKI.js";import"./refresh-cw-DjdBLqaG.js";import"./language-lyE4jnGJ.js";import"./globe-CbUyzYsc.js";import"./avatar-BOBGUcwF.js";import"./index-DaFL_H0m.js";import"./sun-BFQeGX5r.js";import"./moon-CVX3oKK_.js";import"./monitor-CEyd7Aqp.js";import"./cookie-consent-OcwKHqiv.js";import"./switch-ByWYyd_6.js";import"./cookie-DkEMAjDp.js";import"./user-x-DrMYVmY_.js";/* empty css            */import"./activity-DJdfPCaa.js";import"./undo-D3tFEvb3.js";import"./arrow-up-BLTFDVcR.js";import"./arrow-right-left-B2Yy1Hqs.js";import"./arrow-right-0NYEyiZu.js";import"./arrow-up-down-D4TAtYCt.js";import"./award-DEt0AONC.js";import"./bar-chart-3-BYjotveo.js";import"./ticket-CPT2TfbK.js";import"./briefcase-CLMrDjdn.js";import"./bug-DBRM7-K0.js";import"./building-2-DdQko_34.js";import"./building-BGlxQx6H.js";import"./chevron-left-CMBAh2v_.js";import"./circle-alert-De6bM8Qi.js";import"./circle-check-big-CGCa8M7E.js";import"./circle-check-D2gG32Ng.js";import"./circle-help-CE56Mn6R.js";import"./circle-user-BD0wePLr.js";import"./clipboard-check-DGMK1yDo.js";import"./database-D2i84R0z.js";import"./external-link-DAKK0PZS.js";import"./eye-off-ub0Xog94.js";import"./eye-C8Kok_ez.js";import"./youtube-ChBQIMoB.js";import"./server-CDiKS8E7.js";import"./file-image-pr_SxnfH.js";import"./file-question-CR2qrXfg.js";import"./file-text-BmYvzZ5U.js";import"./file-BD5h_kEE.js";import"./grid-3x3-BHB0xGDK.js";import"./grip-vertical-DvbJAfYs.js";import"./hash-C8mMST2K.js";import"./lightbulb-C1h491_-.js";import"./link-2Bt5o4zZ.js";import"./list-BVwWsOhE.js";import"./loader-circle-Dxyp6AS6.js";import"./map-pin-BtfG8ici.js";import"./megaphone-iO7AZhEi.js";import"./menu-CO-7TdWM.js";import"./message-square-warning-CPUQBKZG.js";import"./message-square-U01x5Y17.js";import"./milestone-BpY-7UvC.js";import"./minus-B1ExV4rD.js";import"./music-CaAUDMgx.js";import"./octagon-alert-_2iLUPIm.js";import"./palette-DZNd6Hfk.js";import"./paperclip-C_mZqrNn.js";import"./pen-tool-CqsLxcXF.js";import"./ruler-IeLgeA9Q.js";import"./phone-B_vxbsBq.js";import"./play-D1oIUpjL.js";import"./printer-BDwaclJ1.js";import"./radio-XBYO3AW-.js";import"./rotate-ccw-C3yG9Vnv.js";import"./save-B89BgUdM.js";import"./send-J2b8i-sO.js";import"./shield-alert-DzGJ4C70.js";import"./shield-DylwwFFg.js";import"./sparkles-yKnt-shd.js";import"./square-check-big-jIi-JzLQ.js";import"./star-D9yXa3BZ.js";import"./sticky-note-C2BipOAH.js";import"./tag-B8n-xlTS.js";import"./timer-B_1PmEWX.js";import"./trending-down-L1xdWaEg.js";import"./triangle-alert-Ad-nVD4c.js";import"./type-J3x5O6X0.js";import"./user-check-BJVxGvgh.js";import"./user-DQm7Eg7s.js";import"./zap-DKIHv8g2.js";function Or(){var ce,de,me;const{t}=Xe(),N=((ce=document.querySelector('meta[name="csrf-token"]'))==null?void 0:ce.getAttribute("content"))||"",[b,T]=i.useState([]),[O,ke]=i.useState([]),[d,y]=i.useState(null),[f,w]=i.useState(!1),[x,P]=i.useState([]),[Fe,Z]=i.useState(!1),[p,Se]=i.useState(""),[u,C]=i.useState(1),[ee,D]=i.useState(!1),[se,U]=i.useState(!1),[v,_]=i.useState(!1),[Me,z]=i.useState(!1),[R,X]=i.useState(""),[q,B]=i.useState(null),[H,k]=i.useState(""),[te,re]=i.useState(!1),[o,Ee]=i.useState(null),F=12,j=i.useCallback(async(s=!0)=>{s&&Z(!0);try{const r=new URLSearchParams;d&&r.append("directory_id",d.toString());const a=await fetch(`${route("media.index")}?${r}`,{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"});if(!a.ok)throw new Error(`HTTP error! status: ${a.status}`);const c=await a.json(),m=Array.isArray(c.media)?c.media:Array.isArray(c)?c:[];T(m),ke(c.directories||[]),P(m)}catch(r){console.error("Failed to load media:",r),n.error("Failed to load media")}finally{s&&Z(!1)}},[d]);i.useEffect(()=>{const s=b.length===0;j(s)},[j]);const ae=async()=>{if(R.trim())try{(await fetch(route("media.directories.create"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":N},body:JSON.stringify({name:R})})).ok&&(n.success("Directory created successfully"),X(""),z(!1),j(!1))}catch{n.error("Failed to create directory")}},ie=async()=>{if(!(!H.trim()||!q))try{(await fetch(route("media.directories.update",q),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":N},body:JSON.stringify({name:H})})).ok&&(n.success("Directory updated successfully"),k(""),B(null),j(!1))}catch{n.error("Failed to update directory")}},Le=async s=>{if(confirm("Are you sure you want to delete this directory?"))try{(await fetch(route("media.directories.destroy",s),{method:"DELETE",headers:{"X-CSRF-TOKEN":N}})).ok&&(n.success("Directory deleted successfully"),d===s&&y(null),j(!1))}catch{n.error("Failed to delete directory")}};i.useEffect(()=>{const r=(Array.isArray(b)?b:[]).filter(a=>a.name.toLowerCase().includes(p.toLowerCase())||a.file_name.toLowerCase().includes(p.toLowerCase()));P(r),C(1)},[p,b]);const le=async s=>{U(!0);const r=Array.from(s);if(r.length===0){U(!1);return}const a=new FormData;r.forEach(c=>{a.append("files[]",c)}),d&&a.append("directory_id",d.toString());try{const c=await fetch(route("media.batch"),{method:"POST",headers:{"X-CSRF-TOKEN":N,"X-Requested-With":"XMLHttpRequest"},body:a,credentials:"same-origin"}),m=await c.json();c.ok?(j(!1),n.success(m.message),m.errors&&m.errors.length>0&&m.errors.forEach(G=>{n.error(G)})):m.errors&&m.errors.length>0?m.errors.forEach(G=>{n.error(G)}):n.error(m.message||"Failed to upload files")}catch{n.error("Error uploading files")}U(!1),D(!1)},W=s=>{s.preventDefault(),s.stopPropagation(),s.type==="dragenter"||s.type==="dragover"?_(!0):s.type==="dragleave"&&_(!1)},Ae=s=>{s.preventDefault(),s.stopPropagation(),_(!1),s.dataTransfer.files&&s.dataTransfer.files[0]&&le(s.dataTransfer.files)},Ie=async s=>{try{(await fetch(route("media.destroy",s),{method:"DELETE",headers:{"X-CSRF-TOKEN":N,"X-Requested-With":"XMLHttpRequest"},credentials:"same-origin"})).ok?(T(a=>a.filter(c=>c.id!==s)),n.success("Media deleted successfully")):n.error("Failed to delete media")}catch{n.error("Error deleting media")}},K=s=>{navigator.clipboard.writeText(s),n.success("File URL copied to clipboard")},oe=(s,r)=>{const a=document.createElement("a");a.href=route("media.download",s),a.download=r,document.body.appendChild(a),a.click(),document.body.removeChild(a),n.success("Download started")},Te=s=>{Ee(s),re(!0)},$=s=>{if(s===0)return"0 Bytes";const r=1024,a=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(s)/Math.log(r));return parseFloat((s/Math.pow(r,c)).toFixed(2))+" "+a[c]},Oe=s=>new Date(s).toLocaleString(),ne=s=>s.startsWith("image/")?e.jsx(A,{className:"h-4 w-4"}):s.includes("pdf")?e.jsx("div",{className:"h-4 w-4 bg-red-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"PDF"}):s.includes("word")||s.includes("document")?e.jsx("div",{className:"h-4 w-4 bg-primary rounded text-white text-xs flex items-center justify-center font-bold",children:"DOC"}):s.includes("csv")||s.includes("spreadsheet")?e.jsx("div",{className:"h-4 w-4 bg-green-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"CSV"}):s.startsWith("video/")?e.jsx("div",{className:"h-4 w-4 bg-purple-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"VID"}):s.startsWith("audio/")?e.jsx("div",{className:"h-4 w-4 bg-orange-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"AUD"}):e.jsx("div",{className:"h-4 w-4 bg-gray-500 rounded text-white text-xs flex items-center justify-center font-bold",children:"FILE"}),h=Math.ceil(x.length/F),S=(u-1)*F,V=x.slice(S,S+F),Pe=i.useMemo(()=>e.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>{y(null),w(!0)},children:[e.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-primary/10 to-primary/20 flex items-center justify-center",children:[e.jsx("div",{className:"flex flex-col items-center justify-center p-4",children:e.jsx("div",{className:"mb-2 text-primary",children:e.jsx(L,{className:"h-12 w-12"})})}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-primary/5 transition-all duration-200"}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(E,{variant:"secondary",className:"text-xs bg-primary/10 text-primary",children:"FOLDER"})})]}),e.jsx("div",{className:"p-3 space-y-2",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium truncate flex items-center gap-2",title:"All Files",children:[e.jsx(ye,{className:"h-4 w-4 text-primary"}),"All Files"]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"View all files"})]})})]},"all-files-folder"),[]),Ue=[{label:t("Media Library")}];return e.jsxs(_e,{breadcrumbs:Ue,pageTitle:t("Manage Media Library"),pageActions:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{variant:"outline",onClick:()=>z(!0),children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),t("New Folder")]}),e.jsxs(l,{onClick:()=>D(!0),children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),t("Upload Files")]})]}),children:[e.jsx(Re,{title:t("Media Library")}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(J,{children:e.jsxs(Q,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("nav",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>{y(null),w(!1)},className:"flex items-center gap-2 h-8 px-2 hover:bg-muted hover:text-foreground",children:[e.jsx(qe,{className:"h-4 w-4"}),t("Media Library")]}),d&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"/"}),e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-muted rounded-md",children:[e.jsx(L,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium text-foreground",children:((de=O.find(s=>s.id===d))==null?void 0:de.name)||"Directory"})]})]}),f&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"mx-2",children:"/"}),e.jsxs("div",{className:"flex items-center gap-2 px-2 py-1 bg-muted rounded-md",children:[e.jsx(L,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"font-medium text-foreground",children:"All Files"})]})]})]}),(d!==null||f)&&e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>{y(null),w(!1)},className:"flex items-center gap-2 h-8 px-3",children:[e.jsx(Be,{className:"h-4 w-4"}),t("Back")]})]}),Me&&e.jsx("div",{className:"mt-4 p-3 border rounded-lg bg-muted/30",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{placeholder:"Directory name...",value:R,onChange:s=>X(s.target.value),onKeyPress:s=>s.key==="Enter"&&ae()}),e.jsx(l,{onClick:ae,size:"sm",children:"Create"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{z(!1),X("")},children:"Cancel"})]})}),q&&e.jsx("div",{className:"mt-4 p-3 border rounded-lg bg-muted/30",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(M,{placeholder:"Directory name...",value:H,onChange:s=>k(s.target.value),onKeyPress:s=>s.key==="Enter"&&ie()}),e.jsx(l,{onClick:ie,size:"sm",children:"Update"}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{B(null),k("")},children:"Cancel"})]})})]})}),e.jsx(J,{children:e.jsx(Q,{className:"p-4",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(He,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),e.jsx(M,{placeholder:t("Search media files..."),value:p,onChange:s=>Se(s.target.value),className:"pl-10"})]}),p&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:t('Showing results for "{{term}}"',{term:p})})]}),e.jsxs("div",{className:"flex gap-6 items-center",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:e.jsx(A,{className:"h-4 w-4 text-primary"})}),e.jsxs("span",{className:"text-sm font-semibold",children:[x.length," ",t("Files")]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-green-500/10 rounded-md",children:e.jsx(ve,{className:"h-4 w-4 text-green-600"})}),e.jsx("span",{className:"text-sm font-semibold",children:$(i.useMemo(()=>x.reduce((s,r)=>s+r.size,0),[x]))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"p-1.5 bg-primary/10 rounded-md",children:e.jsx(A,{className:"h-4 w-4 text-primary"})}),e.jsxs("span",{className:"text-sm font-semibold",children:[x.filter(s=>s.mime_type.startsWith("image/")).length," ",t("Images")]})]})]})]})})}),e.jsx(J,{children:e.jsx(Q,{className:"p-6",children:Fe?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:t("Loading media...")})]}):V.length===0&&O.length===0||d===null&&!f&&V.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"mx-auto w-24 h-24 bg-muted rounded-full flex items-center justify-center mb-4",children:e.jsx(A,{className:"h-10 w-10 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:t("No media files found")}),e.jsx("p",{className:"text-muted-foreground mb-6",children:p?t('No results found for "{{term}}"',{term:p}):t("Get started by uploading your first file")}),!p&&e.jsxs(l,{onClick:()=>D(!0),size:"lg",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),t("Upload Files")]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 2xl:grid-cols-6 gap-4",children:[d===null&&!f&&Pe,d===null&&!f&&O.map(s=>e.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-md transition-all duration-200 cursor-pointer",onClick:()=>{T([]),P([]),y(s.id),w(!1)},children:[e.jsxs("div",{className:"relative aspect-square bg-gradient-to-br from-primary/10 to-primary/20 flex items-center justify-center",children:[e.jsx("div",{className:"flex flex-col items-center justify-center p-4",children:e.jsx("div",{className:"mb-2 text-primary",children:e.jsx(L,{className:"h-12 w-12"})})}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-primary/5 transition-all duration-200"}),e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(pe,{children:[e.jsx(xe,{asChild:!0,children:e.jsx(l,{size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0 bg-background/95 hover:bg-background shadow-md",onClick:r=>r.stopPropagation(),children:e.jsx(be,{className:"h-4 w-4"})})}),e.jsxs(ue,{align:"end",children:[e.jsxs(g,{onClick:r=>{r.stopPropagation(),B(s.id),k(s.name)},children:[e.jsx(We,{className:"h-4 w-4 mr-2"}),"Edit"]}),e.jsxs(g,{onClick:r=>{r.stopPropagation(),Le(s.id)},className:"text-destructive focus:text-destructive",children:[e.jsx(Ke,{className:"h-4 w-4 mr-2"}),"Delete"]})]})]})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(E,{variant:"secondary",className:"text-xs bg-primary/10 text-primary",children:"FOLDER"})})]}),e.jsx("div",{className:"p-3 space-y-2",children:e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium truncate flex items-center gap-2",title:s.name,children:[e.jsx(ye,{className:"h-4 w-4 text-primary"}),s.name]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Directory"})]})})]},`dir-${s.id}`)),(d!==null||f)&&V.map(s=>{var r;return e.jsxs("div",{className:"group relative bg-card border rounded-lg overflow-hidden hover:shadow-md transition-all duration-200",children:[e.jsxs("div",{className:"relative aspect-square bg-muted flex items-center justify-center",children:[s.mime_type.startsWith("image/")?e.jsx("img",{src:s.thumb_url,alt:s.name,className:"w-full h-full object-cover",onError:a=>{a.currentTarget.src=s.url}}):e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"mb-2 text-2xl",children:ne(s.mime_type)}),e.jsx("div",{className:"text-xs text-center font-medium text-muted-foreground truncate w-full",children:((r=s.mime_type.split("/")[1])==null?void 0:r.toUpperCase())||"FILE"})]}),e.jsx("div",{className:"absolute inset-0 bg-primary/0 group-hover:bg-primary/10 transition-all duration-200"}),!te&&!ee&&e.jsx("div",{className:"absolute top-2 right-2",children:e.jsxs(pe,{children:[e.jsx(xe,{asChild:!0,children:e.jsx(l,{size:"sm",variant:"secondary",className:"opacity-0 group-hover:opacity-100 transition-opacity h-8 w-8 p-0 bg-background/95 hover:bg-background shadow-md",children:e.jsx(be,{className:"h-4 w-4"})})}),e.jsxs(ue,{align:"end",className:"w-40",children:[e.jsxs(g,{onClick:()=>Te(s),children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),t("View Info")]}),e.jsxs(g,{onClick:()=>K(s.url),children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),t("Copy Link")]}),e.jsxs(g,{onClick:()=>oe(s.id,s.file_name),children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),t("Download")]}),e.jsx(ze,{}),e.jsxs(g,{onClick:()=>Ie(s.id),className:"text-destructive focus:text-destructive",children:[e.jsx($e,{className:"h-4 w-4 mr-2"}),t("Delete")]})]})]})}),e.jsx("div",{className:"absolute top-2 left-2",children:e.jsx(E,{variant:"secondary",className:"text-xs bg-background/95",children:s.mime_type.split("/")[1].toUpperCase()})})]}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium truncate",title:s.name,children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1 mt-1",children:[e.jsx(ve,{className:"h-3 w-3"}),$(s.size)]})]}),e.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ve,{className:"h-3 w-3"}),new Date(s.created_at).toLocaleDateString()]})})]})]},s.id)})]}),h>1&&e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:[t("Showing")," ",e.jsx("span",{className:"font-semibold",children:S+1})," ",t("to")," ",e.jsx("span",{className:"font-semibold",children:Math.min(S+F,x.length)})," ",t("of")," ",e.jsx("span",{className:"font-semibold",children:x.length})," ",t("files")]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",disabled:u===1,onClick:()=>C(s=>Math.max(s-1,1)),children:t("Previous")}),e.jsx("div",{className:"flex gap-1",children:Array.from({length:Math.min(h,5)},(s,r)=>{let a;return h<=5||u<=3?a=r+1:u>=h-2?a=h-4+r:a=u-2+r,e.jsx(l,{variant:u===a?"default":"outline",size:"sm",className:"w-10 h-8",onClick:()=>C(a),children:a},a)})}),e.jsx(l,{variant:"outline",size:"sm",disabled:u===h,onClick:()=>C(s=>Math.min(s+1,h)),children:t("Next")})]})]})]})})}),e.jsx(he,{open:ee,onOpenChange:D,children:e.jsxs(fe,{className:"max-w-lg",onInteractOutside:s=>s.preventDefault(),children:[e.jsxs(je,{children:[e.jsxs(ge,{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-5 w-5"}),t("Upload Files")]}),e.jsx(Ne,{children:t("Upload new files to your media library")})]}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:`relative border-2 border-dashed rounded-xl p-12 text-center transition-all duration-200 ${v?"border-primary bg-primary/10 scale-[1.02]":"border-gray-300 hover:border-gray-400 hover:bg-gray-50"}`,onDragEnter:W,onDragLeave:W,onDragOver:W,onDrop:Ae,children:[e.jsxs("div",{className:`transition-all duration-200 ${v?"scale-110":""}`,children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(De,{className:`h-8 w-8 transition-colors ${v?"text-primary":"text-gray-400"}`})}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:t(v?"Drop files here":"Upload your files")}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:t("Drag and drop your files here, or click to browse")}),e.jsx(M,{type:"file",multiple:!0,onChange:s=>s.target.files&&le(s.target.files),className:"hidden",id:"file-upload-modal"}),e.jsx(l,{type:"button",onClick:()=>{var s;return(s=document.getElementById("file-upload-modal"))==null?void 0:s.click()},disabled:se,size:"lg",children:se?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),t("Uploading...")]}):e.jsxs(e.Fragment,{children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),t("Choose Files")]})})]}),v&&e.jsx("div",{className:"absolute inset-0 bg-primary/10 rounded-xl"})]})})]})}),e.jsx(he,{open:te,onOpenChange:re,children:e.jsxs(fe,{className:"max-w-lg",onInteractOutside:s=>s.preventDefault(),children:[e.jsxs(je,{children:[e.jsxs(ge,{className:"flex items-center gap-2",children:[e.jsx(we,{className:"h-5 w-5"}),t("File Information")]}),e.jsx(Ne,{children:t("View detailed information about this file")})]}),o&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-center bg-gray-50 rounded-lg p-4",children:o.mime_type.startsWith("image/")?e.jsx("img",{src:o.thumb_url,alt:o.name,className:"max-w-full h-48 object-contain rounded-md shadow-sm",onError:s=>{s.currentTarget.src=o.url}}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-48 w-full",children:[e.jsx("div",{className:"mb-4 text-6xl",children:ne(o.mime_type)}),e.jsx("div",{className:"text-sm font-medium text-muted-foreground",children:((me=o.mime_type.split("/")[1])==null?void 0:me.toUpperCase())||"FILE"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t("File Name")}),e.jsx("span",{className:"text-sm text-right max-w-xs truncate",title:o.file_name,children:o.file_name})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t("File Type")}),e.jsx(E,{variant:"secondary",children:o.mime_type})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t("File Size")}),e.jsx("span",{className:"text-sm",children:$(o.size)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:t("Uploaded")}),e.jsx("span",{className:"text-sm",children:Oe(o.created_at)})]})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("span",{className:"text-sm font-medium text-muted-foreground block mb-2",children:t("URL")}),e.jsxs("div",{className:"flex items-center gap-2 p-2 bg-muted rounded-md",children:[e.jsx("code",{className:"text-xs text-muted-foreground flex-1 truncate",children:o.url}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>K(o.url),className:"h-6 w-6 p-0",children:e.jsx(Y,{className:"h-3 w-3"})})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsxs(l,{variant:"outline",onClick:()=>K(o.url),className:"flex-1",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),t("Copy Link")]}),e.jsxs(l,{variant:"outline",onClick:()=>oe(o.id,o.file_name),className:"flex-1",children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),t("Download")]})]})]})]})})]})]})}export{Or as default};
