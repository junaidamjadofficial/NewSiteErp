import{j as e}from"./ui-ZHFf5B17.js";import{a as C,b as S,c as b}from"./dialog-BLwxprq_.js";import{X as D,G as N}from"./app-BBiA4mAE.js";import{B as _}from"./button-DYC7yMVq.js";import{L as n}from"./label-DbqhUtKI.js";import{I as d}from"./input-error-DuIbBMgZ.js";import{I as F}from"./input-DqOfVTcn.js";import{T as I}from"./textarea-DxQ_BnuT.js";import{S as c,a as m,b as u,c as p,d as i}from"./select-BEhl2QER.js";import{D as v}from"./date-picker-CVthJV3y.js";import{C as T}from"./currency-input-BZrT8lhz.js";import{u as E}from"./useTranslation-CV4_gBnb.js";import"./vendor-CcMVubkO.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";import"./helpers-QYnGjXad.js";function le({goal:s,onSuccess:h}){const{categories:g,chartOfAccounts:x}=D().props,{t:r}=E(),{data:a,setData:l,put:y,processing:j,errors:o}=N({goal_name:s.goal_name??"",goal_description:s.goal_description??"",category_id:s.category_id??0,goal_type:s.goal_type??"savings",target_amount:s.target_amount??0,current_amount:s.current_amount??0,start_date:s.start_date??"",target_date:s.target_date??"",priority:s.priority??"medium",status:s.status??"draft",account_id:s.account_id}),f=t=>{t.preventDefault(),y(route("goal.goals.update",s.id),{onSuccess:()=>{h()}})};return e.jsxs(C,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(S,{children:e.jsx(b,{children:r("Edit Goal")})}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"goal_name",children:r("Goal Name")}),e.jsx(F,{id:"goal_name",type:"text",value:a.goal_name,onChange:t=>l("goal_name",t.target.value),placeholder:r("Enter Goal Name"),required:!0}),e.jsx(d,{message:o.goal_name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"category_id",children:r("Category")}),e.jsxs(c,{value:a.category_id?a.category_id.toString():"",onValueChange:t=>l("category_id",parseInt(t)),children:[e.jsx(m,{children:e.jsx(u,{placeholder:r("Select Category")})}),e.jsx(p,{children:g==null?void 0:g.map(t=>e.jsx(i,{value:t.id.toString(),children:t.category_name},t.id))})]}),e.jsx(d,{message:o.category_id})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"goal_type",children:r("Goal Type")}),e.jsxs(c,{value:a.goal_type,onValueChange:t=>l("goal_type",t),children:[e.jsx(m,{children:e.jsx(u,{})}),e.jsxs(p,{children:[e.jsx(i,{value:"savings",children:r("Savings")}),e.jsx(i,{value:"debt_reduction",children:r("Debt Reduction")}),e.jsx(i,{value:"expense_reduction",children:r("Expense Reduction")})]})]}),e.jsx(d,{message:o.goal_type})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",children:r("Priority")}),e.jsxs(c,{value:a.priority,onValueChange:t=>l("priority",t),children:[e.jsx(m,{children:e.jsx(u,{})}),e.jsxs(p,{children:[e.jsx(i,{value:"low",children:r("Low")}),e.jsx(i,{value:"medium",children:r("Medium")}),e.jsx(i,{value:"high",children:r("High")}),e.jsx(i,{value:"critical",children:r("Critical")})]})]}),e.jsx(d,{message:o.priority})]})]}),e.jsx("div",{children:e.jsx(T,{label:r("Target Amount"),value:a.target_amount.toString(),onChange:t=>l("target_amount",parseFloat(t)||0),error:o.target_amount,required:!0})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{required:!0,children:r("Start Date")}),e.jsx(v,{value:a.start_date,onChange:t=>l("start_date",t),placeholder:r("Select start date")}),e.jsx(d,{message:o.start_date})]}),e.jsxs("div",{children:[e.jsx(n,{required:!0,children:r("Target Date")}),e.jsx(v,{value:a.target_date,onChange:t=>l("target_date",t),placeholder:r("Select target date")}),e.jsx(d,{message:o.target_date})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",children:r("Status")}),e.jsxs(c,{value:a.status,onValueChange:t=>l("status",t),children:[e.jsx(m,{children:e.jsx(u,{})}),e.jsxs(p,{children:[e.jsx(i,{value:"draft",children:r("Draft")}),e.jsx(i,{value:"active",children:r("Active")}),e.jsx(i,{value:"completed",children:r("Completed")})]})]}),e.jsx(d,{message:o.status})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"account_id",children:r("Chart of Account")}),e.jsxs(c,{value:a.account_id?a.account_id.toString():"0",onValueChange:t=>l("account_id",t==="0"?void 0:parseInt(t)),children:[e.jsx(m,{children:e.jsx(u,{placeholder:r("Select Account")})}),e.jsxs(p,{children:[e.jsx(i,{value:"0",children:r("None")}),x==null?void 0:x.filter(t=>a.goal_type==="savings"||a.goal_type==="debt_reduction"?t.normal_balance==="credit":a.goal_type==="expense_reduction"?t.normal_balance==="debit":!0).map(t=>e.jsxs(i,{value:t.id.toString(),children:[t.account_code," - ",t.account_name]},t.id))]})]}),e.jsx(d,{message:o.account_id})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"goal_description",children:r("Description")}),e.jsx(I,{id:"goal_description",value:a.goal_description,onChange:t=>l("goal_description",t.target.value),placeholder:r("Enter Description"),rows:3}),e.jsx(d,{message:o.goal_description})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(_,{type:"button",variant:"outline",onClick:h,children:r("Cancel")}),e.jsx(_,{type:"submit",disabled:j,children:r(j?"Updating...":"Update")})]})]})]})}export{le as default};
