import{j as e}from"./ui-ZHFf5B17.js";import{r as o}from"./vendor-CcMVubkO.js";import{B as d}from"./button-DYC7yMVq.js";import{C as j,a as g,b as C,c as v}from"./card-DHszHnbI.js";import{A as m}from"./app-BBiA4mAE.js";import{u as N}from"./useTranslation-CV4_gBnb.js";import{H as p}from"./hard-drive-7HjIbMwJ.js";import{T as S}from"./trash-2-CIuynBL1.js";import{Z as z}from"./zap-DKIHv8g2.js";import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";/* empty css            */import"./createLucideIcon-Dov4NOxw.js";function Z({cacheSize:h="0.00",auth:r}){var n,l;const{t:s}=N(),[i,t]=o.useState(!1),x=(l=(n=r==null?void 0:r.user)==null?void 0:n.permissions)==null?void 0:l.includes("clear-cache"),[a,c]=o.useState(!1),u=()=>{t(!0),m.post(route("settings.cache.clear"),{},{preserveScroll:!0,onSuccess:()=>{},onError:()=>{},onFinish:()=>{t(!1)}})},f=()=>{c(!0),m.post(route("settings.optimize"),{},{preserveScroll:!0,onSuccess:()=>{},onError:()=>{},onFinish:()=>{c(!1)}})};return e.jsxs(j,{children:[e.jsxs(g,{children:[e.jsxs(C,{className:"flex items-center gap-2 text-lg",children:[e.jsx(p,{className:"h-5 w-5"}),s("Cache Settings")]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("Manage application cache to improve performance")})]}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"p-3 bg-muted/50 rounded-lg",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:s("This is a page meant for more advanced users, simply ignore it if you don't understand what cache is.")})}),e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 order-1 rtl:order-2",children:[e.jsx(p,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:s("Current Cache Size")}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[h," MB ",s("of cached data")]})]})]}),x&&e.jsxs("div",{className:"flex gap-2 order-2 rtl:order-1",children:[e.jsxs(d,{onClick:u,disabled:i,variant:"destructive",size:"sm",children:[e.jsx(S,{className:"h-4 w-4 mr-2"}),s(i?"Clearing...":"Clear Cache")]}),e.jsxs(d,{onClick:f,disabled:a,variant:"default",size:"sm",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),s(a?"Optimizing...":"Optimize Site")]})]})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:[e.jsxs("p",{children:[s("Clearing cache will remove"),":"]}),e.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[e.jsx("li",{children:s("Application cache")}),e.jsx("li",{children:s("Route cache")}),e.jsx("li",{children:s("View cache")}),e.jsx("li",{children:s("Configuration cache")})]})]})]})})]})}export{Z as default};
