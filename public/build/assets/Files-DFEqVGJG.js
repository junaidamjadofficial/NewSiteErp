import{j as e}from"./ui-ZHFf5B17.js";import{r as w}from"./vendor-CcMVubkO.js";import{A as x}from"./app-BBiA4mAE.js";import{B as a}from"./button-DYC7yMVq.js";import{M as v}from"./MediaPicker-CztOgrDm.js";import{j as N,l as b}from"./helpers-QYnGjXad.js";import{T as n,a as c,b as m,c as d}from"./tooltip-C7wT1CW2.js";import{u as y}from"./useTranslation-CV4_gBnb.js";import{E as C}from"./eye-C8Kok_ez.js";import{D as F}from"./download-DpWzK9fg.js";import{T as _}from"./trash-2-CIuynBL1.js";import{F as h}from"./file-BD5h_kEE.js";import{I as T}from"./image-C8M1mNs8.js";import{V as k}from"./video-NvD8FrU_.js";import{M as D}from"./music-CaAUDMgx.js";import{F as I}from"./file-text-BmYvzZ5U.js";/* empty css            */import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./input-DqOfVTcn.js";import"./label-DbqhUtKI.js";import"./dialog-BLwxprq_.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";import"./badge-CV60sqBJ.js";import"./plus-C1hmRCnY.js";import"./search-Chs14P_a.js";import"./upload-KhHqnUys.js";import"./check-DUlQPeVG.js";import"./index-BZAHB8Ku.js";function ne({deal:l}){const{t:i}=y(),[o,p]=w.useState([]),f=s=>{p(Array.isArray(s)?s:[s].filter(Boolean))},j=()=>{x.post(route("lead.deals.store-file",l.id),{additional_images:o},{onSuccess:()=>{p([])}})},g=s=>{var r;const t=(r=s.split(".").pop())==null?void 0:r.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(t||"")?e.jsx(T,{className:"h-5 w-5 text-blue-500"}):["mp4","avi","mov","wmv","flv","webm"].includes(t||"")?e.jsx(k,{className:"h-5 w-5 text-purple-500"}):["mp3","wav","flac","aac","ogg"].includes(t||"")?e.jsx(D,{className:"h-5 w-5 text-green-500"}):["txt","doc","docx","pdf","rtf"].includes(t||"")?e.jsx(I,{className:"h-5 w-5 text-red-500"}):e.jsx(h,{className:"h-5 w-5 text-gray-500"})},u=s=>{var r;const t=(r=s.split(".").pop())==null?void 0:r.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(t||"")};return e.jsxs("div",{className:"bg-white border rounded-lg p-6 shadow-sm h-full flex flex-col",children:[e.jsx("h4",{className:"text-lg font-semibold text-gray-800 mb-4",children:i("Files")}),e.jsxs("div",{className:"mb-4",children:[e.jsx(v,{value:o,onChange:f,multiple:!0,placeholder:i("Select files"),showPreview:!1,label:""}),o.length>0&&e.jsx("div",{className:"flex justify-end mt-3",children:e.jsx(a,{onClick:j,children:i("Save Files")})})]}),l.files&&l.files.length>0?e.jsx("div",{className:"space-y-2 flex-1 overflow-y-auto max-h-96 scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100",children:l.files.map(s=>{var r;let t=N(s.file_path);return e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-lg border hover:bg-gray-100 transition-colors group",children:[e.jsx("div",{className:"flex-shrink-0",children:u(s.file_path)?e.jsx("img",{src:t,alt:s.file_name||"File",className:"w-10 h-10 object-cover rounded border"}):e.jsx("div",{className:"w-10 h-10 bg-white rounded border flex items-center justify-center",children:g(s.file_path)})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:s.file_name||s.file_path,children:s.file_name||s.file_path.split("/").pop()}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(r=s.file_path.split(".").pop())==null?void 0:r.toUpperCase()," file"]})]}),e.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[e.jsx(n,{children:e.jsxs(c,{delayDuration:0,children:[e.jsx(m,{asChild:!0,children:e.jsx(a,{size:"sm",variant:"ghost",onClick:()=>window.open(t,"_blank"),className:"h-8 w-8 p-0 text-green-600 hover:text-green-700",children:e.jsx(C,{className:"h-4 w-4"})})}),e.jsx(d,{children:e.jsx("p",{children:i("View")})})]})}),e.jsx(n,{children:e.jsxs(c,{delayDuration:0,children:[e.jsx(m,{asChild:!0,children:e.jsx(a,{size:"sm",variant:"ghost",onClick:()=>b(t),className:"h-8 w-8 p-0 text-blue-600 hover:text-blue-700",children:e.jsx(F,{className:"h-4 w-4"})})}),e.jsx(d,{children:e.jsx("p",{children:i("Download")})})]})}),e.jsx(n,{children:e.jsxs(c,{delayDuration:0,children:[e.jsx(m,{asChild:!0,children:e.jsx(a,{size:"sm",variant:"ghost",onClick:()=>x.delete(route("lead.deals.delete-file",{deal:l.id,file:s.id})),className:"h-8 w-8 p-0 text-red-600 hover:text-red-700",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsx(d,{children:e.jsx("p",{children:i("Delete")})})]})})]})]},s.id)})}):e.jsxs("div",{className:"text-center py-8 text-gray-500 flex-1 flex flex-col items-center justify-center",children:[e.jsx(h,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:i("No files uploaded yet")})]})]})}export{ne as default};
