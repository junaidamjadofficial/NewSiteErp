import{j as e}from"./ui-ZHFf5B17.js";import{r as h}from"./vendor-CcMVubkO.js";import{X as f,S as y}from"./app-BBiA4mAE.js";import{a as N}from"./html2pdf-Dais6JZR.js";import{a as d,b as t,f as r}from"./helpers-QYnGjXad.js";import{u as g}from"./useTranslation-CV4_gBnb.js";/* empty css            */function A(){const{t:a}=g(),{balanceSheet:o,groupedItems:l}=f().props,[b,m]=h.useState(!1),x=l.equity?Object.values(l.equity).flat().reduce((s,n)=>s+parseFloat(n.amount.toString()),0):0,p=l.liabilities?Object.values(l.liabilities).flat().reduce((s,n)=>s+parseFloat(n.amount.toString()),0):0,j=l.assets?Object.values(l.assets).flat().reduce((s,n)=>s+parseFloat(n.amount.toString()),0):0;h.useEffect(()=>{new URLSearchParams(window.location.search).get("download")==="pdf"&&u()},[]);const u=async()=>{m(!0);const s=document.querySelector(".balance-sheet-container");if(s){const n={margin:.25,filename:`balance-sheet-${d(o.balance_sheet_date)}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};try{await N().set(n).from(s).save(),setTimeout(()=>window.close(),1e3)}catch(i){console.error("PDF generation failed:",i)}}m(!1)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(y,{title:a("Balance Sheet")}),b&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-lg font-semibold text-gray-700",children:a("Generating PDF...")})]})})}),e.jsxs("div",{className:"balance-sheet-container bg-white max-w-4xl mx-auto p-12",children:[e.jsxs("div",{className:"flex justify-between items-start mb-12",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:t("company_name")||"YOUR COMPANY"}),e.jsxs("div",{className:"text-sm space-y-1",children:[t("company_address")&&e.jsx("p",{children:t("company_address")}),(t("company_city")||t("company_state")||t("company_zipcode"))&&e.jsxs("p",{children:[t("company_city"),t("company_state")&&`, ${t("company_state")}`," ",t("company_zipcode")]}),t("company_country")&&e.jsx("p",{children:t("company_country")}),t("company_telephone")&&e.jsxs("p",{children:[a("Phone"),": ",t("company_telephone")]}),t("company_email")&&e.jsxs("p",{children:[a("Email"),": ",t("company_email")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:a("BALANCE SHEET")}),e.jsxs("div",{className:"text-sm space-y-1",children:[e.jsxs("p",{children:[a("As of"),": ",d(o.balance_sheet_date)]}),e.jsxs("p",{children:[a("Financial Year"),": ",o.financial_year]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold border-b-2 border-gray-800 pb-2 mb-3",children:a("Liabilities & Equity")}),l.equity&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:a("Equity")}),Object.entries(l.equity).map(([s,n])=>e.jsx("div",{children:n.map(i=>{var c;return e.jsxs("div",{className:"flex justify-between py-1.5 text-sm",children:[e.jsx("span",{children:(c=i.account)==null?void 0:c.account_name}),e.jsx("span",{className:"tabular-nums",children:r(i.amount)})]},i.id)})},s)),e.jsxs("div",{className:"flex justify-between py-2 font-semibold text-sm border-t mt-2",children:[e.jsx("span",{children:a("Total Equity")}),e.jsx("span",{className:"tabular-nums",children:r(x)})]})]}),l.liabilities&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:a("Liabilities")}),Object.entries(l.liabilities).map(([s,n])=>e.jsxs("div",{className:"mb-3",children:[e.jsx("h5",{className:"font-medium text-xs capitalize mb-1",children:s.replace("_"," ")}),n.map(i=>{var c;return e.jsxs("div",{className:"flex justify-between py-1.5 text-sm ml-3",children:[e.jsx("span",{children:(c=i.account)==null?void 0:c.account_name}),e.jsx("span",{className:"tabular-nums",children:r(i.amount)})]},i.id)})]},s)),e.jsxs("div",{className:"flex justify-between py-2 font-semibold text-sm border-t mt-2",children:[e.jsx("span",{children:a("Total Liabilities")}),e.jsx("span",{className:"tabular-nums",children:r(p)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold border-b-2 border-gray-800 pb-2 mb-3",children:a("Assets")}),l.assets&&e.jsx("div",{children:Object.entries(l.assets).map(([s,n])=>e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"font-medium text-xs capitalize mb-1",children:s.replace("_"," ")}),n.map(i=>{var c;return e.jsxs("div",{className:"flex justify-between py-1.5 text-sm ml-3",children:[e.jsx("span",{children:(c=i.account)==null?void 0:c.account_name}),e.jsx("span",{className:"tabular-nums",children:r(i.amount)})]},i.id)})]},s))})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-8 border-t-2 border-gray-800 pt-4",children:[e.jsxs("div",{className:"flex justify-between font-bold text-base",children:[e.jsx("span",{children:a("Total Liabilities & Equity")}),e.jsx("span",{className:"tabular-nums",children:r(p+x)})]}),e.jsxs("div",{className:"flex justify-between font-bold text-base",children:[e.jsx("span",{children:a("Total Assets")}),e.jsx("span",{className:"tabular-nums",children:r(j)})]})]}),e.jsx("div",{className:"mt-8 pt-4 border-t text-center text-xs text-gray-600",children:e.jsxs("p",{children:[a("Generated on")," ",d(new Date().toISOString())]})})]}),e.jsx("style",{children:`
                body {
                    -webkit-print-color-adjust: exact;
                    color-adjust: exact;
                    font-family: Arial, sans-serif;
                }

                @page {
                    margin: 0.25in;
                    size: A4;
                }

                .balance-sheet-container {
                    max-width: 100%;
                    margin: 0;
                    box-shadow: none;
                }

                @media print {
                    body {
                        background: white;
                    }

                    .balance-sheet-container {
                        box-shadow: none;
                    }
                }
            `})]})}export{A as default};
