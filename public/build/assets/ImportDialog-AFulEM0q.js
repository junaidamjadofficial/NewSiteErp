import{j as e}from"./ui-ZHFf5B17.js";import{r as j}from"./vendor-CcMVubkO.js";import{G as w,t as i}from"./app-BBiA4mAE.js";import{B as p}from"./button-DYC7yMVq.js";import{a as b,b as g,c as S}from"./dialog-BLwxprq_.js";import{I as D}from"./input-DqOfVTcn.js";import{L as d}from"./label-DbqhUtKI.js";import{u as v}from"./useTranslation-CV4_gBnb.js";import{D as y}from"./download-DpWzK9fg.js";import{U as I}from"./upload-KhHqnUys.js";/* empty css            */import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";function G({onSuccess:f}){const{t}=v(),[n,m]=j.useState(!1),{data:l,setData:u,processing:F}=w({file:null}),h=()=>{const a=`title,description
Sample FAQ Question,Sample FAQ Answer`,s=new Blob([a],{type:"text/csv"}),o=window.URL.createObjectURL(s),r=document.createElement("a");r.href=o,r.download="faq_sample.csv",r.click(),window.URL.revokeObjectURL(o)},x=async a=>{var s;if(a.preventDefault(),!l.file){i.error(t("Please select a file"));return}m(!0);try{const o=new FormData;o.append("file",l.file);const r=await fetch(route("faq.import.data"),{method:"POST",body:o,headers:{"X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}}),c=await r.json();c.success||r.ok?(i.success(t("FAQ imported successfully")),f()):i.error(c.message||t("Import failed"))}catch{i.error(t("Import failed"))}finally{m(!1)}};return e.jsxs(b,{children:[e.jsx(g,{children:e.jsx(S,{children:t("Import FAQ")})}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{className:"text-sm font-medium",children:t("Download Sample CSV File")}),e.jsx("div",{className:"mt-2",children:e.jsxs(p,{type:"button",variant:"outline",size:"sm",onClick:h,children:[e.jsx(y,{className:"h-4 w-4 mr-2"}),t("Download Sample")]})})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"file",children:t("Select CSV File")}),e.jsx(D,{id:"file",type:"file",accept:".csv",onChange:a=>{var s;return u("file",((s=a.target.files)==null?void 0:s[0])||null)},required:!0,className:"mt-1"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(p,{type:"submit",disabled:n||!l.file,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),t(n?"Importing...":"Import")]})})]})]})}export{G as default};
