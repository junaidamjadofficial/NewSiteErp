import{j as r}from"./ui-ZHFf5B17.js";import{G as j}from"./app-BBiA4mAE.js";import{D as h,a as v,b as C,c as b}from"./dialog-BLwxprq_.js";import{B as l}from"./button-DYC7yMVq.js";import{L as g}from"./label-DbqhUtKI.js";import{S as D,a as S,b as y,c as N,d as T}from"./select-BEhl2QER.js";import{a as w}from"./helpers-QYnGjXad.js";import{u as E}from"./useTranslation-CV4_gBnb.js";import"./vendor-CcMVubkO.js";/* empty css            */import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";import"./index-BMyiKApA.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./input-DqOfVTcn.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";function B({open:d,onOpenChange:o,balanceSheetId:n,otherBalanceSheets:s}){const{t:i}=E(),{data:t,setData:c,post:u,processing:a,errors:p,reset:m}=j({current_period_id:n,previous_period_id:""}),x=e=>{e.preventDefault(),t.previous_period_id&&u(route("double-entry.balance-sheets.compare"),{onSuccess:()=>{m(),o(!1)},onError:f=>{console.error("Comparison error:",f)}})},_=()=>{m(),o(!1)};return r.jsx(h,{open:d,onOpenChange:o,children:r.jsxs(v,{className:"sm:max-w-md",children:[r.jsx(C,{children:r.jsx(b,{children:i("Compare Balance Sheets")})}),r.jsxs("form",{onSubmit:x,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(g,{htmlFor:"previous_period",children:i("Compare with")}),r.jsxs(D,{value:t.previous_period_id,onValueChange:e=>c("previous_period_id",e),children:[r.jsx(S,{children:r.jsx(y,{placeholder:i("Select balance sheet to compare")})}),r.jsx(N,{children:s==null?void 0:s.map(e=>r.jsxs(T,{value:e.id.toString(),children:[w(e.balance_sheet_date)," - ",e.financial_year]},e.id))})]}),p.previous_period_id&&r.jsx("p",{className:"text-red-500 text-sm",children:p.previous_period_id})]}),r.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[r.jsx(l,{type:"button",variant:"outline",onClick:_,children:i("Cancel")}),r.jsx(l,{type:"submit",disabled:a||!t.previous_period_id,children:i(a?"Comparing...":"Compare")})]})]})]})})}export{B as default};
