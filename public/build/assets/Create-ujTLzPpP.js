import{j as e}from"./ui-ZHFf5B17.js";import{a as b,b as N,c as S}from"./dialog-BLwxprq_.js";import{X as q,G as O}from"./app-BBiA4mAE.js";import{B as h}from"./button-DYC7yMVq.js";import{L as c}from"./label-DbqhUtKI.js";import{I as d}from"./input-error-DuIbBMgZ.js";import{I as j}from"./input-DqOfVTcn.js";import{S as k,a as w,b as I,c as T,d as a}from"./select-BEhl2QER.js";import{S as y}from"./switch-ByWYyd_6.js";import{r as D}from"./vendor-CcMVubkO.js";import{u as E}from"./useTranslation-CV4_gBnb.js";import{P as F}from"./plus-C1hmRCnY.js";import{T as A}from"./trash-2-CIuynBL1.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";function ne({onSuccess:v}){var g;q().props;const{t:s}=E(),{data:n,setData:i,post:C,processing:f,errors:l}=O({question:"",type:"text",options:"[]",is_required:!1,is_active:!0,sort_order:0}),[m,p]=D.useState([{id:"1",option:""}]),_=t=>{t.preventDefault(),C(route("recruitment.custom-questions.store"),{onSuccess:()=>{v()}})};return e.jsxs(b,{children:[e.jsx(N,{children:e.jsx(S,{children:s("Create Custom Question")})}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"question",children:s("Question")}),e.jsx(j,{id:"question",type:"text",value:n.question,onChange:t=>i("question",t.target.value),placeholder:s("Enter Question"),required:!0}),e.jsx(d,{message:l.question})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"type",children:s("Type")}),e.jsxs(k,{value:n.type||"text",onValueChange:t=>{i("type",t),["text","textarea","date","number"].includes(t)?(i("options","[]"),p([])):m.length===0&&p([{id:"1",option:""}])},children:[e.jsx(w,{children:e.jsx(I,{})}),e.jsxs(T,{children:[e.jsx(a,{value:"text",children:s("Text")}),e.jsx(a,{value:"textarea",children:s("Textarea")}),e.jsx(a,{value:"select",children:s("Select")}),e.jsx(a,{value:"radio",children:s("Radio")}),e.jsx(a,{value:"checkbox",children:s("Checkbox")}),e.jsx(a,{value:"date",children:s("Date")}),e.jsx(a,{value:"number",children:s("Number")})]})]}),e.jsx(d,{message:l.type})]}),!["text","textarea","date","number"].includes(n.type)&&e.jsxs("div",{children:[e.jsx(c,{children:s("Options")}),e.jsx("div",{className:"space-y-2",children:m.map((t,u)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{value:t.option||"",onChange:o=>{const r=[...m];r[u]={...r[u],option:o.target.value},p(r),i("options",JSON.stringify(r.map(x=>x.option).filter(x=>x.trim()!=="")))},placeholder:s("Enter Option"),className:"flex-1"}),u===0?e.jsx(h,{type:"button",size:"sm",onClick:()=>{const o=[...m];o.push({id:Date.now().toString(),option:""}),p(o)},className:"h-8 w-8 p-0",children:e.jsx(F,{className:"h-4 w-4"})}):e.jsx(h,{type:"button",variant:"ghost",size:"sm",onClick:()=>{const o=m.filter((r,x)=>x!==u);p(o),i("options",JSON.stringify(o.map(r=>r.option).filter(r=>r.trim()!=="")))},className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(A,{className:"h-4 w-4"})})]},t.id||u))}),e.jsx(d,{message:l.options})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{id:"is_required",checked:n.is_required||!1,onCheckedChange:t=>i("is_required",!!t)}),e.jsx(c,{htmlFor:"is_required",className:"cursor-pointer",children:s("Is Required")}),e.jsx(d,{message:l.is_required})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(y,{id:"is_active",checked:n.is_active||!1,onCheckedChange:t=>i("is_active",!!t)}),e.jsx(c,{htmlFor:"is_active",className:"cursor-pointer",children:s("Is Active")}),e.jsx(d,{message:l.is_active})]})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"sort_order",children:s("Sort Order")}),e.jsx(j,{id:"sort_order",type:"number",step:"1",min:"0",value:((g=n.sort_order)==null?void 0:g.toString())||"0",onChange:t=>i("sort_order",parseInt(t.target.value)||0),placeholder:s("Enter Sort Order")}),e.jsx(d,{message:l.sort_order})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{type:"button",variant:"outline",onClick:v,children:s("Cancel")}),e.jsx(h,{type:"submit",disabled:f,children:s(f?"Creating...":"Create")})]})]})]})}export{ne as default};
