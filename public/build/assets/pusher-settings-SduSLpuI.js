import{j as e}from"./ui-ZHFf5B17.js";import{r as t}from"./vendor-CcMVubkO.js";import{B as f}from"./button-DYC7yMVq.js";import{I as d}from"./input-DqOfVTcn.js";import{L as p}from"./label-DbqhUtKI.js";import{C as N,a as w,b as E,c as v}from"./card-DHszHnbI.js";import{A as F}from"./app-BBiA4mAE.js";import{u as A}from"./useTranslation-CV4_gBnb.js";import{R as _}from"./radio-XBYO3AW-.js";import{S as I}from"./save-B89BgUdM.js";import{E as L}from"./eye-off-ub0Xog94.js";import{E as P}from"./eye-C8Kok_ez.js";import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";/* empty css            */import"./createLucideIcon-Dov4NOxw.js";const g=s=>({app_id:(s==null?void 0:s.pusher_app_id)||"",app_key:(s==null?void 0:s.pusher_app_key)||"",app_secret:(s==null?void 0:s.pusher_app_secret)||"",app_cluster:(s==null?void 0:s.pusher_app_cluster)||"mt1",enabled:(s==null?void 0:s.pusher_enabled)==="1"||!1});function Y({userSettings:s,auth:o}){var j,u;const{t:a}=A(),[n,h]=t.useState(!1),l=(u=(j=o==null?void 0:o.user)==null?void 0:j.permissions)==null?void 0:u.includes("edit-pusher-settings"),[c,x]=t.useState(()=>g(s)),[m,y]=t.useState(!1);t.useEffect(()=>{s&&x(g(s))},[s]);const i=(r,C)=>{x(k=>({...k,[r]:C}))},b=()=>{h(!0),F.post(route("settings.pusher.update"),{settings:{...c}},{preserveScroll:!0,onSuccess:()=>{},onError:()=>{},onFinish:()=>{h(!1)}})};return e.jsxs(N,{children:[e.jsxs(w,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"order-1 rtl:order-2",children:[e.jsxs(E,{className:"flex items-center gap-2 text-lg",children:[e.jsx(_,{className:"h-5 w-5"}),a("Pusher Settings")]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a("Configure Pusher for real-time messaging and notifications")})]}),l&&e.jsxs(f,{className:"order-2 rtl:order-1",onClick:b,disabled:n,size:"sm",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),a(n?"Saving...":"Save Changes")]})]}),e.jsx(v,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(p,{htmlFor:"app_id",className:"font-medium",children:a("App ID")}),e.jsx(d,{id:"app_id",value:c.app_id,onChange:r=>i("app_id",r.target.value),disabled:!l,placeholder:"123456"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(p,{htmlFor:"app_key",className:"font-medium",children:a("App Key")}),e.jsx(d,{id:"app_key",value:c.app_key,onChange:r=>i("app_key",r.target.value),disabled:!l,placeholder:"your-app-key"})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(p,{htmlFor:"app_secret",className:"font-medium",children:a("App Secret")}),e.jsxs("div",{className:"relative",children:[e.jsx(d,{id:"app_secret",type:m?"text":"password",value:c.app_secret,onChange:r=>i("app_secret",r.target.value),disabled:!l,placeholder:"••••••••••••",className:"pr-10"}),l&&e.jsx(f,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>y(!m),children:m?e.jsx(L,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(P,{className:"h-4 w-4 text-muted-foreground"})})]})]}),e.jsxs("div",{className:"space-y-1.5",children:[e.jsx(p,{htmlFor:"app_cluster",className:"font-medium",children:a("App Cluster")}),e.jsx(d,{id:"app_cluster",value:c.app_cluster,onChange:r=>i("app_cluster",r.target.value),disabled:!l,placeholder:"mt1"})]})]})})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(N,{children:e.jsx(v,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(_,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-base font-medium",children:a("Real-time Features")})]}),e.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:a("Pusher enables real-time messaging and notifications in your application.")}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-foreground",children:a("Features enabled:")}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsxs("li",{children:["• ",a("Instant messaging")]}),e.jsxs("li",{children:["• ",a("Real-time notifications")]}),e.jsxs("li",{children:["• ",a("Live updates")]})]})]}),e.jsx("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-200",children:e.jsxs("p",{className:"text-blue-700 text-xs",children:[a("Get your Pusher credentials from")," ",e.jsx("a",{href:"https://pusher.com",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"pusher.com"})]})})]})]})})})})]})})]})}export{Y as default};
