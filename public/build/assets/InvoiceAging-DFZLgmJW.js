import{j as t}from"./ui-ZHFf5B17.js";import{r as d}from"./vendor-CcMVubkO.js";import{X as p,S as g}from"./app-BBiA4mAE.js";import{a as y}from"./html2pdf-Dais6JZR.js";import{b as l,a as m,f as s}from"./helpers-QYnGjXad.js";import{u as j}from"./useTranslation-CV4_gBnb.js";/* empty css            */function D(){const{t:e}=j(),{data:r,filters:n}=p().props,[c,x]=d.useState(!1);d.useEffect(()=>{new URLSearchParams(window.location.search).get("download")==="pdf"&&o()},[]);const o=async()=>{x(!0);const a=document.querySelector(".report-container");if(a){const i={margin:.25,filename:`invoice-aging-${n.as_of_date}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"landscape"}};try{await y().set(i).from(a).save(),setTimeout(()=>window.close(),1e3)}catch(h){console.error("PDF generation failed:",h)}}x(!1)};return t.jsxs("div",{className:"min-h-screen bg-white",children:[t.jsx(g,{title:e("Invoice Aging Report")}),c&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:t.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:t.jsxs("div",{className:"flex items-center space-x-3",children:[t.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),t.jsx("p",{className:"text-lg font-semibold text-gray-700",children:e("Generating PDF...")})]})})}),t.jsxs("div",{className:"report-container bg-white max-w-7xl mx-auto p-8",children:[t.jsx("div",{className:"border-b-2 border-gray-800 pb-6 mb-8",children:t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:l("company_name")||"YOUR COMPANY"}),t.jsx("div",{className:"text-sm text-gray-600 space-y-0.5",children:l("company_address")&&t.jsx("p",{children:l("company_address")})})]}),t.jsxs("div",{className:"text-right",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:e("INVOICE AGING REPORT")}),t.jsxs("p",{className:"text-sm text-gray-600",children:[e("As of"),": ",m(n.as_of_date)]})]})]})}),t.jsxs("table",{className:"w-full border-collapse",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"border-b-2 border-black",children:[t.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:e("Customer")}),t.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:e("Current")}),t.jsxs("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:["1-30 ",e("Days")]}),t.jsxs("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:["31-60 ",e("Days")]}),t.jsxs("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:["61-90 ",e("Days")]}),t.jsxs("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:[">90 ",e("Days")]}),t.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:e("Total")})]})}),t.jsxs("tbody",{children:[r.customers.map((a,i)=>t.jsxs("tr",{className:"border-b border-gray-200",children:[t.jsx("td",{className:"py-2 px-2 text-sm",children:a.customer_name}),t.jsx("td",{className:"py-2 px-2 text-sm text-right",children:s(a.current)}),t.jsx("td",{className:"py-2 px-2 text-sm text-right",children:s(a["1_30_days"])}),t.jsx("td",{className:"py-2 px-2 text-sm text-right",children:s(a["31_60_days"])}),t.jsx("td",{className:"py-2 px-2 text-sm text-right",children:s(a["61_90_days"])}),t.jsx("td",{className:"py-2 px-2 text-sm text-right",children:s(a.over_90_days)}),t.jsx("td",{className:"py-2 px-2 text-sm text-right font-semibold",children:s(a.total)})]},i)),t.jsxs("tr",{className:"border-t-2 border-black font-bold",children:[t.jsx("td",{className:"py-3 px-2 text-sm",children:e("TOTAL")}),t.jsx("td",{className:"py-3 px-2 text-sm text-right",children:s(r.aging_summary.current)}),t.jsx("td",{className:"py-3 px-2 text-sm text-right",children:s(r.aging_summary["1_30_days"])}),t.jsx("td",{className:"py-3 px-2 text-sm text-right",children:s(r.aging_summary["31_60_days"])}),t.jsx("td",{className:"py-3 px-2 text-sm text-right",children:s(r.aging_summary["61_90_days"])}),t.jsx("td",{className:"py-3 px-2 text-sm text-right",children:s(r.aging_summary.over_90_days)}),t.jsx("td",{className:"py-3 px-2 text-sm text-right",children:s(r.aging_summary.total)})]})]})]}),t.jsx("div",{className:"mt-8 pt-4 border-t text-center text-xs text-gray-600",children:t.jsxs("p",{children:[e("Generated on")," ",m(new Date().toISOString())]})})]})]})}export{D as default};
