import{j as e}from"./ui-ZHFf5B17.js";import{a as w,b as f,c as A,e as E}from"./dialog-BLwxprq_.js";import{f as b,a as i}from"./helpers-QYnGjXad.js";import{B as u}from"./button-DYC7yMVq.js";import{X as S,A as B}from"./app-BBiA4mAE.js";import{u as C}from"./useTranslation-CV4_gBnb.js";import{F as k}from"./file-text-BmYvzZ5U.js";import{C as T}from"./circle-check-big-CGCa8M7E.js";import{X as I}from"./x-DVK_F_Gh.js";import"./vendor-CcMVubkO.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./index-BMyiKApA.js";/* empty css            */import"./createLucideIcon-Dov4NOxw.js";function M({offer:t,onClose:r}){var m,c,x,o,p,h,g;const{t:s}=C(),{auth:y}=S().props,n=a=>{B.post(route("recruitment.offers.approval-status",t.id),{action:a},{onSuccess:()=>{r==null||r()}})},v=(()=>{var j,N;const a=((j=t.candidate)==null?void 0:j.first_name)||"",d=((N=t.candidate)==null?void 0:N.last_name)||"";return a||d?`${a} ${d}`.trim():s("Unknown Candidate")})(),_=a=>{switch(a){case"0":return"bg-gray-500";case"1":return"bg-blue-500";case"2":return"bg-emerald-500";case"3":return"bg-amber-500";case"4":return"bg-red-500";case"5":return"bg-orange-500";default:return"bg-gray-500"}},D=a=>({0:"Draft",1:"Sent",2:"Accepted",3:"Negotiating",4:"Declined",5:"Expired"})[a]||a||s("Unknown"),l=t.expiration_date&&t.expiration_date<=new Date().toISOString().split("T")[0];return e.jsxs(w,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsx(f,{className:"pb-4 border-b",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(k,{className:"h-6 w-6 text-primary"})}),e.jsx("div",{children:e.jsx(A,{className:"text-xl font-semibold",children:s("Offer Details")})})]}),e.jsx("span",{className:`px-4 py-2 rounded-full text-sm font-medium text-white mt-4 ${_(t.status)}`,children:s(D(t.status))})]})}),e.jsxs("div",{className:"space-y-6 py-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:s("Basic Information")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Candidate Name")}),e.jsx("p",{className:"text-gray-900",children:v})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Position")}),e.jsx("p",{className:"text-gray-900",children:t.position||s("Not specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Email")}),e.jsx("p",{className:"text-gray-900",children:((m=t.candidate)==null?void 0:m.email)||s("Not specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Phone")}),e.jsx("p",{className:"text-gray-900",children:((c=t.candidate)==null?void 0:c.phone)||s("Not specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Job Title")}),e.jsx("p",{className:"text-gray-900",children:((x=t.job)==null?void 0:x.title)||s("Not specified")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Department")}),e.jsx("p",{className:"text-gray-900",children:((o=t.department)==null?void 0:o.department_name)||s("Not specified")})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:s("Compensation")}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Salary")}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:t.salary?b(t.salary):s("Not set")})]}),t.bonus&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Bonus")}),e.jsx("p",{className:"text-xl font-bold text-green-700",children:b(t.bonus)})]}),t.equity&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Equity")}),e.jsx("p",{className:"text-xl font-bold text-purple-700",children:t.equity})]})]})]}),e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:s("Important Dates")}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Offer Date")}),e.jsx("p",{className:"text-gray-900",children:i(t.offer_date)||s("Not set")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Start Date")}),e.jsx("p",{className:"text-gray-900",children:i(t.start_date)||s("Not set")})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Expires")}),e.jsxs("p",{className:l?"text-red-600 font-bold":"text-gray-900",children:[i(t.expiration_date)||s("No limit"),l&&e.jsx("span",{className:"ml-2 text-xs font-bold",children:s("EXPIRED")})]})]})]})]}),(t.approved_by||t.response_date)&&e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:s("Additional Information")}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.approved_by&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Approved By")}),e.jsx("p",{className:"text-gray-900",children:typeof t.approved_by=="object"?((p=t.approved_by)==null?void 0:p.name)||s("Unknown User"):t.approved_by})]}),t.response_date&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:s("Response Date")}),e.jsx("p",{className:"text-gray-900",children:i(t.response_date)})]})]})]}),t.benefits&&e.jsxs("div",{className:"bg-yellow-50 rounded-lg p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:s("Benefits")}),e.jsx("p",{className:"text-gray-700 leading-relaxed",children:t.benefits})]})]}),((g=(h=y.user)==null?void 0:h.permissions)==null?void 0:g.includes("approve-offers"))&&e.jsxs(E,{className:"flex justify-end gap-2 pt-4 border-t",children:[e.jsxs(u,{onClick:()=>n("approve"),className:"bg-green-600 hover:bg-green-700",disabled:t.approval_status==="approved",children:[e.jsx(T,{className:"w-4 h-4 mr-2"}),s("Approve")]}),e.jsxs(u,{onClick:()=>n("reject"),className:"bg-red-600 hover:bg-red-700",disabled:t.approval_status==="rejected",children:[e.jsx(I,{className:"w-4 h-4 mr-2"}),s("Reject")]})]})]})}export{M as default};
