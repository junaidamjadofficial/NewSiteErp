import{j as i}from"./ui-ZHFf5B17.js";import{r as c}from"./vendor-CcMVubkO.js";import{X as m}from"./app-BBiA4mAE.js";import{a as p}from"./html2pdf-Dais6JZR.js";import{f}from"./helpers-QYnGjXad.js";import{J as x}from"./JsBarcode-BvJ1jj08.js";/* empty css            */function v(){const{products:a,copies:n}=m().props,[d,l]=c.useState({});return c.useEffect(()=>{const e={};a.forEach(t=>{const o=n[t.id]||1;for(let r=0;r<o;r++){const s=document.createElement("canvas");x(s,t.sku,{format:"CODE128",width:2,height:50}),e[`${t.id}-${r}`]=s.toDataURL()}}),l(e),new URLSearchParams(window.location.search).get("download")==="pdf"&&setTimeout(async()=>{const t={margin:.5,filename:"product-barcodes.pdf",image:{type:"jpeg",quality:1},html2canvas:{scale:3,useCORS:!0,letterRendering:!0},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};await p().set(t).from(document.querySelector(".barcode-container")).save(),window.opener&&window.opener.location.reload(),window.close()},500)},[]),i.jsx("div",{className:"barcode-container p-8",children:i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"10px"},children:a.map(e=>Array(n[e.id]||1).fill().map((t,o)=>i.jsxs("div",{style:{border:"1px solid #ccc",padding:"8px",textAlign:"center",height:"120px",display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[i.jsx("div",{style:{fontSize:"9px",fontWeight:"bold",wordBreak:"break-word",lineHeight:"1.1",height:"20px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:e.name}),i.jsx("img",{src:d[`${e.id}-${o}`],alt:"Barcode",style:{maxWidth:"100%",height:"50px"}}),i.jsx("div",{style:{fontSize:"8px",color:"#666"},children:f(e.price)})]},`${e.id}-${o}`)))})})}export{v as default};
