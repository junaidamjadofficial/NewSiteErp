import{j as e}from"./ui-ZHFf5B17.js";import{r as v}from"./vendor-CcMVubkO.js";import{X as z,G as J,t as g}from"./app-BBiA4mAE.js";import{B as Q}from"./button-DYC7yMVq.js";import{I as n}from"./input-DqOfVTcn.js";import{L as d}from"./label-DbqhUtKI.js";import{S as y,a as C,b as w,c as _,d as u}from"./select-BEhl2QER.js";import{R as q}from"./rich-text-editor-59agrfWF.js";import{C as k,c as $}from"./card-DHszHnbI.js";import X from"./SupportTicketLayout-pQfutyf3.js";import{j as D,m as V}from"./helpers-QYnGjXad.js";import{u as K}from"./useTranslation-CV4_gBnb.js";import{I as H}from"./info-CuYUIdBA.js";import{C as R}from"./clock-3RA97mBy.js";import{P as B}from"./phone-B_vxbsBq.js";import{U as Z}from"./users-OzPx1l-a.js";import{C as I}from"./circle-help-CE56Mn6R.js";import{F as ee}from"./file-text-BmYvzZ5U.js";import{M as se}from"./message-circle-TeiA59tv.js";import{C as te,B as L}from"./code-zYLA2qp9.js";import{L as ae}from"./lightbulb-C1h491_-.js";import{V as re}from"./video-NvD8FrU_.js";import{S as le}from"./send-J2b8i-sO.js";/* empty css            */import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./createLucideIcon-Dov4NOxw.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./index-DaFL_H0m.js";import"./with-selector-CP8JaRn2.js";import"./undo-D3tFEvb3.js";import"./list-BVwWsOhE.js";import"./link-2Bt5o4zZ.js";import"./useFormFields-BwNmEYJY.js";import"./tooltip-C7wT1CW2.js";import"./textarea-DxQ_BnuT.js";import"./radio-group-Bg6nc_Xb.js";import"./circle-bmoNtd-e.js";import"./slider-CIevYFX0.js";import"./dialog-BLwxprq_.js";import"./x-DVK_F_Gh.js";import"./sparkles-yKnt-shd.js";import"./input-error-DuIbBMgZ.js";import"./switch-ByWYyd_6.js";import"./index-Chjiymov.js";import"./index-8JwjhRSi.js";import"./badge-CV60sqBJ.js";import"./ticket-CPT2TfbK.js";import"./headphones-BkxDRJ_v.js";import"./menu-CO-7TdWM.js";function os({categories:x,allFields:N,customFields:ie,settings:G,brandSettings:U,titleSections:h,quickLinks:p,supportInformation:c,slug:A}){var M,E;const{t}=K(),{flash:o}=z().props,[ce,me]=v.useState(!1),[f,b]=v.useState([]),{data:l,setData:m,post:O,processing:F,errors:i,reset:S}=J({name:"",email:"",category:"",subject:"",status:"In Progress",description:"",account_type:"custom",fields:{}});v.useEffect(()=>{if(o!=null&&o.success){const s=document.createElement("div");s.innerHTML=o.success;const r=s.querySelector("a"),a=r==null?void 0:r.getAttribute("href"),j=s.textContent||s.innerText||"";a?g.success(j,{action:{label:"View Ticket",onClick:()=>window.open(a,"_blank")},duration:1e4}):g.success(j),S()}o!=null&&o.error&&g.error(o.error)},[o]);const W=s=>{if(s.target.files&&s.target.files.length>0){const r=Array.from(s.target.files);b(r),m("attachments",r)}else{b([]);const r={...l};delete r.attachments,m(r)}},Y=s=>{s.preventDefault(),O(route("support-ticket.create.store",[A]),{onSuccess:r=>{S(),b([])},onError:r=>{g.error("Failed to create ticket. Please try again.")}})},T=((M=h==null?void 0:h.create_ticket)==null?void 0:M.title)||"Create Support Ticket",P=((E=h==null?void 0:h.create_ticket)==null?void 0:E.description)||"Submit your support request and get help from our team";return e.jsx(X,{title:T,settings:G,brandSettings:U,children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs("div",{className:"lg:w-1/4",style:{animation:"fadeIn 0.5s ease-out"},children:[e.jsxs(k,{className:"mb-6 shadow-lg",children:[e.jsx("div",{className:"bg-teal-600 py-3 px-4 rounded-t-xl",children:e.jsx("h3",{className:"text-white font-medium text-lg md:text-xl",children:t("Support Information")})}),e.jsxs($,{className:"p-4",children:[e.jsx("div",{className:"mb-4 text-center rounded-lg overflow-hidden",children:e.jsx("img",{src:D("packages/workdo/SupportTicket/src/Resources/assets/images/svg/support-illustration.svg"),alt:"Support",className:"mx-auto w-full h-full"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-teal-50 p-3 rounded-lg flex items-start",children:[e.jsx(H,{className:"text-teal-600 mt-1 mr-3 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t("Response Time")}),e.jsx("p",{className:"text-sm text-gray-600",children:(c==null?void 0:c.response_time)||"We typically respond within 24 hours on business days."})]})]}),e.jsxs("div",{className:"bg-teal-50 p-3 rounded-lg flex items-start",children:[e.jsx(R,{className:"text-teal-600 mt-1 mr-3 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t("Support Hours")}),e.jsxs("p",{className:"text-sm text-gray-600",children:[c!=null&&c.business_hours?c.business_hours.filter(s=>s.is_open).map(s=>s.day).join(", ")||"Closed":"Monday - Friday",": ",c!=null&&c.opening_hours?V(c.opening_hours):"9AM"," - ",c!=null&&c.closing_hours?V(c.closing_hours):"6PM"]})]})]}),e.jsxs("div",{className:"bg-teal-50 p-3 rounded-lg flex items-start",children:[e.jsx(B,{className:"text-teal-600 mt-1 mr-3 h-5 w-5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-800",children:t("Phone Support")}),e.jsx("p",{className:"text-sm text-gray-600",children:(c==null?void 0:c.phone_support)||"+1 (555) 123-4567"})]})]})]})]})]}),e.jsxs(k,{className:"shadow-lg",style:{animation:"fadeIn 0.5s ease-out",animationDelay:"0.2s",animationFillMode:"both"},children:[e.jsx("div",{className:"bg-teal-600 py-3 px-4 rounded-t-xl",children:e.jsx("h3",{className:"text-white font-medium text-lg md:text-xl",children:t("Quick Links")})}),e.jsx("div",{children:p&&p.length>0?p.map((s,r)=>{const j={BookOpen:L,Video:re,Lightbulb:ae,Code:te,MessageCircle:se,FileText:ee,HelpCircle:I,Users:Z,Info:H,Clock:R,Phone:B}[s.icon]||L;return e.jsxs("a",{href:s.link,className:`block p-4 hover:bg-teal-50 transition duration-200 text-gray-700 ${r<p.length-1?"border-b border-gray-100":""}`,target:s.link.startsWith("http")?"_blank":"_self",rel:s.link.startsWith("http")?"noopener noreferrer":void 0,children:[e.jsx(j,{className:"inline mr-2 text-teal-600 h-4 w-4"})," ",s.title]},r)}):e.jsx("div",{className:"p-4 text-center text-gray-500",children:t(" No quick links available")})})]})]}),e.jsx("div",{className:"lg:w-3/4",style:{animation:"fadeIn 0.5s ease-out",animationDelay:"0.3s",animationFillMode:"both"},children:e.jsxs(k,{className:"shadow-xl",style:{animation:"fadeInUp 0.6s ease-out",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",border:"1px solid rgba(220, 220, 220, 0.5)",position:"relative",zIndex:1},children:[e.jsxs("div",{className:"bg-teal-600 p-4 md:py-5 md:px-6 rounded-t-xl",children:[e.jsx("h2",{className:"text-white text-xl md:text-2xl lg:text-3xl font-semibold text-center",children:T}),P&&e.jsx("p",{className:"text-teal-100 text-center mt-2 text-sm md:text-base",children:P})]}),e.jsx($,{className:"p-4 md:p-8",children:e.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-12 gap-4",children:N&&N.length>0?N.sort((s,r)=>s.order-r.order).map(s=>{const r=s.width==="12"?"col-span-12":s.width==="6"?"col-span-6":s.width==="4"?"col-span-4":s.width==="3"?"col-span-3":"col-span-12";if(s.custom_id==1)return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(n,{id:"name",value:l.name,onChange:a=>m("name",a.target.value),placeholder:t(s.placeholder),className:"w-full",required:s.is_required}),i.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.name})]},s.id);if(s.custom_id==2)return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(n,{id:"email",type:"email",value:l.email,onChange:a=>m("email",a.target.value),placeholder:t(s.placeholder),className:"w-full",required:s.is_required}),i.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.email})]},s.id);if(s.custom_id==3)return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:"category",className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsxs(y,{value:l.category,onValueChange:a=>m("category",a),children:[e.jsx(C,{children:e.jsx(w,{placeholder:t(s.placeholder)})}),e.jsx(_,{children:x==null?void 0:x.map(a=>e.jsx(u,{value:a.id.toString(),children:a.name},a.id))})]}),i.category&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.category})]},s.id);if(s.custom_id==4)return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:"subject",className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(n,{id:"subject",value:l.subject,onChange:a=>m("subject",a.target.value),placeholder:t(s.placeholder),className:"w-full",required:s.is_required}),i.subject&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.subject})]},s.id),e.jsxs("div",{className:"col-span-6",children:[e.jsx(d,{htmlFor:"status",className:"block text-gray-700 font-medium mb-2",required:!0,children:t("Status")}),e.jsxs(y,{value:l.status,onValueChange:a=>m("status",a),children:[e.jsx(C,{children:e.jsx(w,{placeholder:"Select Status"})}),e.jsxs(_,{children:[e.jsx(u,{value:"In Progress",children:t("In Progress")}),e.jsx(u,{value:"On Hold",children:t("On Hold")}),e.jsx(u,{value:"Closed",children:t("Closed")})]})]})]})]});if(s.custom_id==5)return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:"description",className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(q,{value:l.description,onChange:a=>m("description",a),placeholder:t(s.placeholder)}),i.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.description})]},s.id);if(s.custom_id==6)return e.jsxs("div",{className:r,children:[e.jsxs(d,{className:"block text-gray-700 font-medium mb-2",children:[t(s.name)," ",e.jsxs("span",{className:"text-sm text-gray-500",children:["(",t(s.placeholder),")"]})]}),e.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-lg hover:border-teal-400 transition-all duration-300",children:e.jsxs("div",{className:"space-y-1 text-center",children:[e.jsx("img",{src:D("packages/workdo/SupportTicket/src/Resources/assets/images/svg/file-upload-illustration.svg"),alt:"File Upload",className:"h-28 mx-auto",style:{animation:"float 6s ease-in-out infinite"}}),e.jsxs("div",{className:"flex text-sm text-gray-600",children:[e.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md font-medium text-teal-600 hover:text-teal-500",children:[e.jsx("span",{children:"Choose Files"}),e.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",multiple:!0,accept:"image/png,image/jpeg,image/gif,application/pdf",onChange:W})]}),e.jsx("p",{className:"pl-1",children:t("or drag and drop")})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"}),f.length>0&&e.jsxs("div",{className:"text-sm text-gray-500 mt-2",children:[f.length," file(s) selected"]})]})}),i.attachments&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.attachments})]},s.id);if(s.custom_id>6){if(s.type==="text")return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:`field-${s.id}`,className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(n,{id:`field-${s.id}`,value:l.fields[s.id]||"",onChange:a=>m("fields",{...l.fields,[s.id]:a.target.value}),placeholder:t(s.placeholder),required:s.is_required,className:"w-full"})]},s.id);if(s.type==="email")return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:`field-${s.id}`,className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(n,{id:`field-${s.id}`,type:"email",value:l.fields[s.id]||"",onChange:a=>m("fields",{...l.fields,[s.id]:a.target.value}),placeholder:t(s.placeholder),required:s.is_required,className:"w-full"})]},s.id);if(s.type==="number")return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:`field-${s.id}`,className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(n,{id:`field-${s.id}`,type:"number",value:l.fields[s.id]||"",onChange:a=>m("fields",{...l.fields,[s.id]:a.target.value}),placeholder:t(s.placeholder),required:s.is_required,className:"w-full"})]},s.id);if(s.type==="date")return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:`field-${s.id}`,className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(n,{id:`field-${s.id}`,type:"date",value:l.fields[s.id]||"",onChange:a=>m("fields",{...l.fields,[s.id]:a.target.value}),placeholder:t(s.placeholder),required:s.is_required,className:"w-full"})]},s.id);if(s.type==="textarea")return e.jsxs("div",{className:r,children:[e.jsx(d,{htmlFor:`field-${s.id}`,className:"block text-gray-700 font-medium mb-2",required:s.is_required,children:t(s.name)}),e.jsx(q,{value:l.fields[s.id]||"",onChange:a=>m("fields",{...l.fields,[s.id]:a}),placeholder:t(s.placeholder)})]},s.id)}return null}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-span-6",children:[e.jsx(d,{htmlFor:"name",className:"block text-gray-700 font-medium mb-2",children:t("Name")}),e.jsx(n,{id:"name",value:l.name,onChange:s=>m("name",s.target.value),placeholder:"Enter Your Name",className:"w-full",required:!0}),i.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.name})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx(d,{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:t("Email")}),e.jsx(n,{id:"email",type:"email",value:l.email,onChange:s=>m("email",s.target.value),placeholder:"Enter Your Email",className:"w-full",required:!0}),i.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.email})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx(d,{htmlFor:"category",className:"block text-gray-700 font-medium mb-2",children:t("Category")}),e.jsxs(y,{value:l.category,onValueChange:s=>m("category",s),children:[e.jsx(C,{children:e.jsx(w,{placeholder:"Select Category"})}),e.jsx(_,{children:x==null?void 0:x.map(s=>e.jsx(u,{value:s.id.toString(),children:s.name},s.id))})]}),i.category&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.category})]}),e.jsxs("div",{className:"col-span-6",children:[e.jsx(d,{htmlFor:"subject",className:"block text-gray-700 font-medium mb-2",children:t("Subject")}),e.jsx(n,{id:"subject",value:l.subject,onChange:s=>m("subject",s.target.value),placeholder:"Enter Subject",className:"w-full",required:!0}),i.subject&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.subject})]}),e.jsxs("div",{className:"col-span-12",children:[e.jsx(d,{htmlFor:"description",className:"block text-gray-700 font-medium mb-2",children:t("Description")}),e.jsx(q,{value:l.description,onChange:s=>m("description",s),placeholder:"Please describe your issue in detail..."}),i.description&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:i.description})]})]})}),e.jsx("div",{className:"text-center",children:e.jsxs(Q,{type:"submit",disabled:F,className:"bg-teal-600 hover:bg-teal-700 text-white font-medium py-3 px-8 rounded-full transition-all duration-300 shadow-md hover:shadow-lg",children:[e.jsx(le,{className:"h-4 w-4 mr-2"}),F?"Creating...":"Create Ticket"]})})]})})]})})]})})}export{os as default};
