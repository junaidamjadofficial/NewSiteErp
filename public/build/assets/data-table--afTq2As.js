import{j as s}from"./ui-ZHFf5B17.js";import{r as d,c as R}from"./vendor-CcMVubkO.js";import{C as B,a as H,c as v}from"./card-DHszHnbI.js";import{I as L}from"./input-DqOfVTcn.js";import{B as N}from"./button-DYC7yMVq.js";import{T as E,a as P,b as p,c as U,d as F,e as g}from"./table-DHznIK9t.js";import{c as _}from"./utils-DrcJ8Itn.js";import{S as $}from"./search-Chs14P_a.js";import{C as q}from"./chevron-left-CMBAh2v_.js";import{C as G}from"./chevron-right-BtPraxo3.js";import{A as J}from"./arrow-up-down-D4TAtYCt.js";import{A as K,a as O}from"./arrow-up-BLTFDVcR.js";function le({data:m,columns:c,onSort:u,sortKey:k,sortDirection:w,emptyState:T,className:A,searchable:x=!1,searchPlaceholder:D="Search...",pageSize:l=10,showPagination:h=!1,rowProps:C}){const[i,S]=d.useState(""),[a,b]=d.useState(1),I=e=>k!==e?s.jsx(J,{className:"h-4 w-4"}):w==="asc"?s.jsx(K,{className:"h-4 w-4"}):s.jsx(O,{className:"h-4 w-4"}),M=(e,r)=>{r&&u&&u(e)},n=d.useMemo(()=>{const e=Array.isArray(m)?m:[];return!x||!i?e:e.filter(r=>c.some(t=>{const j=r[t.key];return j==null?void 0:j.toString().toLowerCase().includes(i.toLowerCase())}))},[m,i,c,x]),y=d.useMemo(()=>{if(!h)return n;const e=(a-1)*l;return n.slice(e,e+l)},[n,a,l,h]),o=Math.ceil(n.length/l),f=e=>{b(e)};return s.jsxs(B,{className:A,children:[x&&s.jsx(H,{className:"pb-4",children:s.jsxs("div",{className:"relative",children:[s.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(L,{placeholder:D,value:i,onChange:e=>{S(e.target.value),b(1)},className:"pl-10"})]})}),s.jsx(v,{className:"p-0",children:s.jsxs(E,{children:[s.jsx(P,{children:s.jsx(p,{children:c.map(e=>s.jsx(U,{className:_("font-bold bg-gray-100 dark:bg-gray-800 dark:text-gray-200",e.sortable?"cursor-pointer":"",e.className||""),onClick:()=>M(e.key,e.sortable),children:s.jsxs("div",{className:"flex items-center gap-2",children:[e.header,e.sortable&&I(e.key)]})},e.key))})}),s.jsx(F,{children:y.length>0?y.map((e,r)=>s.jsx(p,{...C?C(e,r):{},children:c.map(t=>s.jsx(g,{className:t.className,children:t.render?t.render(e[t.key],e,r):e[t.key]||"-"},t.key))},e.id||r)):s.jsx(p,{children:s.jsx(g,{colSpan:c.length,className:"h-24 text-center",children:T||s.jsx("div",{className:"flex flex-col items-center justify-center text-center",children:s.jsx("p",{className:"text-muted-foreground",children:i?"No results found":"No data available"})})})})})]})}),h&&o>1&&s.jsx(v,{className:"pt-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",(a-1)*l+1," to ",Math.min(a*l,n.length)," of ",n.length," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(N,{variant:"outline",size:"sm",onClick:()=>f(a-1),disabled:a===1,children:[s.jsx(q,{className:"h-4 w-4"}),"Previous"]}),s.jsx("div",{className:"flex items-center space-x-1",children:Array.from({length:o},(e,r)=>r+1).filter(e=>e===1||e===o||e>=a-1&&e<=a+1).map((e,r,t)=>s.jsxs(R.Fragment,{children:[r>0&&t[r-1]!==e-1&&s.jsx("span",{className:"px-2 text-muted-foreground",children:"..."},`ellipsis-${e}`),s.jsx(N,{variant:a===e?"default":"outline",size:"sm",onClick:()=>f(e),className:"w-8 h-8 p-0",children:e})]},e))}),s.jsxs(N,{variant:"outline",size:"sm",onClick:()=>f(a+1),disabled:a===o,children:["Next",s.jsx(G,{className:"h-4 w-4"})]})]})]})})]})}export{le as D};
