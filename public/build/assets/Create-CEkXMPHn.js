import{j as e}from"./ui-ZHFf5B17.js";import{a as B,b as F,c as I}from"./dialog-BLwxprq_.js";import{X as N,G as T,a as O}from"./app-BBiA4mAE.js";import{B as f}from"./button-DYC7yMVq.js";import{L as n}from"./label-DbqhUtKI.js";import{I as d}from"./input-error-DuIbBMgZ.js";import{I as g}from"./input-DqOfVTcn.js";import{S as b,a as v,b as _,c as C,d as D}from"./select-BEhl2QER.js";import{C as S}from"./currency-input-BZrT8lhz.js";import{T as P}from"./textarea-DxQ_BnuT.js";import{D as y}from"./date-picker-CVthJV3y.js";import{r as u}from"./vendor-CcMVubkO.js";import{u as V}from"./useTranslation-CV4_gBnb.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./helpers-QYnGjXad.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";function he({onSuccess:m}){var h,j;const{candidates:l,jobpostings:p,users:q,departments:o}=N().props,[k,c]=u.useState(p||[]),[A,J]=u.useState(q||[]),{t:r}=V(),{data:a,setData:i,post:E,processing:x,errors:s}=T({candidate_id:"",job_id:"",offer_date:new Date().toISOString().split("T")[0],position:"",department_id:"",salary:"",bonus:"",equity:"",benefits:"",start_date:"",expiration_date:"",offer_letter_path:"",status:"0",response_date:"",decline_reason:""});u.useEffect(()=>{a.candidate_id?O.get(route("recruitment.candidates.jobs",a.candidate_id)).then(t=>{c(t.data)}).catch(()=>{c([])}):(c(p||[]),i("job_id",""))},[a.candidate_id]);const w=t=>{t.preventDefault(),E(route("recruitment.offers.store"),{onSuccess:()=>{m()}})};return e.jsxs(B,{children:[e.jsx(F,{children:e.jsx(I,{children:r("Create Offer")})}),e.jsxs("form",{onSubmit:w,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"candidate_id",required:!0,children:[r("Candidate")," "]}),e.jsxs(b,{value:((h=a.candidate_id)==null?void 0:h.toString())||"",onValueChange:t=>i("candidate_id",t),required:!0,children:[e.jsx(v,{children:e.jsx(_,{placeholder:r("Select Candidate")})}),e.jsx(C,{children:l.map(t=>e.jsx(D,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(d,{message:s.candidate_id}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:r("Only qualified candidates are shown.")}),(!l||l.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r("Create candidate here. "),e.jsx("a",{href:route("recruitment.candidates.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:r("candidate")}),"."]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"position",children:r("Position")}),e.jsx(g,{id:"position",type:"text",value:a.position,onChange:t=>i("position",t.target.value),placeholder:r("Enter Position"),required:!0}),e.jsx(d,{message:s.position})]}),e.jsxs("div",{children:[e.jsxs(n,{htmlFor:"department_id",required:!0,children:[r("Department")," "]}),e.jsxs(b,{value:((j=a.department_id)==null?void 0:j.toString())||"",onValueChange:t=>i("department_id",t),required:!0,children:[e.jsx(v,{children:e.jsx(_,{placeholder:r("Select Department")})}),e.jsx(C,{children:o==null?void 0:o.map(t=>e.jsx(D,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(d,{message:s.department_id}),(!o||o.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[r("Create department here. "),e.jsx("a",{href:route("hrm.departments.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:r("department")}),"."]})]}),e.jsx("div",{children:e.jsx(S,{label:r("Salary"),value:a.salary,onChange:t=>i("salary",t),error:s.salary,required:!0})}),e.jsx("div",{children:e.jsx(S,{label:r("Bonus"),value:a.bonus,onChange:t=>i("bonus",t),error:s.bonus})}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"equity",children:r("Equity")}),e.jsx(g,{id:"equity",type:"text",value:a.equity,onChange:t=>i("equity",t.target.value),placeholder:r("Enter Equity")}),e.jsx(d,{message:s.equity})]}),e.jsxs("div",{children:[e.jsx(n,{required:!0,children:r("Start Date")}),e.jsx(y,{value:a.start_date,onChange:t=>i("start_date",t),placeholder:r("Select Start Date"),minDate:new Date(Date.now()+24*60*60*1e3),required:!0}),e.jsx(d,{message:s.start_date})]}),e.jsxs("div",{children:[e.jsx(n,{required:!0,children:r("Expiration Date")}),e.jsx(y,{value:a.expiration_date,onChange:t=>i("expiration_date",t),placeholder:r("Select Expiration Date"),minDate:a.start_date?new Date(new Date(a.start_date).getTime()+24*60*60*1e3):new Date(Date.now()+24*60*60*1e3),required:!0}),e.jsx(d,{message:s.expiration_date})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"benefits",children:r("Benefits")}),e.jsx(P,{id:"benefits",value:a.benefits,onChange:t=>i("benefits",t.target.value),placeholder:r("Enter Benefits"),rows:3}),e.jsx(d,{message:s.benefits})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(f,{type:"button",variant:"outline",onClick:m,children:r("Cancel")}),e.jsx(f,{type:"submit",disabled:x,children:r(x?"Creating...":"Create")})]})]})]})}export{he as default};
