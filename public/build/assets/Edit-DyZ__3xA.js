import{j as e}from"./ui-ZHFf5B17.js";import{a as A,b as L,c as M}from"./dialog-BLwxprq_.js";import{X as U,G}from"./app-BBiA4mAE.js";import{B as P}from"./button-DYC7yMVq.js";import{L as d}from"./label-DbqhUtKI.js";import{I as o}from"./input-error-DuIbBMgZ.js";import{D as H}from"./date-picker-CVthJV3y.js";import{T as X}from"./textarea-DxQ_BnuT.js";import{M as z}from"./MediaPicker-CztOgrDm.js";import{S as c,a as m,b as p,c as _,d as h}from"./select-BEhl2QER.js";import{r as x}from"./vendor-CcMVubkO.js";import{u as J}from"./useTranslation-CV4_gBnb.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";import"./input-DqOfVTcn.js";import"./badge-CV60sqBJ.js";import"./image-C8M1mNs8.js";import"./plus-C1hmRCnY.js";import"./search-Chs14P_a.js";import"./upload-KhHqnUys.js";import"./check-DUlQPeVG.js";import"./helpers-QYnGjXad.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";function Ce({employeetransfer:s,onSuccess:D}){var y,F,N,B,V,k,w,I;const{employees:j,branches:g,departments:u,designations:f}=U().props,[S,E]=x.useState([]),[b,T]=x.useState([]),{t:r}=J(),{data:i,setData:n,put:R,processing:C,errors:a}=G({employee_id:((y=s.employee_id)==null?void 0:y.toString())||"",to_branch_id:((F=s.to_branch_id)==null?void 0:F.toString())||"",to_department_id:((N=s.to_department_id)==null?void 0:N.toString())||"",to_designation_id:((B=s.to_designation_id)==null?void 0:B.toString())||"",effective_date:s.effective_date||"",reason:s.reason??"",document:s.document||""});x.useEffect(()=>{if(i.to_branch_id){const t=(u==null?void 0:u.filter(l=>l.branch_id.toString()===i.to_branch_id))||[];E(t),i.to_department_id&&(t.find(v=>v.id.toString()===i.to_department_id)||(n("to_department_id",""),n("to_designation_id","")))}else E([]),n("to_department_id",""),n("to_designation_id","")},[i.to_branch_id]),x.useEffect(()=>{if(i.to_department_id){const t=(f==null?void 0:f.filter(l=>l.department_id.toString()===i.to_department_id))||[];T(t),i.to_designation_id&&(t.find(v=>v.id.toString()===i.to_designation_id)||n("to_designation_id",""))}else T([]),n("to_designation_id","")},[i.to_department_id]);const q=t=>{t.preventDefault(),R(route("hrm.employee-transfers.update",s.id),{onSuccess:()=>{D()}})};return e.jsxs(A,{children:[e.jsx(L,{children:e.jsx(M,{children:r("Edit Employee Transfer")})}),e.jsxs("form",{onSubmit:q,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"employee_id",children:[r("Employee")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(c,{value:((V=i.employee_id)==null?void 0:V.toString())||"",onValueChange:t=>n("employee_id",t),disabled:!0,children:[e.jsx(m,{children:e.jsx(p,{placeholder:r("Select Employee")})}),e.jsx(_,{searchable:!0,children:j==null?void 0:j.map(t=>e.jsx(h,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(o,{message:a.employee_id})]}),e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"to_branch_id",children:[r("To Branch")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(c,{value:((k=i.to_branch_id)==null?void 0:k.toString())||"",onValueChange:t=>n("to_branch_id",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:r("Select To Branch")})}),e.jsx(_,{searchable:!0,children:g==null?void 0:g.map(t=>e.jsx(h,{value:t.id.toString(),children:t.branch_name},t.id))})]}),e.jsx(o,{message:a.to_branch_id})]}),e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"to_department_id",children:[r("To Department")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(c,{value:((w=i.to_department_id)==null?void 0:w.toString())||"",onValueChange:t=>n("to_department_id",t),disabled:!i.to_branch_id,children:[e.jsx(m,{children:e.jsx(p,{placeholder:i.to_branch_id?r("Select To Department"):r("Select To Branch first")})}),e.jsx(_,{searchable:!0,children:S==null?void 0:S.map(t=>e.jsx(h,{value:t.id.toString(),children:t.department_name},t.id))})]}),e.jsx(o,{message:a.to_department_id})]}),e.jsxs("div",{children:[e.jsxs(d,{htmlFor:"to_designation_id",children:[r("To Designation")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(c,{value:((I=i.to_designation_id)==null?void 0:I.toString())||"",onValueChange:t=>n("to_designation_id",t),disabled:!i.to_department_id,children:[e.jsx(m,{children:e.jsx(p,{placeholder:i.to_department_id?r("Select To Designation"):r("Select To Department first")})}),e.jsx(_,{searchable:!0,children:b==null?void 0:b.map(t=>e.jsx(h,{value:t.id.toString(),children:t.designation_name},t.id))})]}),e.jsx(o,{message:a.to_designation_id})]}),e.jsxs("div",{children:[e.jsxs(d,{children:[r("Effective Date")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(H,{value:i.effective_date,onChange:t=>n("effective_date",t),placeholder:r("Select Effective Date")}),e.jsx(o,{message:a.effective_date})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"reason",required:!0,children:r("Reason")}),e.jsx(X,{id:"reason",value:i.reason,onChange:t=>n("reason",t.target.value),placeholder:r("Enter Reason"),rows:3,required:!0}),e.jsx(o,{message:a.reason})]}),e.jsxs("div",{children:[e.jsx(z,{label:r("Document"),value:i.document,onChange:t=>n("document",Array.isArray(t)?t[0]||"":t),placeholder:r("Select Document..."),showPreview:!0,multiple:!1}),e.jsx(o,{message:a.document})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(P,{type:"button",variant:"outline",onClick:D,children:r("Cancel")}),e.jsx(P,{type:"submit",disabled:C,children:r(C?"Updating...":"Update")})]})]})]})}export{Ce as default};
