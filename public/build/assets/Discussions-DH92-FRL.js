import{j as e}from"./ui-ZHFf5B17.js";import{r as o}from"./vendor-CcMVubkO.js";import{A as x}from"./app-BBiA4mAE.js";import{D as f}from"./data-table--afTq2As.js";import{B as l}from"./button-DYC7yMVq.js";import{D as h,a as g,b as j,c as y}from"./dialog-BLwxprq_.js";import{L as D}from"./label-DbqhUtKI.js";import{T as b}from"./textarea-DxQ_BnuT.js";import{N}from"./no-records-found-C2RGIdAh.js";import{k as v}from"./helpers-QYnGjXad.js";import{u as M}from"./useTranslation-CV4_gBnb.js";import{M as S}from"./message-square-U01x5Y17.js";/* empty css            */import"./card-DHszHnbI.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./input-DqOfVTcn.js";import"./table-DHznIK9t.js";import"./search-Chs14P_a.js";import"./createLucideIcon-Dov4NOxw.js";import"./chevron-left-CMBAh2v_.js";import"./chevron-right-BtPraxo3.js";import"./arrow-up-down-D4TAtYCt.js";import"./arrow-up-BLTFDVcR.js";import"./index-BMyiKApA.js";import"./x-DVK_F_Gh.js";import"./plus-C1hmRCnY.js";function Z({lead:i,onRegisterAddHandler:n}){o.useEffect(()=>{n(()=>t(!0))},[n]);const{t:r}=M(),[d,t]=o.useState(!1),[a,m]=o.useState({message:""}),u=s=>{s.preventDefault(),x.post(route("lead.leads.store-discussion",i.id),a,{onSuccess:()=>{m({message:""}),t(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-y-auto scrollbar-thin scrollbar-thumb-gray-400 scrollbar-track-gray-100 max-h-[75vh] rounded-none w-full",children:e.jsx("div",{className:"min-w-[600px]",children:e.jsx(f,{data:i.discussions||[],columns:[{key:"creator.name",header:r("User"),render:(s,p)=>{var c;return((c=p.creator)==null?void 0:c.name)||"-"}},{key:"comment",header:r("Message"),render:s=>s?e.jsx("span",{className:"text-sm text-gray-600 truncate max-w-xs",title:s,children:s.length>50?`${s.substring(0,50)}...`:s}):"-"},{key:"created_at",header:r("Date"),render:s=>v(s)}],className:"rounded-none",emptyState:e.jsx(N,{icon:S,title:r("No Discussions found"),description:r("Get started by adding your first discussion."),onCreateClick:()=>t(!0),createButtonText:r("Add Message"),className:"h-auto"})})})}),e.jsx(h,{open:d,onOpenChange:t,children:e.jsxs(g,{className:"max-w-md",children:[e.jsx(j,{children:e.jsx(y,{children:r("Add Message")})}),e.jsxs("form",{onSubmit:u,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(D,{htmlFor:"message",children:r("Message")}),e.jsx(b,{id:"message",value:a.message,onChange:s=>m({...a,message:s.target.value}),placeholder:r("Enter your message"),rows:4,required:!0})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>t(!1),children:r("Cancel")}),e.jsx(l,{type:"submit",children:r("Save")})]})]})]})})]})}export{Z as default};
