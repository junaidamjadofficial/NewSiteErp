import{j as e}from"./ui-ZHFf5B17.js";import{r as d}from"./vendor-CcMVubkO.js";import{B as j}from"./button-DYC7yMVq.js";import{L as x}from"./label-DbqhUtKI.js";import{C as k,a as T,b as N,c as v}from"./card-DHszHnbI.js";import{T as E}from"./textarea-DxQ_BnuT.js";import{S as C}from"./switch-ByWYyd_6.js";import{A as w}from"./app-BBiA4mAE.js";import{u as g}from"./useTranslation-CV4_gBnb.js";import{C as y}from"./credit-card-CditegsP.js";import{S as B}from"./save-B89BgUdM.js";import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./index-BYFX2qNQ.js";/* empty css            */import"./createLucideIcon-Dov4NOxw.js";function O({userSettings:s={},auth:t}){var f,b;const{t:r}=g(),[l,o]=d.useState(!1),i=(b=(f=t==null?void 0:t.user)==null?void 0:f.permissions)==null?void 0:b.includes("edit-bank-transfer-settings"),[a,c]=d.useState({bankTransferEnabled:(s==null?void 0:s.bankTransferEnabled)==="on",instructions:(s==null?void 0:s.instructions)||""});d.useEffect(()=>{c({bankTransferEnabled:(s==null?void 0:s.bankTransferEnabled)==="on",instructions:(s==null?void 0:s.instructions)||""})},[s]);const m=(n,h)=>{c(u=>({...u,[n]:h}))},p=()=>{o(!0),w.post(route("settings.bank-transfer.update"),{settings:{...a,bankTransferEnabled:a.bankTransferEnabled?"on":"off"}},{preserveScroll:!0,onSuccess:()=>{o(!1)},onError:()=>{o(!1)}})};return e.jsxs(k,{children:[e.jsxs(T,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"order-1 rtl:order-2",children:[e.jsxs(N,{className:"flex items-center gap-2 text-lg",children:[e.jsx(y,{className:"h-5 w-5"}),r("Bank Transfer Settings")]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r("Configure bank transfer payment method for your customers")})]}),i&&e.jsxs(j,{className:"order-2 rtl:order-1",onClick:p,disabled:l,size:"sm",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),r(l?"Saving...":"Save Changes")]})]}),e.jsx(v,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(x,{htmlFor:"bankTransferEnabled",className:"text-base font-medium",children:r("Enable Bank Transfer")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:r("Allow customers to pay via bank transfer")})]}),e.jsx(C,{id:"bankTransferEnabled",checked:a.bankTransferEnabled,onCheckedChange:n=>m("bankTransferEnabled",n),disabled:!i})]}),a.bankTransferEnabled&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(x,{htmlFor:"instructions",children:r("Bank Transfer Instructions")}),e.jsx(E,{id:"instructions",value:a.instructions,onChange:n=>m("instructions",n.target.value),placeholder:r("Enter bank transfer instructions. Use <br/> for line breaks."),rows:8,disabled:!i}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r("These instructions will be shown to customers. You can use <br/> tags for line breaks.")})]}),e.jsxs("div",{className:"mt-6 p-4 bg-muted/30 rounded-lg border",children:[e.jsx("h4",{className:"font-medium mb-3",children:r("Customer Preview")}),e.jsx("div",{className:"text-sm",children:a.instructions?e.jsx("div",{className:"whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:a.instructions.replace(/<br\/>/g,"<br/>")}}):e.jsx("p",{className:"text-muted-foreground italic",children:r("No instructions provided")})})]})]})]})})]})}export{O as default};
