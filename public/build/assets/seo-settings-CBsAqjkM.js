import{j as e}from"./ui-ZHFf5B17.js";import{r as o}from"./vendor-CcMVubkO.js";import{B as T}from"./button-DYC7yMVq.js";import{L as m}from"./label-DbqhUtKI.js";import{I as v}from"./input-DqOfVTcn.js";import{T as I}from"./textarea-DxQ_BnuT.js";import{C as w,a as D,b as K,c as N}from"./card-DHszHnbI.js";import{B as k}from"./badge-CV60sqBJ.js";import{j as E}from"./helpers-QYnGjXad.js";import{A as M}from"./app-BBiA4mAE.js";import{M as A}from"./MediaPicker-CztOgrDm.js";import{u as P}from"./useTranslation-CV4_gBnb.js";import{S as L}from"./search-Chs14P_a.js";import{S as O}from"./save-B89BgUdM.js";import{G as z}from"./globe-CbUyzYsc.js";import{C as h}from"./circle-alert-De6bM8Qi.js";import{C as B}from"./circle-check-D2gG32Ng.js";import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";/* empty css            */import"./dialog-BLwxprq_.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";import"./image-C8M1mNs8.js";import"./plus-C1hmRCnY.js";import"./upload-KhHqnUys.js";import"./check-DUlQPeVG.js";function he({userSettings:s,auth:c}){var f,g;const{t:a}=P(),[j,d]=o.useState(!1),i=(g=(f=c==null?void 0:c.user)==null?void 0:f.permissions)==null?void 0:g.includes("edit-seo-settings"),[F,Y]=o.useState(!1),[r,n]=o.useState({metaTitle:(s==null?void 0:s.metaTitle)||"",metaKeywords:(s==null?void 0:s.metaKeywords)||"",metaDescription:(s==null?void 0:s.metaDescription)||"",metaImage:(s==null?void 0:s.metaImage)||""});o.useEffect(()=>{s&&n({metaTitle:(s==null?void 0:s.metaTitle)||"",metaKeywords:(s==null?void 0:s.metaKeywords)||"",metaDescription:(s==null?void 0:s.metaDescription)||"",metaImage:(s==null?void 0:s.metaImage)||""})},[s]);const x=(t,l)=>{n(p=>({...p,[t]:l}))},u=t=>{const l=Array.isArray(t)?t[0]||"":t;n(p=>({...p,metaImage:l}))},y=()=>{const t=r.metaDescription.length;return t===0?{status:"empty",color:"text-muted-foreground",icon:h}:t<120?{status:"short",color:"text-orange-500",icon:h}:t<=160?{status:"good",color:"text-green-500",icon:B}:{status:"long",color:"text-red-500",icon:h}},b=()=>r.metaKeywords.split(",").filter(t=>t.trim()).length,C=()=>{r.metaTitle.trim()&&r.metaDescription.trim()&&(d(!0),M.post(route("settings.seo.update"),{settings:r},{preserveScroll:!0,onSuccess:()=>{d(!1)},onError:()=>{d(!1)}}))};return e.jsxs(w,{children:[e.jsxs(D,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"order-1 rtl:order-2",children:[e.jsxs(K,{className:"flex items-center gap-2 text-lg",children:[e.jsx(L,{className:"h-5 w-5"}),a("SEO Settings")]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a("Configure SEO settings to improve your website's search engine visibility")})]}),i&&e.jsxs(T,{className:"order-2 rtl:order-1",onClick:C,disabled:j,size:"sm",children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),a(j?"Saving...":"Save Changes")]})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"metaTitle",children:a("Meta Title")}),e.jsxs("span",{className:`text-sm ${r.metaTitle.length>60?"text-red-500":r.metaTitle.length>50?"text-orange-500":"text-green-500"}`,children:[r.metaTitle.length,"/60"]})]}),e.jsx(v,{id:"metaTitle",value:r.metaTitle,onChange:t=>x("metaTitle",t.target.value),placeholder:a("Enter page title for search engines"),maxLength:60,disabled:!i}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("Appears as the clickable headline in search results")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"metaDescription",children:a("Meta Description")}),e.jsx("div",{className:"flex items-center gap-1",children:(()=>{const{color:t,icon:l}=y();return e.jsxs(e.Fragment,{children:[e.jsx(l,{className:`h-4 w-4 ${t}`}),e.jsxs("span",{className:`text-sm ${t}`,children:[r.metaDescription.length,"/160"]})]})})()})]}),e.jsx(I,{id:"metaDescription",value:r.metaDescription,onChange:t=>x("metaDescription",t.target.value),placeholder:a("Write a compelling description that summarizes your page content..."),maxLength:160,rows:3,disabled:!i,className:"resize-none"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("Appears below the title in search results. Optimal length: 120-160 characters")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(m,{htmlFor:"metaKeywords",children:a("Meta Keywords")}),e.jsxs(k,{variant:"outline",children:[b()," ",a("keywords")]})]}),e.jsx(v,{id:"metaKeywords",value:r.metaKeywords,onChange:t=>x("metaKeywords",t.target.value),placeholder:a("seo, optimization, website, keywords"),disabled:!i}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("Comma-separated keywords relevant to your content")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{children:a("Meta Image")}),e.jsx(A,{value:r.metaImage,onChange:u,placeholder:a("Select image for social media sharing..."),showPreview:!1,disabled:!i}),e.jsx("p",{className:"text-xs text-muted-foreground",children:a("Image displayed when sharing on social media. Recommended: 1200x630px")})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"sticky top-4 space-y-6",children:e.jsx(w,{children:e.jsxs(N,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(z,{className:"h-4 w-4 text-primary"}),e.jsx("h3",{className:"text-base font-medium",children:a("SEO Preview")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"border rounded-md p-3 bg-white",children:[e.jsx("div",{className:"text-xs text-green-600 mb-1",children:"example.com"}),e.jsx("div",{className:"text-sm font-medium text-blue-600 hover:underline cursor-pointer line-clamp-1",children:r.metaTitle||a("Your page title will appear here")}),e.jsx("div",{className:"text-xs text-gray-600 mt-1 line-clamp-2",children:r.metaDescription||a("Your meta description will appear here in search results...")})]}),r.metaImage&&e.jsxs("div",{className:"border rounded-md bg-white p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:a("Social Media Preview")}),e.jsx("img",{src:E(r.metaImage),alt:"Social preview",className:"w-full h-24 object-contain rounded mb-2 bg-gray-100"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900 line-clamp-1",children:r.metaTitle||a("Your page title")}),e.jsx("div",{className:"text-xs text-gray-500 line-clamp-2",children:r.metaDescription||a("Your description...")})]})]}),e.jsxs("div",{className:"border rounded-md p-3 bg-blue-50",children:[e.jsx("div",{className:"text-xs font-medium text-blue-900 mb-2",children:a("SEO Tips")}),e.jsxs("ul",{className:"text-xs text-blue-700 space-y-1",children:[e.jsxs("li",{children:["• ",a("Title: 50-60 characters optimal")]}),e.jsxs("li",{children:["• ",a("Description: 150-160 characters")]}),e.jsxs("li",{children:["• ",a("Include target keywords early")]}),e.jsxs("li",{children:["• ",a("Image: 590x300px works well")]})]})]})]})]})})})})]})})]})}export{he as default};
