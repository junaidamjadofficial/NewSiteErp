import{j as t}from"./ui-ZHFf5B17.js";import{X as p,G as x}from"./app-BBiA4mAE.js";import{B as c}from"./button-DYC7yMVq.js";import{L as a}from"./label-DbqhUtKI.js";import{S as h,a as j,b,c as g,d as _}from"./select-BEhl2QER.js";import{T as f}from"./textarea-DxQ_BnuT.js";import{a as C,b as v,c as S}from"./dialog-BLwxprq_.js";import{C as D}from"./currency-input-BZrT8lhz.js";import{D as N}from"./date-picker-CVthJV3y.js";import{u as y}from"./useTranslation-CV4_gBnb.js";import"./vendor-CcMVubkO.js";/* empty css            */import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./input-DqOfVTcn.js";import"./chevron-down-Zr-tNTku.js";import"./createLucideIcon-Dov4NOxw.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./x-DVK_F_Gh.js";import"./input-error-DuIbBMgZ.js";import"./helpers-QYnGjXad.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";function ot({onSuccess:l}){const{t:o}=y(),{goals:s}=p().props,{data:i,setData:n,post:d,processing:m,errors:r}=x({goal_id:s.length>0?s[0].id:0,contribution_date:new Date().toISOString().split("T")[0],contribution_amount:0,contribution_type:"manual",reference_type:"manual",reference_id:void 0,notes:""}),u=e=>{e.preventDefault(),d(route("goal.contributions.store"),{onSuccess:()=>{l()}})};return t.jsxs(C,{className:"max-w-md",children:[t.jsx(v,{children:t.jsx(S,{children:o("Create Contribution")})}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx(a,{htmlFor:"goal_id",required:!0,children:o("Goal")}),t.jsxs(h,{value:i.goal_id.toString(),onValueChange:e=>n("goal_id",parseInt(e)),children:[t.jsx(j,{children:t.jsx(b,{placeholder:o("Select Goal")})}),t.jsx(g,{children:s.map(e=>t.jsx(_,{value:e.id.toString(),children:e.goal_name},e.id))})]}),r.goal_id&&t.jsx("p",{className:"text-sm text-red-600",children:r.goal_id})]}),t.jsxs("div",{children:[t.jsx(a,{htmlFor:"contribution_date",required:!0,children:o("Date")}),t.jsx(N,{value:i.contribution_date,onChange:e=>n("contribution_date",e),placeholder:o("Select contribution date")}),r.contribution_date&&t.jsx("p",{className:"text-sm text-red-600",children:r.contribution_date})]}),t.jsxs("div",{children:[t.jsx(a,{htmlFor:"contribution_amount",required:!0,children:o("Amount")}),t.jsx(D,{value:i.contribution_amount,onChange:e=>n("contribution_amount",e),placeholder:o("Enter contribution amount")}),r.contribution_amount&&t.jsx("p",{className:"text-sm text-red-600",children:r.contribution_amount})]}),t.jsxs("div",{children:[t.jsx(a,{htmlFor:"notes",children:o("Notes")}),t.jsx(f,{id:"notes",value:i.notes,onChange:e=>n("notes",e.target.value),rows:3,placeholder:o("Enter notes...")}),r.notes&&t.jsx("p",{className:"text-sm text-red-600",children:r.notes})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx(c,{type:"button",variant:"outline",onClick:l,children:o("Cancel")}),t.jsx(c,{type:"submit",disabled:m,children:o(m?"Creating...":"Create")})]})]})]})}export{ot as default};
