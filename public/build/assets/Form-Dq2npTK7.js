import{j as e}from"./ui-ZHFf5B17.js";import{G as $,S as v}from"./app-BBiA4mAE.js";import{B as _}from"./button-DYC7yMVq.js";import{C as y,a as F,b as w,c as N}from"./card-DHszHnbI.js";import{I as x}from"./input-DqOfVTcn.js";import{L as h}from"./label-DbqhUtKI.js";import{T as I}from"./textarea-DxQ_BnuT.js";import{S as k,a as T,b as D,c as L,d as P}from"./select-BEhl2QER.js";import{C as R}from"./checkbox-Cvtgzug2.js";import{R as f,a as B}from"./radio-group-Bg6nc_Xb.js";import{D as G}from"./date-picker-CVthJV3y.js";import{P as V}from"./phone-input-d5yugTbF.js";import{I as E}from"./input-error-DuIbBMgZ.js";import{u as q}from"./useTranslation-CV4_gBnb.js";import{u as z}from"./useFormFields-BwNmEYJY.js";import"./vendor-CcMVubkO.js";/* empty css            */import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./createLucideIcon-Dov4NOxw.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./circle-bmoNtd-e.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";import"./tooltip-C7wT1CW2.js";import"./slider-CIevYFX0.js";import"./dialog-BLwxprq_.js";import"./x-DVK_F_Gh.js";import"./sparkles-yKnt-shd.js";import"./switch-ByWYyd_6.js";import"./helpers-QYnGjXad.js";import"./index-Chjiymov.js";import"./index-8JwjhRSi.js";import"./badge-CV60sqBJ.js";function j({field:r,value:i,onChange:d,error:c}){const{t:n}=q(),o=`field_${r.id}`,u=()=>{var p,l;switch(r.type){case"text":case"email":case"password":case"url":return e.jsx(x,{type:r.type,id:o,value:i,onChange:t=>d(t.target.value),placeholder:r.placeholder,required:r.required,className:c?"border-red-500":""});case"number":return e.jsx(x,{type:"number",id:o,value:i,onChange:t=>d(t.target.value),placeholder:r.placeholder,required:r.required,min:"0",step:"1",className:c?"border-red-500":""});case"tel":return e.jsx(V,{id:o,label:r.label,value:i,onChange:t=>d(t||""),error:c,required:r.required});case"date":return e.jsx(G,{value:i,onChange:d,placeholder:r.placeholder||n("Select date"),required:r.required});case"time":return e.jsx(x,{type:"time",id:o,value:i,onChange:t=>d(t.target.value),required:r.required,className:c?"border-red-500":""});case"textarea":return e.jsx(I,{id:o,value:i,onChange:t=>d(t.target.value),placeholder:r.placeholder,required:r.required,rows:4,className:c?"border-red-500":""});case"select":return e.jsxs(k,{value:i,onValueChange:d,children:[e.jsx(T,{className:c?"border-red-500":"",children:e.jsx(D,{placeholder:r.placeholder||n("Select an option")})}),e.jsx(L,{children:(p=r.options)==null?void 0:p.map((t,m)=>e.jsx(P,{value:t,children:t},m))})]});case"checkbox":return e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(R,{id:o,checked:i,onCheckedChange:d,required:r.required}),e.jsxs(h,{htmlFor:o,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:[r.label,r.required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]});case"radio":return e.jsx(f,{value:i,onValueChange:d,required:r.required,children:e.jsx("div",{className:"space-y-2",children:(l=r.options)==null?void 0:l.map((t,m)=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{value:t,id:`${o}_${m}`,required:r.required}),e.jsx(h,{htmlFor:`${o}_${m}`,className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:t})]},m))})});default:return null}};return e.jsxs("div",{className:"space-y-2",children:[r.type!=="checkbox"&&r.type!=="tel"&&e.jsx(h,{htmlFor:o,className:"text-sm font-medium text-gray-700",...(r.type==="select"||r.type==="date"||r.type==="radio")&&r.required&&{required:!0},children:r.label}),u(),e.jsx(E,{message:c})]})}function Ie({form:r}){const{t:i}=q(),d=r.default_layout||"single",c=z("getIntegrationFields",{},()=>{},{},"create",i,"FormBuilder"),{data:n,setData:o,post:u,processing:p,errors:l}=$(r.fields.reduce((s,a)=>(s[`field_${a.id}`]=a.type==="checkbox"?!1:"",s),{})),t=s=>{s.preventDefault(),u(route("formbuilder.public.form.submit",r.code),{onSuccess:()=>{const a=r.fields.reduce((b,g)=>(b[`field_${g.id}`]=g.type==="checkbox"?!1:"",b),{});o(a),window.scrollTo({top:0,behavior:"smooth"})}})},m=()=>e.jsx("div",{className:"space-y-6",children:r.fields.sort((s,a)=>s.order-a.order).map(s=>e.jsx(j,{field:s,value:n[`field_${s.id}`],onChange:a=>o(`field_${s.id}`,a),error:l[`field_${s.id}`]},s.id))}),C=()=>e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:r.fields.sort((s,a)=>s.order-a.order).map(s=>e.jsx(j,{field:s,value:n[`field_${s.id}`],onChange:a=>o(`field_${s.id}`,a),error:l[`field_${s.id}`]},s.id))}),S=()=>e.jsx("div",{className:"space-y-4",children:r.fields.sort((s,a)=>s.order-a.order).map(s=>e.jsx(y,{children:e.jsx(N,{className:"p-4",children:e.jsx(j,{field:s,value:n[`field_${s.id}`],onChange:a=>o(`field_${s.id}`,a),error:l[`field_${s.id}`]})})},s.id))});return e.jsxs("div",{className:"min-h-screen bg-gray-50 py-8",children:[e.jsx(v,{title:r.name}),e.jsx("div",{className:"max-w-2xl mx-auto px-4",children:e.jsxs(y,{children:[e.jsxs(F,{children:[e.jsx(w,{className:"text-2xl",children:r.name}),e.jsx("p",{className:"text-gray-600",children:i("Please fill out all required fields")})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:t,children:[l.form&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-md",children:e.jsx("p",{className:"text-red-600 text-sm",children:l.form})}),d==="single"&&m(),d==="two-column"&&C(),d==="card"&&S(),e.jsx("div",{className:"pt-6 mt-6 border-t",children:e.jsx(_,{type:"submit",disabled:p,className:"w-full",size:"lg",children:i(p?"Submitting...":"Submit Form")})})]})})]})}),c.map(s=>e.jsx("div",{children:s.component},s.id))]})}export{Ie as default};
