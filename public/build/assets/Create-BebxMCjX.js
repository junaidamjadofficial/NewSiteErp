import{j as e}from"./ui-ZHFf5B17.js";import{a as N,b as E,c as S}from"./dialog-BLwxprq_.js";import{G as q,A as z}from"./app-BBiA4mAE.js";import{B as j}from"./button-DYC7yMVq.js";import{I as l}from"./input-DqOfVTcn.js";import{L as d}from"./label-DbqhUtKI.js";import{T as A}from"./textarea-DxQ_BnuT.js";import{C as D}from"./checkbox-Cvtgzug2.js";import{I as t}from"./input-error-DuIbBMgZ.js";import{P as T}from"./phone-input-d5yugTbF.js";import{S as w,a as I,b as U,c as k,d as b}from"./select-BEhl2QER.js";import{u as B}from"./useFormFields-BwNmEYJY.js";import{u as L}from"./useTranslation-CV4_gBnb.js";import"./vendor-CcMVubkO.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-BYFX2qNQ.js";import"./check-DUlQPeVG.js";import"./index-BdQq_4o_.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./tooltip-C7wT1CW2.js";import"./radio-group-Bg6nc_Xb.js";import"./circle-bmoNtd-e.js";import"./slider-CIevYFX0.js";import"./sparkles-yKnt-shd.js";import"./switch-ByWYyd_6.js";import"./helpers-QYnGjXad.js";import"./index-Chjiymov.js";import"./index-8JwjhRSi.js";import"./badge-CV60sqBJ.js";function Ce({onSuccess:_,users:c=[],auth:m}){var h,x,u;const{t:i}=L(),{data:r,setData:a,post:v,processing:g,errors:n}=q({user_id:void 0,company_name:"",contact_person_name:"",contact_person_email:"",contact_person_mobile:"",tax_number:"",payment_terms:"",billing_address:{name:"",address_line_1:"",address_line_2:"",city:"",state:"",country:"",zip_code:""},shipping_address:{name:"",address_line_1:"",address_line_2:"",city:"",state:"",country:"",zip_code:""},same_as_billing:!1,notes:""}),y=B("customerCreateFields",r,(s,o)=>{a(s,o)},n,"create"),C=s=>{const o=s==="0"?void 0:parseInt(s);if(a("user_id",o),s!=="0"){const p=c.find(F=>F.id.toString()===s);p&&a({...r,user_id:o,contact_person_name:p.name,contact_person_email:p.email,contact_person_mobile:p.mobile_no||""})}},f=s=>{s.preventDefault(),v(route("account.customers.store"),{onSuccess:()=>{_()}})};return e.jsxs(N,{className:"max-w-2xl",children:[e.jsx(E,{children:e.jsx(S,{children:i("Create Customer")})}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"user_id",required:!0,children:i("User")}),e.jsxs(w,{value:((h=r.user_id)==null?void 0:h.toString())||"0",onValueChange:C,children:[e.jsx(I,{children:e.jsx(U,{placeholder:i("Select a user (optional)")})}),e.jsxs(k,{children:[e.jsx(b,{value:"0",children:i("No User Selected")}),c.map(s=>e.jsxs(b,{value:s.id.toString(),children:[s.name," (",s.email,")"]},s.id))]})]}),e.jsx(t,{message:n.user_id}),c.length===0&&((u=(x=m==null?void 0:m.user)==null?void 0:x.permissions)==null?void 0:u.includes("create-users"))&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i("Create user here.")," ",e.jsx("button",{onClick:()=>z.get(route("users.index")),className:"text-blue-600 hover:underline",children:i("Create user")})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:i("Note: Only users with client role who are not already assigned to other customers will appear in this list.")})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"company_name",children:i("Company Name")}),e.jsx(l,{id:"company_name",value:r.company_name,onChange:s=>a("company_name",s.target.value),placeholder:i("Enter company name"),required:!0}),e.jsx(t,{message:n.company_name})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"contact_person_name",children:i("Contact Person")}),e.jsx(l,{id:"contact_person_name",value:r.contact_person_name,onChange:s=>a("contact_person_name",s.target.value),placeholder:i("Enter contact person name"),required:!0}),e.jsx(t,{message:n.contact_person_name})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"contact_person_email",children:i("Email")}),e.jsx(l,{id:"contact_person_email",type:"email",value:r.contact_person_email,onChange:s=>a("contact_person_email",s.target.value),placeholder:i("Enter email address"),required:!0}),e.jsx(t,{message:n.contact_person_email})]}),e.jsx("div",{children:e.jsx(T,{label:i("Mobile Number"),value:r.contact_person_mobile,onChange:s=>a("contact_person_mobile",s),placeholder:"+1234567890",error:n.contact_person_mobile})}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"tax_number",children:i("Tax Number")}),e.jsx(l,{id:"tax_number",value:r.tax_number,onChange:s=>a("tax_number",s.target.value),placeholder:i("Enter tax number")}),e.jsx(t,{message:n.tax_number})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"payment_terms",children:i("Payment Terms")}),e.jsx(l,{id:"payment_terms",value:r.payment_terms,onChange:s=>a("payment_terms",s.target.value),placeholder:i("e.g., Net 30")}),e.jsx(t,{message:n.payment_terms})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"billing_name",children:i("Billing Name")}),e.jsx(l,{id:"billing_name",value:r.billing_address.name,onChange:s=>a("billing_address",{...r.billing_address,name:s.target.value}),placeholder:i("Enter billing name"),required:!0}),e.jsx(t,{message:n["billing_address.name"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"billing_address",children:i("Billing Address")}),e.jsx(l,{id:"billing_address",value:r.billing_address.address_line_1,onChange:s=>a("billing_address",{...r.billing_address,address_line_1:s.target.value}),placeholder:i("Enter address"),required:!0}),e.jsx(t,{message:n["billing_address.address_line_1"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"billing_address_2",children:i("Address Line 2")}),e.jsx(l,{id:"billing_address_2",value:r.billing_address.address_line_2,onChange:s=>a("billing_address",{...r.billing_address,address_line_2:s.target.value}),placeholder:i("Apartment, suite, etc. (optional)")}),e.jsx(t,{message:n["billing_address.address_line_2"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"billing_city",children:i("City")}),e.jsx(l,{id:"billing_city",value:r.billing_address.city,onChange:s=>a("billing_address",{...r.billing_address,city:s.target.value}),placeholder:i("Enter city"),required:!0}),e.jsx(t,{message:n["billing_address.city"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"billing_state",children:i("State")}),e.jsx(l,{id:"billing_state",value:r.billing_address.state,onChange:s=>a("billing_address",{...r.billing_address,state:s.target.value}),placeholder:i("Enter state"),required:!0}),e.jsx(t,{message:n["billing_address.state"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"billing_country",children:i("Country")}),e.jsx(l,{id:"billing_country",value:r.billing_address.country,onChange:s=>a("billing_address",{...r.billing_address,country:s.target.value}),placeholder:i("Enter country"),required:!0}),e.jsx(t,{message:n["billing_address.country"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"billing_zip",children:i("Zip Code")}),e.jsx(l,{id:"billing_zip",value:r.billing_address.zip_code,onChange:s=>a("billing_address",{...r.billing_address,zip_code:s.target.value}),placeholder:i("Enter zip code"),required:!0}),e.jsx(t,{message:n["billing_address.zip_code"]})]}),y.map(s=>e.jsx("div",{children:s.component},s.id))]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{id:"same_as_billing",checked:r.same_as_billing,onCheckedChange:s=>{a("same_as_billing",!!s),s&&a("shipping_address",{...r.billing_address})}}),e.jsx(d,{htmlFor:"same_as_billing",children:i("Shipping address same as billing")})]}),!r.same_as_billing&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsx("h3",{className:"text-lg font-medium",children:i("Shipping Address")}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"shipping_name",children:i("Shipping Name")}),e.jsx(l,{id:"shipping_name",value:r.shipping_address.name,onChange:s=>a("shipping_address",{...r.shipping_address,name:s.target.value}),placeholder:i("Enter shipping name"),required:!0}),e.jsx(t,{message:n["shipping_address.name"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"shipping_address",children:i("Shipping Address")}),e.jsx(l,{id:"shipping_address",value:r.shipping_address.address_line_1,onChange:s=>a("shipping_address",{...r.shipping_address,address_line_1:s.target.value}),placeholder:i("Enter shipping address"),required:!0}),e.jsx(t,{message:n["shipping_address.address_line_1"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"shipping_address_2",children:i("Address Line 2")}),e.jsx(l,{id:"shipping_address_2",value:r.shipping_address.address_line_2,onChange:s=>a("shipping_address",{...r.shipping_address,address_line_2:s.target.value}),placeholder:i("Apartment, suite, etc. (optional)")}),e.jsx(t,{message:n["shipping_address.address_line_2"]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"shipping_city",children:i("City")}),e.jsx(l,{id:"shipping_city",value:r.shipping_address.city,onChange:s=>a("shipping_address",{...r.shipping_address,city:s.target.value}),placeholder:i("Enter city"),required:!0}),e.jsx(t,{message:n["shipping_address.city"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"shipping_state",children:i("State")}),e.jsx(l,{id:"shipping_state",value:r.shipping_address.state,onChange:s=>a("shipping_address",{...r.shipping_address,state:s.target.value}),placeholder:i("Enter state"),required:!0}),e.jsx(t,{message:n["shipping_address.state"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"shipping_country",children:i("Country")}),e.jsx(l,{id:"shipping_country",value:r.shipping_address.country,onChange:s=>a("shipping_address",{...r.shipping_address,country:s.target.value}),placeholder:i("Enter country"),required:!0}),e.jsx(t,{message:n["shipping_address.country"]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"shipping_zip",children:i("Zip Code")}),e.jsx(l,{id:"shipping_zip",value:r.shipping_address.zip_code,onChange:s=>a("shipping_address",{...r.shipping_address,zip_code:s.target.value}),placeholder:i("Enter zip code"),required:!0}),e.jsx(t,{message:n["shipping_address.zip_code"]})]})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"notes",children:i("Notes")}),e.jsx(A,{id:"notes",value:r.notes,onChange:s=>a("notes",s.target.value),placeholder:i("Enter notes"),rows:3}),e.jsx(t,{message:n.notes})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{type:"button",variant:"outline",onClick:_,children:i("Cancel")}),e.jsx(j,{type:"submit",disabled:g,children:i(g?"Creating...":"Create")})]})]})]})}export{Ce as default};
