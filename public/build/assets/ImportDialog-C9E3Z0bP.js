import{j as e}from"./ui-ZHFf5B17.js";import{r as w}from"./vendor-CcMVubkO.js";import{G as j,t as l}from"./app-BBiA4mAE.js";import{B as d}from"./button-DYC7yMVq.js";import{a as g,b,c as S}from"./dialog-BLwxprq_.js";import{I as y}from"./input-DqOfVTcn.js";import{L as p}from"./label-DbqhUtKI.js";import{u as D}from"./useTranslation-CV4_gBnb.js";import{D as v}from"./download-DpWzK9fg.js";import{U as I}from"./upload-KhHqnUys.js";/* empty css            */import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";function z({onSuccess:f}){const{t}=D(),[n,m]=w.useState(!1),{data:i,setData:u}=j({file:null}),h=()=>{const a=`title,description,category
Sample Knowledge Title,Sample knowledge description content,General`,o=new Blob([a],{type:"text/csv"}),s=window.URL.createObjectURL(o),r=document.createElement("a");r.href=s,r.download="knowledge_sample.csv",r.click(),window.URL.revokeObjectURL(s)},x=async a=>{var o;if(a.preventDefault(),!i.file){l.error(t("Please select a file"));return}m(!0);try{const s=new FormData;s.append("file",i.file);const r=await fetch(route("knowledge.import.data"),{method:"POST",body:s,headers:{"X-CSRF-TOKEN":((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||""}}),c=await r.json();c.success||r.ok?(l.success(t("Knowledge base imported successfully")),f()):l.error(c.message||t("Import failed"))}catch{l.error(t("Import failed"))}finally{m(!1)}};return e.jsxs(g,{children:[e.jsx(b,{children:e.jsx(S,{children:t("Import Knowledge Base")})}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(p,{className:"text-sm font-medium",children:t("Download Sample CSV File")}),e.jsx("div",{className:"mt-2",children:e.jsxs(d,{type:"button",variant:"outline",size:"sm",onClick:h,children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),t("Download Sample")]})})]}),e.jsxs("div",{children:[e.jsx(p,{htmlFor:"file",children:t("Select CSV File")}),e.jsx(y,{id:"file",type:"file",accept:".csv",onChange:a=>{var o;return u("file",((o=a.target.files)==null?void 0:o[0])||null)},required:!0,className:"mt-1"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(d,{type:"submit",disabled:n||!i.file,children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),t(n?"Importing...":"Import")]})})]})]})}export{z as default};
