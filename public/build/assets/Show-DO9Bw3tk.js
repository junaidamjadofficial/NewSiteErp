import{j as s}from"./ui-ZHFf5B17.js";import{X as J,t as B}from"./app-BBiA4mAE.js";import{D as H,a as A,b as O,c as V}from"./dialog-BLwxprq_.js";import{B as d}from"./button-DYC7yMVq.js";import{B as n}from"./badge-CV60sqBJ.js";import{T as c,a as x,b as h,c as m}from"./tooltip-C7wT1CW2.js";import{k as W,j as k}from"./helpers-QYnGjXad.js";import{u as X}from"./useTranslation-CV4_gBnb.js";import{C as M}from"./copy-BfAQhGce.js";import{U as q}from"./users-OzPx1l-a.js";import{P as F}from"./play-D1oIUpjL.js";import"./vendor-CcMVubkO.js";/* empty css            */import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";import"./index-BMyiKApA.js";import"./index-BZAHB8Ku.js";function ms({isOpen:R,onClose:$,zoommeeting:e,users:P}){var o,j,u,g,N,f,y,b,v,_,w,C,S,D;const{t}=X(),{auth:a}=J().props,p=(r,l)=>{navigator.clipboard.writeText(r),B.success(t("Meeting URL copied to clipboard"))},U={Scheduled:"bg-blue-100 text-blue-800",Started:"bg-green-100 text-green-800",Ended:"bg-gray-100 text-gray-800",Cancelled:"bg-red-100 text-red-800"};return s.jsx(H,{open:R,onOpenChange:$,children:s.jsxs(A,{className:"max-w-2xl",children:[s.jsx(O,{children:s.jsx(V,{children:t("Meeting Details")})}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Title")}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.title})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Meeting ID")}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.meeting_id||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Meeting Password")}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.meeting_password||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Start Time")}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.start_time?W(e.start_time):"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Duration")}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.duration?`${e.duration} minutes`:"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Status")}),s.jsx("div",{className:"mt-1",children:s.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-semibold ${U[e.status]||"bg-gray-100 text-gray-800"}`,children:e.status})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Host")}),(o=e.host)!=null&&o.name?s.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[s.jsx("img",{src:k(((j=e.host)==null?void 0:j.avatar)||""),alt:e.host.name,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm cursor-pointer hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-sm text-gray-900",children:e.host.name})]}):s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:"-"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Description")}),s.jsx("p",{className:"mt-1 text-sm text-gray-900",children:e.description||"-"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Participants")}),s.jsx("div",{className:"mt-1",children:(()=>{if(!e.participants)return s.jsx("span",{className:"text-sm text-gray-500",children:"-"});let r=[];if(typeof e.participants=="string")try{r=JSON.parse(e.participants)}catch{r=[e.participants]}else Array.isArray(e.participants)&&(r=e.participants);return r.length===0?s.jsx("span",{className:"text-sm text-gray-500",children:"-"}):s.jsx("div",{className:"flex flex-wrap items-center gap-2",children:s.jsx(c,{children:r.map((l,E)=>{const i=P.find(L=>L.id.toString()===(l==null?void 0:l.toString())),T=(i==null?void 0:i.name)||l;return s.jsxs("div",{className:"flex items-center gap-2 bg-gray-50 rounded-lg p-2",children:[s.jsx("img",{src:k((i==null?void 0:i.avatar)||""),alt:T,className:"w-8 h-8 rounded-full object-cover border-2 border-white shadow-sm cursor-pointer hover:scale-110 transition-transform"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:T})]},E)})})})})()})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Host Video")}),s.jsx("div",{className:"mt-1",children:s.jsx(n,{variant:e.host_video?"default":"secondary",children:e.host_video?t("Enabled"):t("Disabled")})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Participant Video")}),s.jsx("div",{className:"mt-1",children:s.jsx(n,{variant:e.participant_video?"default":"secondary",children:e.participant_video?t("Enabled"):t("Disabled")})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Waiting Room")}),s.jsx("div",{className:"mt-1",children:s.jsx(n,{variant:e.waiting_room?"default":"secondary",children:e.waiting_room?t("Enabled"):t("Disabled")})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-medium text-gray-700",children:t("Recording")}),s.jsx("div",{className:"mt-1",children:s.jsx(n,{variant:e.recording?"default":"secondary",children:e.recording?t("Enabled"):t("Disabled")})})]})]}),e.meeting_id&&["Scheduled","Started"].includes(e.status)&&s.jsxs("div",{className:"border-t pt-6",children:[s.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-4",children:t("Meeting Links")}),s.jsxs("div",{className:"space-y-3",children:[((g=(u=a.user)==null?void 0:u.permissions)==null?void 0:g.includes("join-zoom-meetings"))&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 w-20",children:[t("Join URL"),":"]}),s.jsx("code",{className:"flex-1 text-xs bg-gray-100 p-2 rounded break-all",children:e.join_url||`https://zoom.us/j/${e.meeting_id}`}),s.jsx(c,{children:s.jsxs(x,{children:[s.jsx(h,{asChild:!0,children:s.jsx(d,{variant:"ghost",size:"sm",onClick:()=>p(e.join_url||`https://zoom.us/j/${e.meeting_id}`),children:s.jsx(M,{className:"h-4 w-4"})})}),s.jsx(m,{children:s.jsx("p",{children:t("Copy Join URL")})})]})})]}),((f=(N=a.user)==null?void 0:N.permissions)==null?void 0:f.includes("start-zoom-meetings"))&&(e.host_id===((y=a.user)==null?void 0:y.id)||((b=a.user)==null?void 0:b.type)==="company")&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-600 w-20",children:[t("Start URL"),":"]}),s.jsx("code",{className:"flex-1 text-xs bg-gray-100 p-2 rounded break-all",children:e.start_url||`https://zoom.us/s/${e.meeting_id}`}),s.jsx(c,{children:s.jsxs(x,{children:[s.jsx(h,{asChild:!0,children:s.jsx(d,{variant:"ghost",size:"sm",onClick:()=>p(e.start_url||`https://zoom.us/s/${e.meeting_id}`),children:s.jsx(M,{className:"h-4 w-4"})})}),s.jsx(m,{children:s.jsx("p",{children:t("Copy Start URL")})})]})})]})]})]}),s.jsx("div",{className:"flex justify-end gap-3 pt-6 border-t",children:s.jsxs(c,{children:[e.meeting_id&&["Scheduled","Started"].includes(e.status)&&((_=(v=a.user)==null?void 0:v.permissions)==null?void 0:_.includes("join-zoom-meetings"))&&s.jsxs(x,{children:[s.jsx(h,{asChild:!0,children:s.jsxs(d,{variant:"outline",onClick:()=>window.open(e.join_url||`https://zoom.us/j/${e.meeting_id}`,"_blank"),className:"text-blue-600 hover:text-blue-700",children:[s.jsx(q,{className:"h-4 w-4 mr-2"}),t("Join Meeting")]})}),s.jsx(m,{children:s.jsx("p",{children:t("Join Meeting")})})]}),e.meeting_id&&["Scheduled","Started"].includes(e.status)&&((C=(w=a.user)==null?void 0:w.permissions)==null?void 0:C.includes("start-zoom-meetings"))&&(e.host_id===((S=a.user)==null?void 0:S.id)||((D=a.user)==null?void 0:D.type)==="company")&&s.jsxs(x,{children:[s.jsx(h,{asChild:!0,children:s.jsxs(d,{onClick:()=>window.open(e.start_url||`https://zoom.us/s/${e.meeting_id}`,"_blank"),className:"text-white bg-green-600 hover:bg-green-700",children:[s.jsx(F,{className:"h-4 w-4 mr-2"}),t("Start Meeting")]})}),s.jsx(m,{children:s.jsx("p",{children:t("Start Meeting")})})]})]})})]})]})})}export{ms as default};
