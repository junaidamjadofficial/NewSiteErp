import{j as e}from"./ui-ZHFf5B17.js";import{a as _,b as S,c as C}from"./dialog-BLwxprq_.js";import{X as b,G as D}from"./app-BBiA4mAE.js";import{B as v}from"./button-DYC7yMVq.js";import{I}from"./input-DqOfVTcn.js";import{L as d}from"./label-DbqhUtKI.js";import{R as E}from"./rich-text-editor-59agrfWF.js";import{S as p,a as m,b as h,c as u,d as r}from"./select-BEhl2QER.js";import{I as c}from"./input-error-DuIbBMgZ.js";import{u as T}from"./useTranslation-CV4_gBnb.js";import"./vendor-CcMVubkO.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-DaFL_H0m.js";import"./with-selector-CP8JaRn2.js";import"./undo-D3tFEvb3.js";import"./list-BVwWsOhE.js";import"./link-2Bt5o4zZ.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";function oe({ticket:s,onSuccess:x}){var g;const{categories:o,companies:F,auth:N}=b().props,{t:i}=T(),{data:l,setData:a,put:y,processing:j,errors:n}=D({title:s.title||"",description:s.description||"",status:s.status||"open",priority:s.priority||"medium",category_id:s.category_id||0}),f=t=>{t.preventDefault(),y(route("helpdesk-tickets.update",s.id),{onSuccess:()=>{x()}})};return e.jsxs(_,{children:[e.jsx(S,{children:e.jsx(C,{children:i("Edit Support Ticket")})}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit_title",children:i("Title")}),e.jsx(I,{id:"edit_title",value:l.title,onChange:t=>a("title",t.target.value),placeholder:i("Enter ticket title"),required:!0}),e.jsx(c,{message:n.title})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit_description",children:i("Description")}),e.jsx(E,{content:l.description||"",onChange:t=>a("description",t),placeholder:i("Describe your issue in detail")}),e.jsx(c,{message:n.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit_status",children:i("Status")}),e.jsxs(p,{value:l.status,onValueChange:t=>a("status",t),children:[e.jsx(m,{children:e.jsx(h,{})}),e.jsxs(u,{children:[e.jsx(r,{value:"open",children:i("Open")}),e.jsx(r,{value:"in_progress",children:i("In Progress")}),e.jsx(r,{value:"resolved",children:i("Resolved")}),e.jsx(r,{value:"closed",children:i("Closed")})]})]}),e.jsx(c,{message:n.status})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit_priority",children:i("Priority")}),e.jsxs(p,{value:l.priority,onValueChange:t=>a("priority",t),children:[e.jsx(m,{children:e.jsx(h,{})}),e.jsxs(u,{children:[e.jsx(r,{value:"low",children:i("Low")}),e.jsx(r,{value:"medium",children:i("Medium")}),e.jsx(r,{value:"high",children:i("High")}),e.jsx(r,{value:"urgent",children:i("Urgent")})]})]}),e.jsx(c,{message:n.priority})]})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"edit_category_id",children:i("Category")}),e.jsxs(p,{value:(g=l.category_id)==null?void 0:g.toString(),onValueChange:t=>a("category_id",parseInt(t)),children:[e.jsx(m,{children:e.jsx(h,{placeholder:(o==null?void 0:o.length)===0?"No categories available":"Select category"})}),e.jsx(u,{children:o==null?void 0:o.map(t=>e.jsx(r,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(c,{message:n.category_id})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(v,{type:"button",variant:"outline",onClick:x,children:i("Cancel")}),e.jsx(v,{type:"submit",disabled:j,children:i(j?"Updating...":"Update")})]})]})]})}export{oe as default};
