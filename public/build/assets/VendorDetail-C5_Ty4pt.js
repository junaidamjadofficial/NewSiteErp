import{j as e}from"./ui-ZHFf5B17.js";import{r as c}from"./vendor-CcMVubkO.js";import{X as b,S as p}from"./app-BBiA4mAE.js";import{a as j}from"./html2pdf-Dais6JZR.js";import{b as m,a as d,f as a}from"./helpers-QYnGjXad.js";import{u as N}from"./useTranslation-CV4_gBnb.js";/* empty css            */function D(){const{t}=N(),{data:l,filters:x}=b().props,[i,n]=c.useState(!1);c.useEffect(()=>{new URLSearchParams(window.location.search).get("download")==="pdf"&&o()},[]);const o=async()=>{n(!0);const s=document.querySelector(".report-container");if(s){const r={margin:.25,filename:`vendor-detail-${l.vendor.name}-${x.start_date||"all"}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"a4",orientation:"portrait"}};try{await j().set(r).from(s).save(),setTimeout(()=>window.close(),1e3)}catch(h){console.error("PDF generation failed:",h)}}n(!1)};return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(p,{title:t("Vendor Detail Report")}),i&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsx("div",{className:"bg-white p-6 rounded-lg shadow-lg",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-lg font-semibold text-gray-700",children:t("Generating PDF...")})]})})}),e.jsxs("div",{className:"report-container bg-white max-w-7xl mx-auto p-8",children:[e.jsx("div",{className:"border-b-2 border-gray-800 pb-6 mb-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:m("company_name")||"YOUR COMPANY"}),e.jsx("div",{className:"text-sm text-gray-600 space-y-0.5",children:m("company_address")&&e.jsx("p",{children:m("company_address")})})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:t("VENDOR DETAIL REPORT")}),e.jsxs("p",{className:"text-sm text-gray-600",children:[t("Vendor"),": ",l.vendor.name]}),x.start_date&&e.jsxs("p",{className:"text-sm text-gray-600",children:[t("Period"),": ",d(x.start_date)," - ",d(x.end_date)]})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold border-b-2 border-black pb-2 mb-3",children:t("PURCHASE INVOICES")}),e.jsxs("table",{className:"w-full border-collapse mb-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Invoice Number")}),e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Date")}),e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Due Date")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Subtotal")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Tax")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Total")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Balance")})]})}),e.jsx("tbody",{children:l.invoices.map((s,r)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 px-2 text-sm",children:s.invoice_number}),e.jsx("td",{className:"py-2 px-2 text-sm",children:d(s.date)}),e.jsx("td",{className:"py-2 px-2 text-sm",children:d(s.due_date)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:a(s.subtotal)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:a(s.tax_amount)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:a(s.total_amount)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right font-semibold",children:a(s.balance_amount)})]},r))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold border-b-2 border-black pb-2 mb-3",children:t("PURCHASE RETURNS")}),e.jsxs("table",{className:"w-full border-collapse mb-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Return Number")}),e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Date")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Subtotal")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Tax")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Total")})]})}),e.jsx("tbody",{children:l.returns.map((s,r)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 px-2 text-sm",children:s.return_number}),e.jsx("td",{className:"py-2 px-2 text-sm",children:d(s.date)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:a(s.subtotal)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:a(s.tax_amount)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right font-semibold",children:a(s.total_amount)})]},r))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold border-b-2 border-black pb-2 mb-3",children:t("DEBIT NOTES")}),e.jsxs("table",{className:"w-full border-collapse mb-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Debit Note Number")}),e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Date")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Total")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Applied")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Balance")})]})}),e.jsx("tbody",{children:l.debit_notes.map((s,r)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 px-2 text-sm",children:s.debit_note_number}),e.jsx("td",{className:"py-2 px-2 text-sm",children:d(s.date)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:a(s.total_amount)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right",children:a(s.applied_amount)}),e.jsx("td",{className:"py-2 px-2 text-sm text-right font-semibold",children:a(s.balance_amount)})]},r))})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold border-b-2 border-black pb-2 mb-3",children:t("VENDOR PAYMENTS")}),e.jsxs("table",{className:"w-full border-collapse mb-4",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-black",children:[e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Payment Number")}),e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Date")}),e.jsx("th",{className:"text-left py-2 px-2 text-sm font-semibold",children:t("Bank Account")}),e.jsx("th",{className:"text-right py-2 px-2 text-sm font-semibold",children:t("Amount")})]})}),e.jsx("tbody",{children:l.payments.map((s,r)=>e.jsxs("tr",{className:"border-b border-gray-200",children:[e.jsx("td",{className:"py-2 px-2 text-sm",children:s.payment_number}),e.jsx("td",{className:"py-2 px-2 text-sm",children:d(s.date)}),e.jsx("td",{className:"py-2 px-2 text-sm",children:s.bank_account||"-"}),e.jsx("td",{className:"py-2 px-2 text-sm text-right font-semibold",children:a(s.amount)})]},r))})]})]}),e.jsx("div",{className:"border-t-2 border-black pt-4 mt-8",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold",children:[t("Total Invoiced"),":"]})," ",a(l.summary.total_invoiced)]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold",children:[t("Total Returns"),":"]})," ",a(l.summary.total_returns)]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold",children:[t("Total Debit Notes"),":"]})," ",a(l.summary.total_debit_notes)]}),e.jsxs("div",{children:[e.jsxs("span",{className:"font-semibold",children:[t("Total Payments"),":"]})," ",a(l.summary.total_payments)]}),e.jsxs("div",{className:"col-span-2 text-lg",children:[e.jsxs("span",{className:"font-bold",children:[t("Balance"),":"]})," ",e.jsx("span",{className:"font-bold",children:a(l.summary.balance)})]})]})}),e.jsx("div",{className:"mt-8 pt-4 border-t text-center text-xs text-gray-600",children:e.jsxs("p",{children:[t("Generated on")," ",d(new Date().toISOString())]})})]})]})}export{D as default};
