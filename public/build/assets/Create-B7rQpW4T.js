import{j as e}from"./ui-ZHFf5B17.js";import{a as E,b as k,c as q}from"./dialog-BLwxprq_.js";import{X as B,G as P}from"./app-BBiA4mAE.js";import{B as x}from"./button-DYC7yMVq.js";import{L as n}from"./label-DbqhUtKI.js";import{I as o}from"./input-error-DuIbBMgZ.js";import{I as h}from"./input-DqOfVTcn.js";import{R,a as _}from"./radio-group-Bg6nc_Xb.js";import{C as j}from"./currency-input-BZrT8lhz.js";import{S as V}from"./switch-ByWYyd_6.js";import{C as w}from"./checkbox-Cvtgzug2.js";import{T as G}from"./textarea-DxQ_BnuT.js";import{S as v,a as b,b as g,c as f,d as i}from"./select-BEhl2QER.js";import{r as C}from"./vendor-CcMVubkO.js";import{u as L}from"./useTranslation-CV4_gBnb.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-BYFX2qNQ.js";import"./circle-bmoNtd-e.js";import"./helpers-QYnGjXad.js";import"./check-DUlQPeVG.js";import"./index-BdQq_4o_.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";function je({onSuccess:l}){var m,p;const{accounttypes:S,parentaccounts:y}=B().props,[A,O]=C.useState(y||[]),{t}=L(),{data:r,setData:c,post:N,processing:d,errors:s}=P({account_code:"",account_name:"",level:"1",normal_balance:"debit",opening_balance:"",current_balance:"",is_active:!1,description:"",account_type_id:"",parent_account_id:""}),[u,F]=C.useState(!1),I=a=>{c("parent_account_id",a),a&&a!=="0"?c("level","2"):c("level","1")},D=a=>{F(a),a?c("level","2"):(c("parent_account_id",""),c("level","1"))},T=a=>{a.preventDefault(),N(route("account.chart-of-accounts.store"),{onSuccess:()=>{l()}})};return e.jsxs(E,{children:[e.jsx(k,{children:e.jsx(q,{children:t("Create Chart Of Account")})}),e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"account_type_id",required:!0,children:t("Account Type")}),e.jsxs(v,{value:((m=r.account_type_id)==null?void 0:m.toString())||"",onValueChange:a=>c("account_type_id",a),children:[e.jsx(b,{children:e.jsx(g,{placeholder:t("Select Account Type")})}),e.jsx(f,{children:S.map(a=>e.jsx(i,{value:a.id.toString(),children:a.name},a.id))})]}),e.jsx(o,{message:s.account_type_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"account_name",children:t("Account Name")}),e.jsx(h,{id:"account_name",type:"text",value:r.account_name,onChange:a=>c("account_name",a.target.value),placeholder:t("Enter Account Name"),required:!0}),e.jsx(o,{message:s.account_name})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"account_code",children:t("Account Code")}),e.jsx(h,{id:"account_code",type:"text",value:r.account_code,onChange:a=>c("account_code",a.target.value),placeholder:t("Enter Account Code"),required:!0}),e.jsx(o,{message:s.account_code})]}),e.jsxs("div",{children:[e.jsx(n,{children:t("Normal Balance")}),e.jsxs(R,{value:r.normal_balance||"debit",onValueChange:a=>c("normal_balance",a),className:"flex gap-6 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{value:"debit",id:"normal_balance_debit"}),e.jsx(n,{htmlFor:"normal_balance_debit",className:"cursor-pointer",children:t("Debit")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{value:"credit",id:"normal_balance_credit"}),e.jsx(n,{htmlFor:"normal_balance_credit",className:"cursor-pointer",children:t("Credit")})]})]}),e.jsx(o,{message:s.normal_balance})]}),e.jsx("div",{children:e.jsx(j,{label:t("Opening Balance"),value:r.opening_balance,onChange:a=>c("opening_balance",a),error:s.opening_balance,required:!0})}),e.jsx("div",{children:e.jsx(j,{label:t("Current Balance"),value:r.current_balance,onChange:a=>c("current_balance",a),error:s.current_balance,required:!0})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(V,{id:"is_active",checked:r.is_active||!1,onCheckedChange:a=>c("is_active",!!a)}),e.jsx(n,{htmlFor:"is_active",className:"cursor-pointer",children:t("Is Active")}),e.jsx(o,{message:s.is_active})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(w,{id:"is_sub_account",checked:u,onCheckedChange:D}),e.jsx(n,{htmlFor:"is_sub_account",className:"cursor-pointer",children:t("Create as sub account")})]})]}),u&&e.jsxs("div",{children:[e.jsx(n,{htmlFor:"parent_account_id",children:t("Parent Account")}),e.jsxs(v,{value:((p=r.parent_account_id)==null?void 0:p.toString())||"",onValueChange:I,children:[e.jsx(b,{children:e.jsx(g,{placeholder:t("Select Parent Account")})}),e.jsxs(f,{children:[e.jsx(i,{value:"0",children:t("None")}),A.map(a=>e.jsx(i,{value:a.id.toString(),children:a.account_name},a.id))]})]}),e.jsx(o,{message:s.parent_account_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"description",children:t("Description")}),e.jsx(G,{id:"description",value:r.description,onChange:a=>c("description",a.target.value),placeholder:t("Enter Description"),rows:3}),e.jsx(o,{message:s.description})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(x,{type:"button",variant:"outline",onClick:l,children:t("Cancel")}),e.jsx(x,{type:"submit",disabled:d,children:t(d?"Creating...":"Create")})]})]})]})}export{je as default};
