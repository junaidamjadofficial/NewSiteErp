import{j as e}from"./ui-ZHFf5B17.js";import{r as n}from"./vendor-CcMVubkO.js";import{B as N}from"./button-DYC7yMVq.js";import{I as v}from"./input-DqOfVTcn.js";import{L as h}from"./label-DbqhUtKI.js";import{C,a as E,b as I,c as S}from"./card-DHszHnbI.js";import{X as A,A as _}from"./app-BBiA4mAE.js";import{S as F}from"./switch-ByWYyd_6.js";import{u as L}from"./useTranslation-CV4_gBnb.js";import{C as P}from"./credit-card-CditegsP.js";import{S as z}from"./save-B89BgUdM.js";import{E as B}from"./eye-off-ub0Xog94.js";import{E as D}from"./eye-C8Kok_ez.js";import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";/* empty css            */import"./index-BYFX2qNQ.js";import"./createLucideIcon-Dov4NOxw.js";function ae({userSettings:a,auth:o}){var b,y;const{t:s}=L(),{is_demo:i}=A().props,[f,d]=n.useState(!1),[c,g]=n.useState(!1),l=(y=(b=o==null?void 0:o.user)==null?void 0:b.permissions)==null?void 0:y.includes("edit-stripe-settings"),[t,p]=n.useState({stripe_key:(a==null?void 0:a.stripe_key)||"",stripe_secret:(a==null?void 0:a.stripe_secret)||"",stripe_enabled:(a==null?void 0:a.stripe_enabled)||"off"});n.useEffect(()=>{a&&p({stripe_key:(a==null?void 0:a.stripe_key)||"",stripe_secret:(a==null?void 0:a.stripe_secret)||"",stripe_enabled:(a==null?void 0:a.stripe_enabled)||"off"})},[a]);const j=r=>{const{name:m,value:x}=r.target;p(w=>({...w,[m]:x}))},k=(r,m)=>{p(x=>({...x,[r]:m?"on":"off"}))},u=()=>{d(!0);const r={...t,stripe_enabled:t.stripe_enabled==="on"?"on":"off"};_.post(route("stripe.settings.update"),{settings:r},{preserveScroll:!0,onSuccess:()=>{d(!1),_.reload({only:["globalSettings"]})},onError:()=>{d(!1)}})};return e.jsxs(C,{children:[e.jsxs(E,{className:"flex flex-row items-center justify-between",children:[e.jsxs("div",{className:"order-1 rtl:order-2",children:[e.jsxs(I,{className:"flex items-center gap-2 text-lg",children:[e.jsx(P,{className:"h-5 w-5"}),s("Stripe Settings")]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("Configure Stripe payment gateway settings")})]}),l&&e.jsxs(N,{className:"order-2 rtl:order-1",onClick:u,disabled:f,size:"sm",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),s(f?"Saving...":"Save Changes")]})]}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx(h,{htmlFor:"stripe_enabled",className:"text-base font-medium",children:s("Enable Stripe")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s("Enable or disable Stripe payment gateway")})]}),e.jsx(F,{id:"stripe_enabled",checked:t.stripe_enabled==="on",onCheckedChange:r=>k("stripe_enabled",r),disabled:!l})]}),t.stripe_enabled==="on"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(h,{htmlFor:"stripe_key",children:s("Stripe Key")}),e.jsx(v,{id:"stripe_key",name:"stripe_key",value:i?"****************":t.stripe_key,onChange:j,placeholder:s("Enter Stripe key"),disabled:i||!l}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Stripe key for client-side integration")})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(h,{htmlFor:"stripe_secret",children:s("Stripe Secret Key")}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{id:"stripe_secret",name:"stripe_secret",type:c?"text":"password",value:i?"****************":t.stripe_secret,onChange:j,placeholder:s("Enter Stripe secret key"),disabled:i||!l,className:"pr-10"}),e.jsx(N,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>g(!c),children:c?e.jsx(B,{className:"h-4 w-4"}):e.jsx(D,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("Stripe secret key for server-side integration")})]})]}),e.jsxs("div",{className:"lg:col-span-1 border rounded-lg p-4 bg-blue-50 dark:bg-blue-950/20",children:[e.jsx("h4",{className:"font-medium mb-3 text-blue-900 dark:text-blue-100",children:s("How to get Stripe API keys")}),e.jsxs("div",{className:"space-y-2 text-sm text-blue-800 dark:text-blue-200",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-medium min-w-[20px]",children:[s("1.")," "]}),e.jsxs("span",{children:[s("Go to")," ",e.jsx("a",{href:"https://dashboard.stripe.com/",target:"_blank",rel:"noopener noreferrer",className:"underline hover:no-underline",children:"Stripe Dashboard"})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-medium min-w-[20px]",children:[s("2.")," "]}),e.jsx("span",{children:s("Sign in to your Stripe account or create a new one")})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-medium min-w-[20px]",children:[s("3.")," "]}),e.jsx("span",{children:s("Navigate to Developers â†’ API keys")})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-medium min-w-[20px]",children:[s("4.")," "]}),e.jsx("span",{children:s('Copy the "Publishable key" to the first field above')})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-medium min-w-[20px]",children:[s("5.")," "]}),e.jsx("span",{children:s('Reveal and copy the "Secret key" to the second field above')})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsxs("span",{className:"font-medium min-w-[20px]",children:[s("6.")," "]}),e.jsx("span",{children:s("Use test keys for development and live keys for production")})]})]})]})]})})]})})]})}export{ae as default};
