import{j as e}from"./ui-ZHFf5B17.js";import{r as y,g as ae,c as te}from"./vendor-CcMVubkO.js";import{B as oe}from"./button-DYC7yMVq.js";import{a as ue,b as he,c as fe}from"./tooltip-C7wT1CW2.js";import{t as z,X as Y,a as M}from"./app-BBiA4mAE.js";import{L as R}from"./label-DbqhUtKI.js";import{T as ge}from"./textarea-DxQ_BnuT.js";import{S as P,a as T,b as L,c as E,d as j}from"./select-BEhl2QER.js";import{R as me,a as U}from"./radio-group-Bg6nc_Xb.js";import{S as xe}from"./slider-CIevYFX0.js";import{D as ve,a as _e,b as je,c as ye}from"./dialog-BLwxprq_.js";import{u as C}from"./useTranslation-CV4_gBnb.js";import{S as ie}from"./sparkles-yKnt-shd.js";import{I as F}from"./input-error-DuIbBMgZ.js";import{S as be}from"./switch-ByWYyd_6.js";import{p as Se,n as B,f as we}from"./helpers-QYnGjXad.js";import{r as ke}from"./index-Chjiymov.js";import{r as Re}from"./index-8JwjhRSi.js";import{B as Oe}from"./badge-CV60sqBJ.js";const Pe=({isOpen:r,onClose:s,fieldType:o,fieldLabel:n,onGenerate:t,context:d={},module:l,submodule:u})=>{const{t:a}=C(),[v,_]=y.useState(!1),[c,i]=y.useState([]),[f,p]=y.useState({language:"english",creativity:"medium",resultCount:1,maxLength:100,fieldContent:""}),h=async()=>{var m;_(!0);try{const g=await(await fetch(route("ai-assistant.generate"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((m=document.querySelector('meta[name="csrf-token"]'))==null?void 0:m.getAttribute("content"))||""},body:JSON.stringify({fieldType:o,settings:f,context:d,module:l,submodule:u})})).json();if(g.success)i(g.results||[]),g.message&&z.success(g.message);else{const S=g.error||"Generation failed";z.error(S),console.error("AI Generation error:",S)}}catch(x){console.error("AI Generation error:",x),z.error("Network error. Please try again.")}finally{_(!1)}},b=m=>{t([m]),s()};return e.jsx(ve,{open:r,onOpenChange:s,children:e.jsxs(_e,{className:"max-w-2xl",children:[e.jsx(je,{children:e.jsxs(ye,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),a("Generate")," ",n," ",a("with AI")]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(R,{children:a("Language")}),e.jsxs(P,{value:f.language,onValueChange:m=>p(x=>({...x,language:m})),children:[e.jsx(T,{children:e.jsx(L,{})}),e.jsxs(E,{children:[e.jsx(j,{value:"english",children:a("English")}),e.jsx(j,{value:"arabic",children:a("Arabic")}),e.jsx(j,{value:"danish",children:a("Danish")}),e.jsx(j,{value:"spanish",children:a("Spanish")}),e.jsx(j,{value:"french",children:a("French")}),e.jsx(j,{value:"german",children:a("German")}),e.jsx(j,{value:"hebrew",children:a("Hebrew")}),e.jsx(j,{value:"italian",children:a("Italian")}),e.jsx(j,{value:"japanese",children:a("Japanese")}),e.jsx(j,{value:"dutch",children:a("Dutch")}),e.jsx(j,{value:"polish",children:a("Polish")}),e.jsx(j,{value:"portuguese",children:a("Portuguese")}),e.jsx(j,{value:"russian",children:a("Russian")}),e.jsx(j,{value:"turkish",children:a("Turkish")}),e.jsx(j,{value:"chinese",children:a("Chinese")})]})]})]}),e.jsxs("div",{children:[e.jsx(R,{children:a("AI Creativity")}),e.jsxs(me,{value:f.creativity,onValueChange:m=>p(x=>({...x,creativity:m})),className:"flex gap-6 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"low"}),e.jsx(R,{children:a("Low")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"medium"}),e.jsx(R,{children:a("Medium")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{value:"high"}),e.jsx(R,{children:a("High")})]})]})]}),e.jsxs("div",{children:[e.jsx(R,{children:a("Number of Results")}),e.jsxs(P,{value:f.resultCount.toString(),onValueChange:m=>p(x=>({...x,resultCount:parseInt(m)})),children:[e.jsx(T,{children:e.jsx(L,{})}),e.jsxs(E,{children:[e.jsx(j,{value:"1",children:"1"}),e.jsx(j,{value:"2",children:"2"}),e.jsx(j,{value:"3",children:"3"}),e.jsx(j,{value:"5",children:"5"})]})]})]}),e.jsxs("div",{children:[e.jsxs(R,{children:[a("Maximum Length")," (",f.maxLength," ",a("characters"),")"]}),e.jsx(xe,{value:[f.maxLength],onValueChange:([m])=>p(x=>({...x,maxLength:m})),max:500,min:50,step:25,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsxs(R,{children:[a("Additional Context for")," ",n]}),e.jsx(ge,{placeholder:a("Provide additional context..."),value:f.fieldContent,onChange:m=>p(x=>({...x,fieldContent:m.target.value}))})]}),e.jsx(oe,{onClick:h,disabled:v,className:"w-full",children:a(v?"Generating...":"Generate Content")}),c.length>0&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs(R,{children:[a("Generated Results")," (",a("Click to select"),"):"]}),c.map((m,x)=>e.jsxs("div",{className:"p-3 border rounded cursor-pointer hover:bg-gray-50",onClick:()=>b(m),children:[e.jsx("p",{className:"text-sm",children:m}),e.jsxs("span",{className:"text-xs text-gray-500",children:[m.length," ",a("characters")]})]},x))]})]})]})})},Te=(r,s,o,n,t,d)=>{const{t:l}=C(),[u,a]=y.useState(!1),v=c=>{c.length>0&&o(c[0])};return{AIButton:()=>e.jsxs(e.Fragment,{children:[e.jsxs(ue,{children:[e.jsx(he,{asChild:!0,children:e.jsx(oe,{size:"icon",variant:"outline",onClick:()=>a(!0),type:"button",children:e.jsx(ie,{className:"h-4 w-4"})})}),e.jsx(fe,{children:e.jsxs("p",{className:"text-center whitespace-pre-line break-words max-w-[85px]",children:[l("Generate")," ",s," ",l("with AI")]})})]}),e.jsx(Pe,{isOpen:u,onClose:()=>a(!1),fieldType:r,fieldLabel:s,onGenerate:v,context:n,module:t,submodule:d})]})}},Le=(r,s,o,n="create",t,d,l,u)=>{var N,I;const a=r._aiConfig,v=(a==null?void 0:a.field)||t||"name",_=(a==null?void 0:a.label)||d||"Field",c=(a==null?void 0:a.module)||l||"general",i=(a==null?void 0:a.submodule)||u;a!=null&&a.action;const{auth:f,companyAllSetting:p}=Y().props,h=(I=(N=f==null?void 0:f.user)==null?void 0:N.activatedPackages)==null?void 0:I.includes("AIAssistant"),b=p==null?void 0:p.ai_provider,m=p==null?void 0:p.ai_model,x=p==null?void 0:p.ai_api_key;if(!h||!!!(b&&m&&x))return[];const{AIButton:S}=Te(v,_,w=>s(v,w),r,c,i);return[{id:`ai-${v}`,order:999,component:e.jsx(S,{})}]},Ee=Object.freeze(Object.defineProperty({__proto__:null,aiField:Le},Symbol.toStringTag,{value:"Module"})),Ce=(r,s,o,n="create")=>{var _;const{t}=C(),[d,l]=y.useState([]),[u,a]=y.useState(!0),v=n==="edit"?"edit_bank_account_id":"bank_account_id";return y.useEffect(()=>{(async()=>{try{const i=await M.get(route("account.bank-accounts.api.list"));l(i.data)}catch(i){console.error("Error fetching bank accounts:",i)}finally{a(!1)}})()},[]),[{id:"bank-account-field",order:10,component:e.jsxs("div",{children:[e.jsx(R,{htmlFor:v,required:!0,children:t("Bank Account")}),e.jsxs(P,{value:((_=r.bank_account_id)==null?void 0:_.toString())||"",onValueChange:c=>s("bank_account_id",c),children:[e.jsx(T,{children:e.jsx(L,{placeholder:t(u?"Loading...":"Select Bank Account")})}),e.jsx(E,{children:d==null?void 0:d.map(c=>e.jsxs(j,{value:c.id.toString(),children:[c.account_name," (",c.account_number,")"]},c.id))})]}),e.jsx(F,{message:o.bank_account_id})]})}]},Ne=Object.freeze(Object.defineProperty({__proto__:null,bankAccountField:Ce},Symbol.toStringTag,{value:"Module"})),Ie=(r,s,o)=>{const{t:n}=C();return Se("Calendar")?[{id:"calendar-sync",order:100,component:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{id:"sync_to_google_calendar",checked:r.sync_to_google_calendar||!1,onCheckedChange:t=>s("sync_to_google_calendar",!!t)}),e.jsx(R,{htmlFor:"sync_to_google_calendar",className:"cursor-pointer",children:n("Sync to Google Calendar")}),e.jsx(F,{message:o.sync_to_google_calendar})]})}]:[]},Ae=Object.freeze(Object.defineProperty({__proto__:null,createCalendarSyncField:Ie},Symbol.toStringTag,{value:"Module"}));var Fe=ke();const k=ae(Fe);var Ge=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function H(){return H=Object.assign?Object.assign.bind():function(r){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}return r},H.apply(this,arguments)}function Me(r,s){if(r==null)return{};var o={},n=Object.keys(r),t,d;for(d=0;d<n.length;d++)t=n[d],!(s.indexOf(t)>=0)&&(o[t]=r[t]);return o}function G(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function $e(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,V(r,s)}function V(r,s){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},V(r,s)}var $=function(r){$e(s,r);function s(){var n;return n=r.call(this)||this,n.handleExpired=n.handleExpired.bind(G(n)),n.handleErrored=n.handleErrored.bind(G(n)),n.handleChange=n.handleChange.bind(G(n)),n.handleRecaptchaRef=n.handleRecaptchaRef.bind(G(n)),n}var o=s.prototype;return o.getCaptchaFunction=function(t){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[t]:this.props.grecaptcha[t]:null},o.getValue=function(){var t=this.getCaptchaFunction("getResponse");return t&&this._widgetId!==void 0?t(this._widgetId):null},o.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},o.execute=function(){var t=this.getCaptchaFunction("execute");if(t&&this._widgetId!==void 0)return t(this._widgetId);this._executeRequested=!0},o.executeAsync=function(){var t=this;return new Promise(function(d,l){t.executionResolve=d,t.executionReject=l,t.execute()})},o.reset=function(){var t=this.getCaptchaFunction("reset");t&&this._widgetId!==void 0&&t(this._widgetId)},o.forceReset=function(){var t=this.getCaptchaFunction("reset");t&&t()},o.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},o.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},o.handleChange=function(t){this.props.onChange&&this.props.onChange(t),this.executionResolve&&(this.executionResolve(t),delete this.executionReject,delete this.executionResolve)},o.explicitRender=function(){var t=this.getCaptchaFunction("render");if(t&&this._widgetId===void 0){var d=document.createElement("div");this._widgetId=t(d,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(d)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},o.componentDidMount=function(){this.explicitRender()},o.componentDidUpdate=function(){this.explicitRender()},o.handleRecaptchaRef=function(t){this.captcha=t},o.render=function(){var t=this.props;t.sitekey,t.onChange,t.theme,t.type,t.tabindex,t.onExpired,t.onErrored,t.size,t.stoken,t.grecaptcha,t.badge,t.hl,t.isolated;var d=Me(t,Ge);return y.createElement("div",H({},d,{ref:this.handleRecaptchaRef}))},s}(y.Component);$.displayName="ReCAPTCHA";$.propTypes={sitekey:k.string.isRequired,onChange:k.func,grecaptcha:k.object,theme:k.oneOf(["dark","light"]),type:k.oneOf(["image","audio"]),tabindex:k.number,onExpired:k.func,onErrored:k.func,size:k.oneOf(["compact","normal","invisible"]),stoken:k.string,hl:k.string,badge:k.oneOf(["bottomright","bottomleft","inline"]),isolated:k.bool};$.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var Q=Re,De={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},ze={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Ue={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Z={};Z[Q.ForwardRef]=Ue;Z[Q.Memo]=ce;function re(r){return Q.isMemo(r)?ce:Z[r.$$typeof]||De}var Be=Object.defineProperty,He=Object.getOwnPropertyNames,ne=Object.getOwnPropertySymbols,Ve=Object.getOwnPropertyDescriptor,qe=Object.getPrototypeOf,se=Object.prototype;function de(r,s,o){if(typeof s!="string"){if(se){var n=qe(s);n&&n!==se&&de(r,n,o)}var t=He(s);ne&&(t=t.concat(ne(s)));for(var d=re(r),l=re(s),u=0;u<t.length;++u){var a=t[u];if(!ze[a]&&!(o&&o[a])&&!(l&&l[a])&&!(d&&d[a])){var v=Ve(s,a);try{Be(r,a,v)}catch{}}}}return r}var We=de;const Ke=ae(We);function q(){return q=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var o=arguments[s];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(r[n]=o[n])}return r},q.apply(this,arguments)}function Je(r,s){if(r==null)return{};var o={},n=Object.keys(r),t,d;for(d=0;d<n.length;d++)t=n[d],!(s.indexOf(t)>=0)&&(o[t]=r[t]);return o}function Xe(r,s){r.prototype=Object.create(s.prototype),r.prototype.constructor=r,r.__proto__=s}var O={},Ye=0;function Qe(r,s){return s=s||{},function(n){var t=n.displayName||n.name||"Component",d=function(u){Xe(a,u);function a(_,c){var i;return i=u.call(this,_,c)||this,i.state={},i.__scriptURL="",i}var v=a.prototype;return v.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+Ye++),this.__scriptLoaderID},v.setupScriptURL=function(){return this.__scriptURL=typeof r=="function"?r():r,this.__scriptURL},v.asyncScriptLoaderHandleLoad=function(c){var i=this;this.setState(c,function(){return i.props.asyncScriptOnLoad&&i.props.asyncScriptOnLoad(i.state)})},v.asyncScriptLoaderTriggerOnScriptLoaded=function(){var c=O[this.__scriptURL];if(!c||!c.loaded)throw new Error("Script is not loaded.");for(var i in c.observers)c.observers[i](c);delete window[s.callbackName]},v.componentDidMount=function(){var c=this,i=this.setupScriptURL(),f=this.asyncScriptLoaderGetScriptLoaderID(),p=s,h=p.globalName,b=p.callbackName,m=p.scriptId;if(h&&typeof window[h]<"u"&&(O[i]={loaded:!0,observers:{}}),O[i]){var x=O[i];if(x&&(x.loaded||x.errored)){this.asyncScriptLoaderHandleLoad(x);return}x.observers[f]=function(w){return c.asyncScriptLoaderHandleLoad(w)};return}var g={};g[f]=function(w){return c.asyncScriptLoaderHandleLoad(w)},O[i]={loaded:!1,observers:g};var S=document.createElement("script");S.src=i,S.async=!0;for(var N in s.attributes)S.setAttribute(N,s.attributes[N]);m&&(S.id=m);var I=function(A){if(O[i]){var pe=O[i],D=pe.observers;for(var ee in D)A(D[ee])&&delete D[ee]}};b&&typeof window<"u"&&(window[b]=function(){return c.asyncScriptLoaderTriggerOnScriptLoaded()}),S.onload=function(){var w=O[i];w&&(w.loaded=!0,I(function(A){return b?!1:(A(w),!0)}))},S.onerror=function(){var w=O[i];w&&(w.errored=!0,I(function(A){return A(w),!0}))},document.body.appendChild(S)},v.componentWillUnmount=function(){var c=this.__scriptURL;if(s.removeOnUnmount===!0)for(var i=document.getElementsByTagName("script"),f=0;f<i.length;f+=1)i[f].src.indexOf(c)>-1&&i[f].parentNode&&i[f].parentNode.removeChild(i[f]);var p=O[c];p&&(delete p.observers[this.asyncScriptLoaderGetScriptLoaderID()],s.removeOnUnmount===!0&&delete O[c])},v.render=function(){var c=s.globalName,i=this.props;i.asyncScriptOnLoad;var f=i.forwardedRef,p=Je(i,["asyncScriptOnLoad","forwardedRef"]);return c&&typeof window<"u"&&(p[c]=typeof window[c]<"u"?window[c]:void 0),p.ref=f,y.createElement(n,p)},a}(y.Component),l=y.forwardRef(function(u,a){return y.createElement(d,q({},u,{forwardedRef:a}))});return l.displayName="AsyncScriptLoader("+t+")",l.propTypes={asyncScriptOnLoad:k.func},Ke(l,n)}}var W="onloadcallback",Ze="grecaptcha";function K(){return typeof window<"u"&&window.recaptchaOptions||{}}function et(){var r=K(),s=r.useRecaptchaNet?"recaptcha.net":"www.google.com";return r.enterprise?"https://"+s+"/recaptcha/enterprise.js?onload="+W+"&render=explicit":"https://"+s+"/recaptcha/api.js?onload="+W+"&render=explicit"}const tt=Qe(et,{callbackName:W,globalName:Ze,attributes:K().nonce?{nonce:K().nonce}:{}})($),J="recaptcha-v3-script",rt=["/login","/register","/forgot-password"],le=()=>rt.some(r=>window.location.pathname.includes(r)),X=()=>{var s;const r=document.getElementById(J);r&&r.remove(),(s=document.querySelector(".grecaptcha-badge"))==null||s.remove(),document.querySelectorAll('iframe[src*="recaptcha"], div[style*="recaptcha"]').forEach(o=>o.remove()),window.grecaptcha&&delete window.grecaptcha},nt=(r,s)=>{if(!le())return X();let o=document.getElementById(J);const n=()=>{window.grecaptcha.ready(()=>{window.grecaptcha.execute(r,{action:"auth"}).then(t=>{s("recaptcha_token",t)})})};o?window.grecaptcha&&n():(o=document.createElement("script"),o.id=J,o.src=`https://www.google.com/recaptcha/api.js?render=${r}`,o.onload=n,document.head.appendChild(o))},st=(r,s,o,n)=>{const t=B("recaptcha_enabled"),d=B("recaptcha_version"),l=B("recaptcha_site_key");return t!=="on"||!l?[]:(window.cleanupRecaptcha=X,y.useEffect(()=>(d==="v3"&&nt(l,s),X),[d,l,s]),y.useEffect(()=>{const u=()=>{!le()&&window.cleanupRecaptcha&&window.cleanupRecaptcha()};return window.addEventListener("popstate",u),()=>window.removeEventListener("popstate",u)},[]),[{id:"recaptcha-field",order:100,component:e.jsxs("div",{className:"space-y-2",children:[d==="v2"&&e.jsx(tt,{sitekey:l,onChange:u=>s("recaptcha_token",u),onExpired:()=>s("recaptcha_token",null),onError:()=>s("recaptcha_token",null)}),d==="v3"&&e.jsxs("div",{className:"text-sm text-gray-600",children:[n("This site is protected by reCAPTCHA and the Google")||"This site is protected by reCAPTCHA and the Google"," ",e.jsx("a",{href:"https://policies.google.com/privacy",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n("Privacy Policy")||"Privacy Policy"})," ",n("and")||"and"," ",e.jsx("a",{href:"https://policies.google.com/terms",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:n("Terms of Service")||"Terms of Service"})," ",n("apply.")||"apply."]}),o.recaptcha_token&&e.jsx("div",{className:"text-sm text-red-600",children:o.recaptcha_token})]},"recaptcha-field")}])},at=(r,s,o,n="create",t)=>st(r,s,o,t),ot=Object.freeze(Object.defineProperty({__proto__:null,getReCaptchFields:at},Symbol.toStringTag,{value:"Module"})),it=()=>[{id:"paypal-gateway",order:2,component:e.jsx(j,{value:"Paypal",children:"Paypal"})}],ct=Object.freeze(Object.defineProperty({__proto__:null,paymentGateway:it},Symbol.toStringTag,{value:"Module"})),dt=(r,s,o,n="create")=>{var p;const{t}=C(),{props:d}=Y(),[l,u]=y.useState([]),[a,v]=y.useState(!0),_=async()=>{try{const h=await M.get(route("api.product-service.items.index"));u(h.data)}catch(h){console.error("Error fetching products:",h)}finally{v(!1)}};te.useEffect(()=>{_()},[]);const c=h=>{var m;const b=l.find(x=>x.id.toString()===h);if(b){const x=((m=b.taxes)==null?void 0:m.map(g=>g.id))||[];s("item_id",h),s("price",b.sale_price),s("tax",x),s("description",b.description||"")}},i=te.useMemo(()=>r.item_id&&l.length>0?l.find(h=>h.id.toString()===r.item_id.toString()):null,[r.item_id,l]),f=n==="edit"?"edit_item_id":"item_id";return[{id:"product-service-item",order:1,component:e.jsxs("div",{children:[e.jsx(R,{htmlFor:f,children:t("Product/Service")}),e.jsxs(P,{value:r.item_id?r.item_id.toString():"",onValueChange:c,children:[e.jsx(T,{children:e.jsx(L,{placeholder:t(a?"Loading...":"Select a product")})}),e.jsx(E,{children:l.map(h=>e.jsx(j,{value:h.id.toString(),children:e.jsxs("span",{className:"font-medium",children:[h.name," - ",we(h.sale_price||0,d)]})},h.id))})]}),((p=i==null?void 0:i.taxes)==null?void 0:p.length)>0&&e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:i.taxes.map((h,b)=>e.jsxs(Oe,{variant:"secondary",className:`text-xs ${b%2===0?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:[h.tax_name," (",h.rate,"%)"]},h.id))}),e.jsx(F,{message:o.item_id})]},`${r.item_id}-${l.length}`)}]},lt=Object.freeze(Object.defineProperty({__proto__:null,createProductServiceField:dt},Symbol.toStringTag,{value:"Module"})),pt=()=>[{id:"stripe-gateway",order:1,component:e.jsx(j,{value:"Stripe",children:"Stripe"})}],ut=Object.freeze(Object.defineProperty({__proto__:null,paymentGateway:pt},Symbol.toStringTag,{value:"Module"})),ht=(r,s,o,n="create")=>{const{t}=C(),[d,l]=y.useState([]),[u,a]=y.useState([]),[v,_]=y.useState(!0),[c,i]=y.useState(!1),f=async()=>{try{const g=await M.get(route("api.taskly.projects.index"));l(g.data)}catch(g){console.error("Error fetching projects:",g)}finally{_(!1)}},p=async g=>{if(!g){a([]);return}i(!0);try{const S=await M.get(route("api.taskly.projects.tasks",g));a(S.data)}catch(S){console.error("Error fetching tasks:",S),a([])}finally{i(!1)}};y.useEffect(()=>{f()},[]),y.useEffect(()=>{r.project_id?p(r.project_id):(a([]),s("task_id",""))},[r.project_id]);const h=g=>{s("project_id",g),s("task_id","")},b=g=>{s("task_id",g)},m=n==="edit"?"edit_project_id":"project_id",x=n==="edit"?"edit_task_id":"task_id";return[{id:"taskly-project",order:2,component:e.jsxs("div",{children:[e.jsx(R,{htmlFor:m,children:t("Project")}),e.jsxs(P,{value:r.project_id?r.project_id.toString():"",onValueChange:h,children:[e.jsx(T,{children:e.jsx(L,{placeholder:t(v?"Loading...":"Select a project")})}),e.jsx(E,{children:d.map(g=>e.jsx(j,{value:g.id.toString(),children:e.jsx("span",{className:"font-medium",children:g.name})},g.id))})]}),e.jsx(F,{message:o.project_id})]},`project-${r.project_id}-${d.length}`)},{id:"taskly-task",order:3,component:e.jsxs("div",{children:[e.jsxs(R,{htmlFor:x,children:[t("Task")," ",e.jsxs("span",{className:"text-gray-500 text-sm",children:["(",t("Optional"),")"]})]}),e.jsxs(P,{value:r.task_id?r.task_id.toString():"",onValueChange:b,disabled:!r.project_id||c,children:[e.jsx(T,{children:e.jsx(L,{placeholder:r.project_id?c?t("Loading tasks..."):u.length===0?t("No tasks available"):t("Select a task"):t("Select a project first")})}),e.jsx(E,{children:u.map(g=>e.jsx(j,{value:g.id.toString(),children:e.jsx("span",{className:"font-medium",children:g.title})},g.id))})]}),e.jsx(F,{message:o.task_id})]},`task-${r.task_id}-${u.length}`)}]},ft=Object.freeze(Object.defineProperty({__proto__:null,createTasklyProjectTaskField:ht},Symbol.toStringTag,{value:"Module"})),It=(r,s,o,n,t="create",...d)=>{var l;try{const{auth:u}=Y().props,a=((l=u==null?void 0:u.user)==null?void 0:l.activatedPackages)||[],v=Object.assign({"../../../packages/workdo/AIAssistant/src/Resources/js/fields/fields.tsx":Ee,"../../../packages/workdo/Account/src/Resources/js/fields/fields.tsx":Ne,"../../../packages/workdo/Calendar/src/Resources/js/fields/fields.tsx":Ae,"../../../packages/workdo/GoogleCaptcha/src/Resources/js/fields/fields.tsx":ot,"../../../packages/workdo/Paypal/src/Resources/js/fields/fields.tsx":ct,"../../../packages/workdo/ProductService/src/Resources/js/fields/fields.tsx":lt,"../../../packages/workdo/Stripe/src/Resources/js/fields/fields.tsx":ut,"../../../packages/workdo/Taskly/src/Resources/js/fields/fields.tsx":ft}),_=[];return a.forEach(c=>{const i=`../../../packages/workdo/${c}/src/Resources/js/fields/fields.tsx`,f=v[i];if(f&&f[r]){const p=f[r];if(typeof p=="function")try{const h=p(s,o,n,t,...d);Array.isArray(h)?_.push(...h):h&&_.push(h)}catch{}}}),_.sort((c,i)=>(c.order||999)-(i.order||999))}catch{return[]}};export{It as u};
