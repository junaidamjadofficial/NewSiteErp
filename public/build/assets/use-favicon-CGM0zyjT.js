import{r as C}from"./vendor-CcMVubkO.js";import{j as I}from"./ui-ZHFf5B17.js";import{X as A}from"./app-BBiA4mAE.js";import{j as B}from"./helpers-QYnGjXad.js";const D=C.createContext(void 0);function R({children:a}){var M,T;const{adminAllSetting:g,companyAllSetting:k,auth:r}=A().props,v=(T=(M=r==null?void 0:r.user)==null?void 0:M.roles)==null?void 0:T.includes("superadmin");let e;v!=null?e=v?g:k:e=g;const o={logo_dark:(e==null?void 0:e.logo_dark)||"",logo_light:(e==null?void 0:e.logo_light)||"",favicon:(e==null?void 0:e.favicon)||"",titleText:(e==null?void 0:e.titleText)||"WorkDo",footerText:(e==null?void 0:e.footerText)||`Â© ${new Date().getFullYear()} WorkDo. All rights reserved.`,sidebarVariant:(e==null?void 0:e.sidebarVariant)||"inset",sidebarStyle:(e==null?void 0:e.sidebarStyle)||"plain",layoutDirection:(e==null?void 0:e.layoutDirection)||"ltr",themeMode:(e==null?void 0:e.themeMode)||"light",themeColor:(e==null?void 0:e.themeColor)||"green",customColor:(e==null?void 0:e.customColor)||"#10b77f"},z=t=>B(t),n={blue:"#3b82f6",green:"#10b77f",purple:"#8b5cf6",orange:"#f97316",red:"#ef4444"},s=()=>o.themeColor==="custom"?o.customColor||"#10b77f":n[o.themeColor]||"#10b77f";C.useEffect(()=>{const t=s(),d=document.documentElement,E=L=>{const h=parseInt(L.slice(1,3),16)/255,m=parseInt(L.slice(3,5),16)/255,u=parseInt(L.slice(5,7),16)/255,f=Math.max(h,m,u),y=Math.min(h,m,u);let b=0,$=0,w=(f+y)/2;if(f!==y){const x=f-y;switch($=w>.5?x/(2-f-y):x/(f+y),f){case h:b=(m-u)/x+(m<u?6:0);break;case m:b=(u-h)/x+2;break;case u:b=(h-m)/x+4;break}b/=6}return`${Math.round(b*360)} ${Math.round($*100)}% ${Math.round(w*100)}%`};d.style.setProperty("--primary",E(t)),d.style.setProperty("--primary-foreground","0 0% 98%");const p=o.layoutDirection==="rtl";d.dir=p?"rtl":"ltr",d.style.direction=p?"rtl":"ltr",document.body.dir=p?"rtl":"ltr",document.body.style.direction=p?"rtl":"ltr",p?(document.body.classList.add("rtl"),document.body.classList.remove("ltr")):(document.body.classList.add("ltr"),document.body.classList.remove("rtl"));const P=o.themeMode;P==="light"?(document.body.classList.remove("dark"),document.body.classList.add("light")):P==="dark"?(document.body.classList.remove("light"),document.body.classList.add("dark")):document.body.classList.remove("light","dark");let l=document.getElementById("brand-sidebar-styles");l||(l=document.createElement("style"),l.id="brand-sidebar-styles",document.head.appendChild(l)),o.sidebarStyle==="colored"||o.sidebarStyle==="gradient"?(o.sidebarStyle==="colored"||`${t}${t}`,l.textContent=`

        [data-sidebar] .bg-sidebar-primary {
          background: rgba(255,255,255,0.2);
        }
        [data-sidebar] [data-sidebar="menu-button"]:hover {
          background: rgba(255,255,255,0.1);
        }
        [data-sidebar] [data-sidebar="menu-button"][data-active="true"] {
          background: rgba(255,255,255,0.2);
        }
      `):l.textContent=""},[o.themeColor,o.customColor,o.layoutDirection,o.themeMode]);const i=()=>{const t=s();return o.sidebarStyle==="colored"?{backgroundColor:t}:o.sidebarStyle==="gradient"?{background:`linear-gradient(135deg, ${t} 0%, ${t}80 100%)`}:{}},c=()=>{let t="";return o.sidebarVariant==="floating"&&(t+=" m-2 rounded-lg shadow-sm"),t},j=()=>{const t=i(),d=c(),E=t.backgroundColor||t.background;return{style:{...t,...E&&{backgroundColor:t.backgroundColor||"transparent",background:t.background||t.backgroundColor||"transparent"}},className:`${d}`}};return I.jsx(D.Provider,{value:{settings:o,getPreviewUrl:z,getPrimaryColor:s,getSidebarStyles:i,getSidebarClasses:c,getCompleteSidebarProps:j},children:a})}function _(){const a=C.useContext(D);if(a===void 0)throw new Error("useBrand must be used within a BrandProvider");return a}function U(){const{settings:a}=_(),{props:g}=A();C.useEffect(()=>{const k=a.favicon;if(!k)return;const r=B(k,g);document.querySelectorAll('link[rel*="icon"]').forEach(n=>n.remove()),[{rel:"icon",type:"image/x-icon",href:r},{rel:"shortcut icon",type:"image/x-icon",href:r},{rel:"apple-touch-icon",sizes:"57x57",href:r},{rel:"apple-touch-icon",sizes:"60x60",href:r},{rel:"apple-touch-icon",sizes:"72x72",href:r},{rel:"apple-touch-icon",sizes:"76x76",href:r},{rel:"apple-touch-icon",sizes:"114x114",href:r},{rel:"apple-touch-icon",sizes:"120x120",href:r},{rel:"apple-touch-icon",sizes:"144x144",href:r},{rel:"apple-touch-icon",sizes:"152x152",href:r},{rel:"apple-touch-icon",sizes:"180x180",href:r},{rel:"icon",type:"image/png",sizes:"192x192",href:r},{rel:"icon",type:"image/png",sizes:"32x32",href:r},{rel:"icon",type:"image/png",sizes:"96x96",href:r},{rel:"icon",type:"image/png",sizes:"16x16",href:r},{rel:"mask-icon",href:r,color:"#000000"}].forEach(n=>{const s=document.createElement("link");Object.entries(n).forEach(([i,c])=>{s.setAttribute(i,c)}),document.head.appendChild(s)}),document.querySelectorAll('meta[name*="msapplication"]').forEach(n=>n.remove()),[{name:"msapplication-TileColor",content:"#ffffff"},{name:"msapplication-TileImage",content:r},{name:"msapplication-config",content:"/browserconfig.xml"}].forEach(n=>{const s=document.createElement("meta");Object.entries(n).forEach(([i,c])=>{s.setAttribute(i,c)}),document.head.appendChild(s)})},[a.favicon])}export{R as B,_ as a,U as u};
