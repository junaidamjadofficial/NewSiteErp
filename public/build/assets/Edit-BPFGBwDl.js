import{j as e}from"./ui-ZHFf5B17.js";import{a as q,b as B,c as P}from"./dialog-BLwxprq_.js";import{X as R,G as V}from"./app-BBiA4mAE.js";import{B as h}from"./button-DYC7yMVq.js";import{L as r}from"./label-DbqhUtKI.js";import{I as o}from"./input-error-DuIbBMgZ.js";import{I as b}from"./input-DqOfVTcn.js";import{R as w,a as g}from"./radio-group-Bg6nc_Xb.js";import{C as v}from"./currency-input-BZrT8lhz.js";import{S as G}from"./switch-ByWYyd_6.js";import{C as O}from"./checkbox-Cvtgzug2.js";import{T as L}from"./textarea-DxQ_BnuT.js";import{S as C,a as f,b as S,c as y,d as l}from"./select-BEhl2QER.js";import{r as A}from"./vendor-CcMVubkO.js";import{u as U}from"./useTranslation-CV4_gBnb.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./index-BYFX2qNQ.js";import"./circle-bmoNtd-e.js";import"./helpers-QYnGjXad.js";import"./check-DUlQPeVG.js";import"./index-BdQq_4o_.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";function ge({chartofaccount:n,onSuccess:d}){var p,_,x,j;const{accounttypes:N,parentaccounts:F}=R().props,[I,H]=A.useState(F||[]),{t}=U(),{data:s,setData:c,put:D,processing:u,errors:i}=V({account_code:n.account_code??"",account_name:n.account_name??"",normal_balance:n.normal_balance||"debit",opening_balance:n.opening_balance??"",current_balance:n.current_balance??"",is_active:n.is_active??!1,description:n.description??"",account_type_id:((p=n.account_type_id)==null?void 0:p.toString())||"",parent_account_id:((_=n.parent_account_id)==null?void 0:_.toString())||""}),[m,E]=A.useState(!!n.parent_account_id),T=a=>{E(a),a||c("parent_account_id","")},k=a=>{a.preventDefault(),D(route("account.chart-of-accounts.update",n.id),{onSuccess:()=>{d()}})};return e.jsxs(q,{children:[e.jsx(B,{children:e.jsx(P,{children:t("Edit Chart Of Account")})}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"account_type_id",required:!0,children:t("Account Type")}),e.jsxs(C,{value:((x=s.account_type_id)==null?void 0:x.toString())||"",onValueChange:a=>c("account_type_id",a),children:[e.jsx(f,{children:e.jsx(S,{placeholder:t("Select Account Type")})}),e.jsx(y,{children:N.map(a=>e.jsx(l,{value:a.id.toString(),children:a.name},a.id))})]}),e.jsx(o,{message:i.account_type_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"account_name",children:t("Account Name")}),e.jsx(b,{id:"account_name",type:"text",value:s.account_name,onChange:a=>c("account_name",a.target.value),placeholder:t("Enter Account Name"),required:!0}),e.jsx(o,{message:i.account_name})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"account_code",children:t("Account Code")}),e.jsx(b,{id:"account_code",type:"text",value:s.account_code,onChange:a=>c("account_code",a.target.value),placeholder:t("Enter Account Code"),disabled:n.is_system_account===1,required:!0}),e.jsx(o,{message:i.account_code})]}),e.jsxs("div",{children:[e.jsx(r,{children:t("Normal Balance")}),e.jsxs(w,{value:s.normal_balance||"debit",onValueChange:a=>c("normal_balance",a),className:"flex gap-6 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:"debit",id:"normal_balance_debit"}),e.jsx(r,{htmlFor:"normal_balance_debit",className:"cursor-pointer",children:t("Debit")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{value:"credit",id:"normal_balance_credit"}),e.jsx(r,{htmlFor:"normal_balance_credit",className:"cursor-pointer",children:t("Credit")})]})]}),e.jsx(o,{message:i.normal_balance})]}),e.jsx("div",{children:e.jsx(v,{label:t("Opening Balance"),value:s.opening_balance,onChange:a=>c("opening_balance",a),error:i.opening_balance,required:!0})}),e.jsx("div",{children:e.jsx(v,{label:t("Current Balance"),value:s.current_balance,onChange:a=>c("current_balance",a),error:i.current_balance,required:!0})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(G,{id:"is_active",checked:s.is_active||!1,onCheckedChange:a=>c("is_active",!!a),disabled:n.is_system_account===1}),e.jsx(r,{htmlFor:"is_active",className:"cursor-pointer",children:t("Is Active")}),e.jsx(o,{message:i.is_active})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{id:"is_sub_account",checked:m,onCheckedChange:T}),e.jsx(r,{htmlFor:"is_sub_account",className:"cursor-pointer",children:t("Create as sub account")})]})]}),m&&e.jsxs("div",{children:[e.jsx(r,{htmlFor:"parent_account_id",children:t("Parent Account")}),e.jsxs(C,{value:((j=s.parent_account_id)==null?void 0:j.toString())||"",onValueChange:a=>c("parent_account_id",a),children:[e.jsx(f,{children:e.jsx(S,{placeholder:t("Select Parent Account")})}),e.jsxs(y,{children:[e.jsx(l,{value:"0",children:t("None")}),I.filter(a=>a.id!==n.id).map(a=>e.jsx(l,{value:a.id.toString(),children:a.account_name},a.id))]})]}),e.jsx(o,{message:i.parent_account_id})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"description",children:t("Description")}),e.jsx(L,{id:"description",value:s.description,onChange:a=>c("description",a.target.value),placeholder:t("Enter Description"),rows:3}),e.jsx(o,{message:i.description})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(h,{type:"button",variant:"outline",onClick:d,children:t("Cancel")}),e.jsx(h,{type:"submit",disabled:u,children:t(u?"Updating...":"Update")})]})]})]})}export{ge as default};
