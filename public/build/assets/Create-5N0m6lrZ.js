import{j as e}from"./ui-ZHFf5B17.js";import{a as Z,b as ee,c as ie}from"./dialog-BLwxprq_.js";import{X as A,G as se}from"./app-BBiA4mAE.js";import{r as _}from"./vendor-CcMVubkO.js";import{B as I}from"./button-DYC7yMVq.js";import{L as n}from"./label-DbqhUtKI.js";import{I as o}from"./input-error-DuIbBMgZ.js";import{I as x}from"./input-DqOfVTcn.js";import{C as B}from"./currency-input-BZrT8lhz.js";import{R as C}from"./rich-text-editor-59agrfWF.js";import{C as d}from"./checkbox-Cvtgzug2.js";import{S as g,a as v,b as f,c as b,d as m}from"./select-BEhl2QER.js";import{T as re}from"./tags-input-C6Ka5-VZ.js";import{D as te}from"./date-picker-CVthJV3y.js";import{u as y}from"./useFormFields-BwNmEYJY.js";import{u as ne}from"./useTranslation-CV4_gBnb.js";import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";/* empty css            */import"./index-BMyiKApA.js";import"./helpers-QYnGjXad.js";import"./index-DaFL_H0m.js";import"./with-selector-CP8JaRn2.js";import"./undo-D3tFEvb3.js";import"./list-BVwWsOhE.js";import"./link-2Bt5o4zZ.js";import"./index-BYFX2qNQ.js";import"./check-DUlQPeVG.js";import"./index-BdQq_4o_.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./badge-CV60sqBJ.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";import"./tooltip-C7wT1CW2.js";import"./textarea-DxQ_BnuT.js";import"./radio-group-Bg6nc_Xb.js";import"./circle-bmoNtd-e.js";import"./slider-CIevYFX0.js";import"./sparkles-yKnt-shd.js";import"./switch-ByWYyd_6.js";import"./index-Chjiymov.js";import"./index-8JwjhRSi.js";function ei({onSuccess:F}){var k,E,R,T,D,w;const{jobtypes:u,joblocations:h,customquestions:p,departments:le,branches:j}=A().props,{t:s}=ne(),[L,N]=_.useState(""),{data:r,setData:t,post:P,processing:S,errors:l}=se({title:"",position:"",priority:"0",job_application:"existing",application_url:"",branch_id:"",applicant:[],visibility:[],min_experience:"",max_experience:"",min_salary:"",max_salary:"",description:"",requirements:"",benefits:"",terms_condition:"",show_terms_condition:!1,application_deadline:"",is_published:!1,publish_date:"",is_featured:!1,status:"0",department_id:"",job_type_id:"",location_id:"",custom_questions:[],skills:[]}),M=y("aiField",r,t,l,"create","title","Title","recruitment","job_posting"),[K,V]=_.useState(0),$=y("aiField",r,(i,a)=>{t("description",a),V(c=>c+1)},l,"create","description","Description","recruitment","job_posting"),[J,Q]=_.useState(0),U=y("aiField",r,(i,a)=>{t("requirements",a),Q(c=>c+1)},l,"create","requirements","Requirements","recruitment","job_posting"),[H,O]=_.useState(0),G=y("aiField",r,(i,a)=>{t("benefits",a),O(c=>c+1)},l,"create","benefits","Benefits","recruitment","job_posting"),[Y,X]=_.useState(0),z=y("aiField",r,(i,a)=>{t("terms_condition",a),X(c=>c+1)},l,"create","terms_condition","Terms Condition","recruitment","job_posting"),W=i=>{if(i.preventDefault(),((p==null?void 0:p.filter(q=>q.is_required))||[]).filter(q=>!r.custom_questions.includes(q.id)).length>0){N(s("Please select all required custom questions"));return}N(""),P(route("recruitment.job-postings.store"),{onSuccess:()=>{F()}})};return e.jsxs(Z,{className:"max-w-4xl",children:[e.jsx(ee,{children:e.jsx(ie,{children:s("Create Job Posting")})}),e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{children:e.jsxs("div",{className:"flex gap-2 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(n,{htmlFor:"title",children:s("Title")}),e.jsx(x,{id:"title",type:"text",value:r.title,onChange:i=>t("title",i.target.value),placeholder:s("Enter Title"),required:!0}),e.jsx(o,{message:l.title})]}),M.map(i=>e.jsx("div",{children:i.component},i.id))]})}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"job_type_id",required:!0,children:s("Job Type")}),e.jsxs(g,{value:((k=r.job_type_id)==null?void 0:k.toString())||"",onValueChange:i=>t("job_type_id",i),required:!0,children:[e.jsx(v,{children:e.jsx(f,{placeholder:s("Select Job Type")})}),e.jsx(b,{children:u==null?void 0:u.map(i=>e.jsx(m,{value:i.id.toString(),children:i.name},i.id))})]}),(!u||u.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s("Create job type here. "),e.jsx("a",{href:route("recruitment.job-types.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:s("job type")}),"."]}),e.jsx(o,{message:l.job_type_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location_id",required:!0,children:s("Location")}),e.jsxs(g,{value:((E=r.location_id)==null?void 0:E.toString())||"",onValueChange:i=>t("location_id",i),required:!0,children:[e.jsx(v,{children:e.jsx(f,{placeholder:s("Select Location")})}),e.jsx(b,{children:h==null?void 0:h.map(i=>e.jsx(m,{value:i.id.toString(),children:i.name},i.id))})]}),(!h||h.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s("Create job location here. "),e.jsx("a",{href:route("recruitment.job-locations.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:s("job location")}),"."]}),e.jsx(o,{message:l.location_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"branch_id",required:!0,children:s("Branch")}),e.jsxs(g,{value:((R=r.branch_id)==null?void 0:R.toString())||"",onValueChange:i=>t("branch_id",i),required:!0,children:[e.jsx(v,{children:e.jsx(f,{placeholder:s("Select Branch")})}),e.jsx(b,{children:j==null?void 0:j.map(i=>e.jsx(m,{value:i.id.toString(),children:i.branch_name},i.id))})]}),e.jsx(o,{message:l.branch_id}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Branch data comes from HRM add-on. Please ensure branches are created in HRM module first.")}),(!j||j.length===0)&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s("Create branch here. "),e.jsx("a",{href:route("hrm.branches.index"),className:"text-blue-600 hover:text-blue-800 cursor-pointer",children:s("branch")}),"."]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"job_application",required:!0,children:s("Job Application")}),e.jsxs(g,{value:r.job_application||"",onValueChange:i=>t("job_application",i),required:!0,children:[e.jsx(v,{children:e.jsx(f,{placeholder:s("Select Application Type")})}),e.jsxs(b,{children:[e.jsx(m,{value:"existing",children:s("Use Existing System")}),e.jsx(m,{value:"custom",children:s("Custom Application URL")})]})]}),e.jsx(o,{message:l.job_application})]}),r.job_application==="existing"?e.jsxs("div",{children:[e.jsx(n,{children:s("Career Portal URL")}),e.jsx(x,{value:route("recruitment.frontend.careers.jobs.index",{userSlug:((D=(T=A().props.auth)==null?void 0:T.user)==null?void 0:D.slug)||"demo"}),readOnly:!0,className:"bg-gray-50"})]}):r.job_application==="custom"?e.jsxs("div",{children:[e.jsx(n,{htmlFor:"application_url",required:!0,children:s("Application URL")}),e.jsx(x,{id:"application_url",type:"url",value:r.application_url,onChange:i=>t("application_url",i.target.value),placeholder:s("Enter Application URL"),required:!0}),e.jsx(o,{message:l.application_url})]}):e.jsx("div",{}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"position",required:!0,children:s("Number of Positions")}),e.jsx(x,{id:"position",type:"number",min:"1",value:r.position,onChange:i=>t("position",i.target.value),placeholder:s("Enter Number of Positions"),required:!0}),e.jsx(o,{message:l.position})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"priority",required:!0,children:s("Priority")}),e.jsxs(g,{value:((w=r.priority)==null?void 0:w.toString())||"",onValueChange:i=>t("priority",i),required:!0,children:[e.jsx(v,{children:e.jsx(f,{placeholder:s("Select Priority")})}),e.jsxs(b,{children:[e.jsx(m,{value:"0",children:s("Low")}),e.jsx(m,{value:"1",children:s("Medium")}),e.jsx(m,{value:"2",children:s("High")})]})]}),e.jsx(o,{message:l.priority})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"min_experience",required:!0,children:s("Min Experience (Years)")}),e.jsx(x,{id:"min_experience",type:"number",step:"0.5",min:"0",value:r.min_experience,onChange:i=>t("min_experience",i.target.value),placeholder:s("Enter Minimum Experience"),required:!0}),e.jsx(o,{message:l.min_experience})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"max_experience",children:s("Max Experience (Years)")}),e.jsx(x,{id:"max_experience",type:"number",step:"0.5",min:"0",value:r.max_experience,onChange:i=>t("max_experience",i.target.value),placeholder:s("Enter Maximum Experience")}),e.jsx(o,{message:l.max_experience})]}),e.jsx("div",{children:e.jsx(B,{label:s("Min Salary"),value:r.min_salary,onChange:i=>t("min_salary",i),error:l.min_salary})}),e.jsx("div",{children:e.jsx(B,{label:s("Max Salary"),value:r.max_salary,onChange:i=>t("max_salary",i),error:l.max_salary})}),e.jsxs("div",{children:[e.jsx(n,{required:!0,children:s("Application Deadline")}),e.jsx(te,{value:r.application_deadline,onChange:i=>t("application_deadline",i),placeholder:s("Select Application Deadline"),minDate:new Date(Date.now()+24*60*60*1e3),required:!0}),e.jsx(o,{message:l.application_deadline})]}),e.jsxs("div",{className:"flex items-center space-x-2 pt-2",children:[e.jsx(d,{id:"is_featured",checked:r.is_featured||!1,onCheckedChange:i=>t("is_featured",!!i)}),e.jsx(n,{htmlFor:"is_featured",className:"cursor-pointer",children:s("Featured Job")}),e.jsx(o,{message:l.is_featured})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:s("Need to Ask?")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"applicant_gender",checked:r.applicant.includes("gender"),onCheckedChange:i=>{i?t("applicant",[...r.applicant,"gender"]):t("applicant",r.applicant.filter(a=>a!=="gender"))}}),e.jsx(n,{htmlFor:"applicant_gender",className:"cursor-pointer",children:s("Gender")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"applicant_date_of_birth",checked:r.applicant.includes("date_of_birth"),onCheckedChange:i=>{i?t("applicant",[...r.applicant,"date_of_birth"]):t("applicant",r.applicant.filter(a=>a!=="date_of_birth"))}}),e.jsx(n,{htmlFor:"applicant_date_of_birth",className:"cursor-pointer",children:s("Date Of Birth")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"applicant_country",checked:r.applicant.includes("country"),onCheckedChange:i=>{i?t("applicant",[...r.applicant,"country"]):t("applicant",r.applicant.filter(a=>a!=="country"))}}),e.jsx(n,{htmlFor:"applicant_country",className:"cursor-pointer",children:s("Country")})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:s("Need to show Option?")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"visibility_profile_image",checked:r.visibility.includes("profile_image"),onCheckedChange:i=>{i?t("visibility",[...r.visibility,"profile_image"]):t("visibility",r.visibility.filter(a=>a!=="profile_image"))}}),e.jsx(n,{htmlFor:"visibility_profile_image",className:"cursor-pointer",children:s("Profile Image")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"visibility_resume",checked:r.visibility.includes("resume"),onCheckedChange:i=>{i?t("visibility",[...r.visibility,"resume"]):t("visibility",r.visibility.filter(a=>a!=="resume"))}}),e.jsx(n,{htmlFor:"visibility_resume",className:"cursor-pointer",children:s("Resume")})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:"visibility_cover_letter",checked:r.visibility.includes("cover_letter"),onCheckedChange:i=>{i?t("visibility",[...r.visibility,"cover_letter"]):t("visibility",r.visibility.filter(a=>a!=="cover_letter"))}}),e.jsx(n,{htmlFor:"visibility_cover_letter",className:"cursor-pointer",children:s("Cover Letter")})]})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"skills",required:!0,children:s("Required Skills")}),e.jsx(re,{value:r.skills,onChange:i=>t("skills",i),placeholder:s("Add skills and press Enter..."),allowCustom:!0,required:!0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s("Type Required Skills and press Enter")}),e.jsx(o,{message:l.skills})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{htmlFor:"description",children:s("Description")}),e.jsx("div",{className:"flex gap-2",children:$.map(i=>e.jsx("div",{children:i.component},i.id))})]}),e.jsx(C,{content:r.description,onChange:i=>t("description",i),placeholder:s("Enter Description")},`description-editor-${K}`),e.jsx(o,{message:l.description})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{htmlFor:"requirements",children:s("Requirements")}),e.jsx("div",{className:"flex gap-2",children:U.map(i=>e.jsx("div",{children:i.component},i.id))})]}),e.jsx(C,{content:r.requirements,onChange:i=>t("requirements",i),placeholder:s("Enter Requirements")},`requirements-editor-${J}`),e.jsx(o,{message:l.requirements})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{htmlFor:"benefits",children:s("Benefits")}),e.jsx("div",{className:"flex gap-2",children:G.map(i=>e.jsx("div",{children:i.component},i.id))})]}),e.jsx(C,{content:r.benefits,onChange:i=>t("benefits",i),placeholder:s("Enter Benefits")},`benefits-editor-${H}`),e.jsx(o,{message:l.benefits})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{htmlFor:"terms_condition",required:!0,children:s("Terms Condition")}),e.jsx("div",{className:"flex gap-2",children:z.map(i=>e.jsx("div",{children:i.component},i.id))})]}),e.jsx(C,{content:r.terms_condition,onChange:i=>t("terms_condition",i),placeholder:s("Enter Terms Condition")},`terms-editor-${Y}`),e.jsx(o,{message:l.terms_condition}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(d,{id:"show_terms_condition",checked:r.show_terms_condition||!1,onCheckedChange:i=>t("show_terms_condition",!!i)}),e.jsx(n,{htmlFor:"show_terms_condition",className:"cursor-pointer",children:s("Show Terms & Conditions on Application Form")})]})]}),e.jsxs("div",{children:[e.jsx(n,{children:s("Application Questions")}),e.jsx("div",{className:"space-y-2 mt-2",children:p==null?void 0:p.map(i=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(d,{id:`question_${i.id}`,checked:r.custom_questions.includes(i.id),onCheckedChange:a=>{a?t("custom_questions",[...r.custom_questions,i.id]):t("custom_questions",r.custom_questions.filter(c=>c!==i.id)),N("")}}),e.jsxs(n,{htmlFor:`question_${i.id}`,className:"cursor-pointer",children:[i.question,i.is_required&&e.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]},i.id))}),e.jsx(o,{message:l.custom_questions||L})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(I,{type:"button",variant:"outline",onClick:F,children:s("Cancel")}),e.jsx(I,{type:"submit",disabled:S,children:s(S?"Creating...":"Create")})]})]})]})}export{ei as default};
