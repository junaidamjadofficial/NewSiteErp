import{j as s}from"./ui-ZHFf5B17.js";import{r as x}from"./vendor-CcMVubkO.js";import{X as N,G as b}from"./app-BBiA4mAE.js";import{L as p}from"./label-DbqhUtKI.js";import{I as d}from"./input-DqOfVTcn.js";import{I as c}from"./input-error-DuIbBMgZ.js";import{B as y}from"./button-DYC7yMVq.js";import{u as E}from"./useTranslation-CV4_gBnb.js";/* empty css            */import"./index-BMyiKApA.js";import"./utils-B-dksMZM.js";import"./utils-DrcJ8Itn.js";function q({className:j=""}){var m,u;const{t:r}=E(),{auth:_}=N().props,l=x.useRef(null),i=x.useRef(null),{data:e,setData:a,errors:t,put:g,reset:n,processing:v,recentlySuccessful:I}=b({current_password:"",password:"",password_confirmation:""}),C=o=>{o.preventDefault(),g(route("password.update"),{preserveScroll:!0,onSuccess:()=>n(),onError:w=>{var f,h;w.password&&(n("password","password_confirmation"),(f=l.current)==null||f.focus()),w.current_password&&(n("current_password"),(h=i.current)==null||h.focus())}})};return s.jsx("section",{className:j,children:s.jsxs("form",{onSubmit:C,className:"mt-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx(p,{htmlFor:"current_password",children:r("Current Password")}),s.jsx(d,{id:"current_password",ref:i,value:e.current_password,onChange:o=>a("current_password",o.target.value),type:"password",className:"mt-1 block w-full",placeholder:r("Enter current password"),autoComplete:"current-password"}),s.jsx(c,{message:t.current_password,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(p,{htmlFor:"password",children:r("New Password")}),s.jsx(d,{id:"password",ref:l,value:e.password,onChange:o=>a("password",o.target.value),type:"password",className:"mt-1 block w-full",placeholder:r("Enter new password"),autoComplete:"new-password"}),s.jsx(c,{message:t.password,className:"mt-2"})]}),s.jsxs("div",{children:[s.jsx(p,{htmlFor:"password_confirmation",children:r("Confirm Password")}),s.jsx(d,{id:"password_confirmation",value:e.password_confirmation,onChange:o=>a("password_confirmation",o.target.value),type:"password",className:"mt-1 block w-full",placeholder:r("Confirm new password"),autoComplete:"new-password"}),s.jsx(c,{message:t.password_confirmation,className:"mt-2"})]}),((u=(m=_.user)==null?void 0:m.permissions)==null?void 0:u.includes("change-password-profile"))&&s.jsx("div",{className:"flex items-center justify-end gap-4",children:s.jsx(y,{disabled:v,children:r("Save Changes")})})]})})}export{q as default};
