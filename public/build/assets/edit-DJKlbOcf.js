import{j as e}from"./ui-ZHFf5B17.js";import{r as g}from"./vendor-CcMVubkO.js";import{G as P}from"./app-BBiA4mAE.js";import{a as A,b as D,c as G}from"./dialog-BLwxprq_.js";import{B as q}from"./button-DYC7yMVq.js";import{I as o}from"./input-DqOfVTcn.js";import{T as H}from"./textarea-DxQ_BnuT.js";import{S as h,a as x,b as u,c as j,d as c}from"./select-BEhl2QER.js";import{L as d}from"./label-DbqhUtKI.js";import{I as l}from"./input-error-DuIbBMgZ.js";import{D as T}from"./date-picker-CVthJV3y.js";import{u as M}from"./useFormFields-BwNmEYJY.js";import{u as O}from"./useTranslation-CV4_gBnb.js";/* empty css            */import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";import"./index-BMyiKApA.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";import"./tooltip-C7wT1CW2.js";import"./radio-group-Bg6nc_Xb.js";import"./circle-bmoNtd-e.js";import"./slider-CIevYFX0.js";import"./sparkles-yKnt-shd.js";import"./switch-ByWYyd_6.js";import"./helpers-QYnGjXad.js";import"./index-Chjiymov.js";import"./index-8JwjhRSi.js";import"./badge-CV60sqBJ.js";function Ie({data:n,training:I,onSuccess:_,trainingTypes:N,trainers:V,branches:U,departments:v,users:m}){var C,F,y;const{t:r}=O(),[B,S]=g.useState(v||[]),[R,f]=g.useState(m||[]),{data:i,setData:s,put:L,processing:b,errors:a}=P({title:n.title,description:n.description||"",training_type_id:n.training_type_id.toString(),trainer_id:n.trainer_id.toString(),branch_id:n.branch_id.toString(),department_id:((C=n.department_id)==null?void 0:C.toString())||"",start_date:n.start_date,end_date:n.end_date,start_time:n.start_time?n.start_time.substring(0,5):"",end_time:n.end_time?n.end_time.substring(0,5):"",location:n.location||"",max_participants:((F=n.max_participants)==null?void 0:F.toString())||"",cost:((y=n.cost)==null?void 0:y.toString())||"",status:n.status}),w=M("aiField",i,s,a,"edit","description","Description","training","training"),k=t=>{t.preventDefault(),L(route("training.trainings.update",I.id),{onSuccess:()=>{_()}})};return g.useEffect(()=>{if(i.branch_id){const t=v.filter(p=>p.branch_id.toString()===i.branch_id);S(t),i.department_id&&!t.find(p=>p.id.toString()===i.department_id)&&s("department_id","")}else S([]),s("department_id","")},[i.branch_id]),g.useEffect(()=>{if(i.branch_id&&m){const t=m.filter(p=>{var E;return((E=p.branch_id)==null?void 0:E.toString())===i.branch_id});f(t)}else f(m||[])},[i.branch_id,m]),e.jsxs(A,{className:"sm:max-w-4xl",children:[e.jsx(D,{children:e.jsx(G,{children:r("Edit Training List")})}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(d,{htmlFor:"title",required:!0,children:r("Title")}),e.jsx(o,{id:"title",value:i.title,onChange:t=>s("title",t.target.value),placeholder:r("Enter training title"),required:!0}),e.jsx(l,{message:a.title})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"training_type_id",required:!0,children:r("Training Type")}),e.jsxs(h,{value:i.training_type_id,onValueChange:t=>s("training_type_id",t),children:[e.jsx(x,{children:e.jsx(u,{placeholder:r("Select training type")})}),e.jsx(j,{children:N.map(t=>e.jsx(c,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(l,{message:a.training_type_id})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"trainer_id",required:!0,children:r("Trainer")}),e.jsxs(h,{value:i.trainer_id,onValueChange:t=>s("trainer_id",t),children:[e.jsx(x,{children:e.jsx(u,{placeholder:r("Select trainer")})}),e.jsx(j,{children:V.map(t=>e.jsx(c,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(l,{message:a.trainer_id})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"status",required:!0,children:r("Status")}),e.jsxs(h,{value:i.status,onValueChange:t=>s("status",t),children:[e.jsx(x,{children:e.jsx(u,{placeholder:r("Select status")})}),e.jsxs(j,{children:[e.jsx(c,{value:"scheduled",children:r("Scheduled")}),e.jsx(c,{value:"ongoing",children:r("Ongoing")}),e.jsx(c,{value:"completed",children:r("Completed")}),e.jsx(c,{value:"cancelled",children:r("Cancelled")})]})]}),e.jsx(l,{message:a.status})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"branch_id",required:!0,children:r("Branch")}),e.jsxs(h,{value:i.branch_id,onValueChange:t=>s("branch_id",t),children:[e.jsx(x,{children:e.jsx(u,{placeholder:r("Select branch")})}),e.jsx(j,{children:U.map(t=>e.jsx(c,{value:t.id.toString(),children:t.branch_name},t.id))})]}),e.jsx(l,{message:a.branch_id})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"department_id",required:!0,children:r("Department")}),e.jsxs(h,{value:i.department_id,onValueChange:t=>s("department_id",t),disabled:!i.branch_id,children:[e.jsx(x,{children:e.jsx(u,{placeholder:i.branch_id?r("Select Department"):r("Select Branch first")})}),e.jsx(j,{children:B.map(t=>e.jsx(c,{value:t.id.toString(),children:t.department_name},t.id))})]}),e.jsx(l,{message:a.department_id})]}),e.jsxs("div",{children:[e.jsx(d,{required:!0,children:r("Start Date")}),e.jsx(T,{value:i.start_date,onChange:t=>s("start_date",t),placeholder:r("Select start date")}),e.jsx(l,{message:a.start_date})]}),e.jsxs("div",{children:[e.jsx(d,{required:!0,children:r("End Date")}),e.jsx(T,{value:i.end_date,onChange:t=>s("end_date",t),placeholder:r("Select end date")}),e.jsx(l,{message:a.end_date})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"start_time",required:!0,children:r("Start Time")}),e.jsx(o,{id:"start_time",type:"time",value:i.start_time,onChange:t=>s("start_time",t.target.value),required:!0}),e.jsx(l,{message:a.start_time})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"end_time",required:!0,children:r("End Time")}),e.jsx(o,{id:"end_time",type:"time",value:i.end_time,onChange:t=>s("end_time",t.target.value),required:!0}),e.jsx(l,{message:a.end_time})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"location",children:r("Location")}),e.jsx(o,{id:"location",value:i.location,onChange:t=>s("location",t.target.value),placeholder:r("Enter training location")}),e.jsx(l,{message:a.location})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"max_participants",children:r("Max Participants")}),e.jsx(o,{id:"max_participants",type:"number",value:i.max_participants,onChange:t=>s("max_participants",t.target.value),placeholder:r("Enter maximum participants"),min:"1"}),e.jsx(l,{message:a.max_participants})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(d,{htmlFor:"description",children:r("Description")}),e.jsx("div",{className:"flex gap-2",children:w.map(t=>e.jsx("div",{children:t.component},t.id))})]}),e.jsx(H,{id:"description",value:i.description,onChange:t=>s("description",t.target.value),placeholder:r("Enter training description"),rows:3}),e.jsx(l,{message:a.description})]}),e.jsxs("div",{children:[e.jsx(d,{htmlFor:"cost",children:r("Cost")}),e.jsx(o,{id:"cost",type:"number",step:"0.01",value:i.cost,onChange:t=>s("cost",t.target.value),placeholder:r("Enter training cost"),min:"0"}),e.jsx(l,{message:a.cost})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(q,{type:"button",variant:"outline",onClick:_,children:r("Cancel")}),e.jsx(q,{type:"submit",disabled:b,children:r(b?"Updating...":"Update")})]})]})]})}export{Ie as default};
