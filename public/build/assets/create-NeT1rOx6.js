import{j as e}from"./ui-ZHFf5B17.js";import{r as v}from"./vendor-CcMVubkO.js";import{G as I}from"./app-BBiA4mAE.js";import{a as N,b as V,c as B}from"./dialog-BLwxprq_.js";import{B as f}from"./button-DYC7yMVq.js";import{I as c}from"./input-DqOfVTcn.js";import{T as L}from"./textarea-DxQ_BnuT.js";import{S as o,a as m,b as p,c as h,d as l}from"./select-BEhl2QER.js";import{L as n}from"./label-DbqhUtKI.js";import{I as d}from"./input-error-DuIbBMgZ.js";import{D as S}from"./date-picker-CVthJV3y.js";import{u as w}from"./useFormFields-BwNmEYJY.js";import{u as k}from"./useTranslation-CV4_gBnb.js";/* empty css            */import"./utils-DrcJ8Itn.js";import"./utils-B-dksMZM.js";import"./x-DVK_F_Gh.js";import"./createLucideIcon-Dov4NOxw.js";import"./index-BMyiKApA.js";import"./index-BdQq_4o_.js";import"./index-BYFX2qNQ.js";import"./index-BZAHB8Ku.js";import"./chevron-down-Zr-tNTku.js";import"./search-Chs14P_a.js";import"./check-DUlQPeVG.js";import"./react-datepicker-BHcKmBHW.js";import"./popover-fYI5j510.js";import"./calendar-DvmJ2XsD.js";import"./tooltip-C7wT1CW2.js";import"./radio-group-Bg6nc_Xb.js";import"./circle-bmoNtd-e.js";import"./slider-CIevYFX0.js";import"./sparkles-yKnt-shd.js";import"./switch-ByWYyd_6.js";import"./helpers-QYnGjXad.js";import"./index-Chjiymov.js";import"./index-8JwjhRSi.js";import"./badge-CV60sqBJ.js";function Se({onSuccess:j,trainingTypes:b,trainers:C,branches:D,departments:x,users:F}){const{t:i}=k(),[y,g]=v.useState(x||[]),{data:r,setData:a,post:q,processing:_,errors:s}=I({title:"",description:"",training_type_id:"",trainer_id:"",branch_id:"",department_id:"",start_date:"",end_date:"",start_time:"",end_time:"",location:"",max_participants:"",cost:"",status:"scheduled"}),T=w("aiField",r,a,s,"create","description","Description","training","training"),E=t=>{t.preventDefault(),q(route("training.trainings.store"),{onSuccess:()=>{j()}})};return v.useEffect(()=>{if(r.branch_id&&x){const t=x.filter(u=>u.branch_id.toString()===r.branch_id);g(t),r.department_id&&!t.find(u=>u.id.toString()===r.department_id)&&a("department_id","")}else g([]),a("department_id","")},[r.branch_id,x,F]),e.jsxs(N,{className:"sm:max-w-4xl",children:[e.jsx(V,{children:e.jsx(B,{children:i("Create Training List")})}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{htmlFor:"title",required:!0,children:i("Title")}),e.jsx(c,{id:"title",value:r.title,onChange:t=>a("title",t.target.value),placeholder:i("Enter training title"),required:!0}),e.jsx(d,{message:s.title})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"training_type_id",required:!0,children:i("Training Type")}),e.jsxs(o,{value:r.training_type_id,onValueChange:t=>a("training_type_id",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:i("Select training type")})}),e.jsx(h,{children:b.map(t=>e.jsx(l,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(d,{message:s.training_type_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"trainer_id",required:!0,children:i("Trainer")}),e.jsxs(o,{value:r.trainer_id,onValueChange:t=>a("trainer_id",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:i("Select trainer")})}),e.jsx(h,{children:C.map(t=>e.jsx(l,{value:t.id.toString(),children:t.name},t.id))})]}),e.jsx(d,{message:s.trainer_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"status",required:!0,children:i("Status")}),e.jsxs(o,{value:r.status,onValueChange:t=>a("status",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:i("Select status")})}),e.jsxs(h,{children:[e.jsx(l,{value:"scheduled",children:i("Scheduled")}),e.jsx(l,{value:"ongoing",children:i("Ongoing")}),e.jsx(l,{value:"completed",children:i("Completed")}),e.jsx(l,{value:"cancelled",children:i("Cancelled")})]})]}),e.jsx(d,{message:s.status})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"branch_id",required:!0,children:i("Branch")}),e.jsxs(o,{value:r.branch_id,onValueChange:t=>a("branch_id",t),children:[e.jsx(m,{children:e.jsx(p,{placeholder:i("Select branch")})}),e.jsx(h,{children:D.map(t=>e.jsx(l,{value:t.id.toString(),children:t.branch_name},t.id))})]}),e.jsx(d,{message:s.branch_id})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"department_id",required:!0,children:i("Department")}),e.jsxs(o,{value:r.department_id,onValueChange:t=>a("department_id",t),disabled:!r.branch_id,children:[e.jsx(m,{children:e.jsx(p,{placeholder:r.branch_id?i("Select Department"):i("Select Branch first")})}),e.jsx(h,{children:y.map(t=>e.jsx(l,{value:t.id.toString(),children:t.department_name},t.id))})]}),e.jsx(d,{message:s.department_id})]}),e.jsxs("div",{children:[e.jsx(n,{required:!0,children:i("Start Date")}),e.jsx(S,{value:r.start_date,onChange:t=>a("start_date",t),placeholder:i("Select start date")}),e.jsx(d,{message:s.start_date})]}),e.jsxs("div",{children:[e.jsx(n,{required:!0,children:i("End Date")}),e.jsx(S,{value:r.end_date,onChange:t=>a("end_date",t),placeholder:i("Select end date")}),e.jsx(d,{message:s.end_date})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"start_time",required:!0,children:i("Start Time")}),e.jsx(c,{id:"start_time",type:"time",value:r.start_time,onChange:t=>a("start_time",t.target.value),required:!0}),e.jsx(d,{message:s.start_time})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"end_time",required:!0,children:i("End Time")}),e.jsx(c,{id:"end_time",type:"time",value:r.end_time,onChange:t=>a("end_time",t.target.value),required:!0}),e.jsx(d,{message:s.end_time})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"max_participants",children:i("Max Participants")}),e.jsx(c,{id:"max_participants",type:"number",value:r.max_participants,onChange:t=>a("max_participants",t.target.value),placeholder:i("Enter maximum participants"),min:"1"}),e.jsx(d,{message:s.max_participants})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"location",children:i("Location")}),e.jsx(c,{id:"location",value:r.location,onChange:t=>a("location",t.target.value),placeholder:i("Enter training location")}),e.jsx(d,{message:s.location})]})]}),e.jsxs("div",{children:[e.jsx(n,{htmlFor:"cost",children:i("Cost")}),e.jsx(c,{id:"cost",type:"number",step:"0.01",value:r.cost,onChange:t=>a("cost",t.target.value),placeholder:i("Enter training cost"),min:"0"}),e.jsx(d,{message:s.cost})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(n,{htmlFor:"description",children:i("Description")}),e.jsx("div",{className:"flex gap-2",children:T.map(t=>e.jsx("div",{children:t.component},t.id))})]}),e.jsx(L,{id:"description",value:r.description,onChange:t=>a("description",t.target.value),placeholder:i("Enter training description"),rows:3}),e.jsx(d,{message:s.description})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(f,{type:"button",variant:"outline",onClick:j,children:i("Cancel")}),e.jsx(f,{type:"submit",disabled:_,children:i(_?"Creating...":"Create")})]})]})]})}export{Se as default};
